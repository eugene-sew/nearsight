"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0";
exports.ids = ["vendor-chunks/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/HereKeyStore.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/HereKeyStore.js ***!
  \*********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereKeyStore = void 0;\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/.pnpm/near-api-js@3.0.4/node_modules/near-api-js/lib/utils/key_pair.js\");\nconst JSONStorage_1 = __webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/JSONStorage.js\");\nclass HereKeyStore {\n    constructor(storage = new JSONStorage_1.StateStorage()) {\n        this.storage = storage;\n    }\n    setActiveAccount(network, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            state.activeAccount = id;\n            this.storage.setState(network, state);\n        });\n    }\n    setKey(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            state.accounts[accountId] = keyPair.toString();\n            this.storage.setState(networkId, state);\n        });\n    }\n    getAccounts(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return Object.keys(state.accounts);\n        });\n    }\n    getActiveAccount(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return state.activeAccount;\n        });\n    }\n    getKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            const privateKey = state.accounts[accountId];\n            if (privateKey == null)\n                throw Error(`For ${accountId} in ${networkId} network key not found`);\n            const keyPair = key_pair_1.KeyPair.fromString(privateKey);\n            return keyPair;\n        });\n    }\n    removeKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getState(networkId);\n            if (state.activeAccount === accountId) {\n                state.activeAccount = null;\n            }\n            delete state.accounts[accountId];\n            this.storage.setState(networkId, state);\n        });\n    }\n    getNetworks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getFullState();\n            return Object.keys(state.accounts);\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.storage.clear();\n        });\n    }\n}\nexports.HereKeyStore = HereKeyStore;\n//# sourceMappingURL=HereKeyStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL0hlcmVLZXlTdG9yZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLG1CQUFtQixtQkFBTyxDQUFDLG1JQUFnQztBQUMzRCxzQkFBc0IsbUJBQU8sQ0FBQyxxSkFBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsV0FBVyxLQUFLLFdBQVc7QUFDOUQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjYuNl9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvSGVyZUtleVN0b3JlLmpzPzc3MGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSGVyZUtleVN0b3JlID0gdm9pZCAwO1xuY29uc3Qga2V5X3BhaXJfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvdXRpbHMva2V5X3BhaXJcIik7XG5jb25zdCBKU09OU3RvcmFnZV8xID0gcmVxdWlyZShcIi4vSlNPTlN0b3JhZ2VcIik7XG5jbGFzcyBIZXJlS2V5U3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHN0b3JhZ2UgPSBuZXcgSlNPTlN0b3JhZ2VfMS5TdGF0ZVN0b3JhZ2UoKSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICAgIH1cbiAgICBzZXRBY3RpdmVBY2NvdW50KG5ldHdvcmssIGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrKTtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUFjY291bnQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRTdGF0ZShuZXR3b3JrLCBzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRLZXkobmV0d29ya0lkLCBhY2NvdW50SWQsIGtleVBhaXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldFN0YXRlKG5ldHdvcmtJZCk7XG4gICAgICAgICAgICBzdGF0ZS5hY2NvdW50c1thY2NvdW50SWRdID0ga2V5UGFpci50b1N0cmluZygpO1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldFN0YXRlKG5ldHdvcmtJZCwgc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWNjb3VudHMobmV0d29yaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29yayk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUuYWNjb3VudHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWN0aXZlQWNjb3VudChuZXR3b3JrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrKTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5hY3RpdmVBY2NvdW50O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0S2V5KG5ldHdvcmtJZCwgYWNjb3VudElkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrSWQpO1xuICAgICAgICAgICAgY29uc3QgcHJpdmF0ZUtleSA9IHN0YXRlLmFjY291bnRzW2FjY291bnRJZF07XG4gICAgICAgICAgICBpZiAocHJpdmF0ZUtleSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBGb3IgJHthY2NvdW50SWR9IGluICR7bmV0d29ya0lkfSBuZXR3b3JrIGtleSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIGNvbnN0IGtleVBhaXIgPSBrZXlfcGFpcl8xLktleVBhaXIuZnJvbVN0cmluZyhwcml2YXRlS2V5KTtcbiAgICAgICAgICAgIHJldHVybiBrZXlQYWlyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlS2V5KG5ldHdvcmtJZCwgYWNjb3VudElkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29ya0lkKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hY3RpdmVBY2NvdW50ID09PSBhY2NvdW50SWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVBY2NvdW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5hY2NvdW50c1thY2NvdW50SWRdO1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldFN0YXRlKG5ldHdvcmtJZCwgc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV0d29ya3MoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0RnVsbFN0YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUuYWNjb3VudHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5IZXJlS2V5U3RvcmUgPSBIZXJlS2V5U3RvcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZXJlS2V5U3RvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/HereKeyStore.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/JSONStorage.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/JSONStorage.js ***!
  \********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StateStorage = void 0;\nconst here_provider_1 = __webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/index.js\");\nclass StateStorage {\n    constructor() {\n        this.dataKey = `herewallet:keystore`;\n        here_provider_1.waitInjectedHereWallet.then((injected) => {\n            if (!injected)\n                return;\n            this.setState(injected.network, {\n                accounts: { [injected.accountId]: injected.publicKey },\n                activeAccount: injected.accountId,\n            });\n        });\n    }\n    setState(network, state) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield here_provider_1.waitInjectedHereWallet;\n            const data = yield this.getFullState();\n            data[network] = state;\n            window.localStorage.setItem(this.dataKey, JSON.stringify(data));\n        });\n    }\n    getFullState() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield here_provider_1.waitInjectedHereWallet;\n            try {\n                return JSON.parse(window.localStorage.getItem(this.dataKey)) || {};\n            }\n            catch (_a) {\n                return {};\n            }\n        });\n    }\n    getState(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield here_provider_1.waitInjectedHereWallet;\n            const json = yield this.getFullState();\n            return json[network] || { activeAccount: null, accounts: {} };\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            window.localStorage.removeItem(this.dataKey);\n        });\n    }\n}\nexports.StateStorage = StateStorage;\n//# sourceMappingURL=JSONStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL0pTT05TdG9yYWdlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsd0JBQXdCLG1CQUFPLENBQUMsK0pBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBDQUEwQztBQUN0RTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL0pTT05TdG9yYWdlLmpzP2ZlYzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3RhdGVTdG9yYWdlID0gdm9pZCAwO1xuY29uc3QgaGVyZV9wcm92aWRlcl8xID0gcmVxdWlyZShcIi4vaGVyZS1wcm92aWRlclwiKTtcbmNsYXNzIFN0YXRlU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YUtleSA9IGBoZXJld2FsbGV0OmtleXN0b3JlYDtcbiAgICAgICAgaGVyZV9wcm92aWRlcl8xLndhaXRJbmplY3RlZEhlcmVXYWxsZXQudGhlbigoaW5qZWN0ZWQpID0+IHtcbiAgICAgICAgICAgIGlmICghaW5qZWN0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShpbmplY3RlZC5uZXR3b3JrLCB7XG4gICAgICAgICAgICAgICAgYWNjb3VudHM6IHsgW2luamVjdGVkLmFjY291bnRJZF06IGluamVjdGVkLnB1YmxpY0tleSB9LFxuICAgICAgICAgICAgICAgIGFjdGl2ZUFjY291bnQ6IGluamVjdGVkLmFjY291bnRJZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0U3RhdGUobmV0d29yaywgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIGhlcmVfcHJvdmlkZXJfMS53YWl0SW5qZWN0ZWRIZXJlV2FsbGV0O1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHRoaXMuZ2V0RnVsbFN0YXRlKCk7XG4gICAgICAgICAgICBkYXRhW25ldHdvcmtdID0gc3RhdGU7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5kYXRhS2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRGdWxsU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB5aWVsZCBoZXJlX3Byb3ZpZGVyXzEud2FpdEluamVjdGVkSGVyZVdhbGxldDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuZGF0YUtleSkpIHx8IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0U3RhdGUobmV0d29yaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgaGVyZV9wcm92aWRlcl8xLndhaXRJbmplY3RlZEhlcmVXYWxsZXQ7XG4gICAgICAgICAgICBjb25zdCBqc29uID0geWllbGQgdGhpcy5nZXRGdWxsU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBqc29uW25ldHdvcmtdIHx8IHsgYWN0aXZlQWNjb3VudDogbnVsbCwgYWNjb3VudHM6IHt9IH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmRhdGFLZXkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlN0YXRlU3RvcmFnZSA9IFN0YXRlU3RvcmFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUpTT05TdG9yYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/JSONStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WidgetStrategy.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WidgetStrategy.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WidgetStrategy = exports.defaultUrl = void 0;\nconst createIframe = (widget) => {\n    const connector = document.createElement(\"iframe\");\n    connector.src = widget;\n    connector.allow = \"usb\";\n    connector.style.border = \"none\";\n    connector.style.zIndex = \"10000\";\n    connector.style.position = \"fixed\";\n    connector.style.display = \"none\";\n    connector.style.top = \"0\";\n    connector.style.left = \"0\";\n    connector.style.width = \"100%\";\n    connector.style.height = \"100%\";\n    document.body.appendChild(connector);\n    return connector;\n};\nexports.defaultUrl = \"https://my.herewallet.app/connector/index.html\";\nclass WidgetStrategy {\n    constructor(options = { widget: exports.defaultUrl, lazy: false }) {\n        this.options = {\n            lazy: typeof options === \"object\" ? options.lazy || false : false,\n            widget: typeof options === \"string\" ? options : options.widget || exports.defaultUrl,\n        };\n        if (!this.options.lazy) {\n            this.initIframe();\n        }\n    }\n    initIframe() {\n        if (WidgetStrategy.connector == null) {\n            WidgetStrategy.connector = createIframe(this.options.widget);\n            WidgetStrategy.connector.addEventListener(\"load\", () => {\n                WidgetStrategy.isLoaded = true;\n            });\n        }\n        return WidgetStrategy.connector;\n    }\n    onRequested(id, request, reject) {\n        const iframe = this.initIframe();\n        iframe.style.display = \"block\";\n        const loadHandler = () => {\n            var _a, _b, _c;\n            (_a = WidgetStrategy.connector) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"load\", loadHandler);\n            (_c = (_b = WidgetStrategy.connector) === null || _b === void 0 ? void 0 : _b.contentWindow) === null || _c === void 0 ? void 0 : _c.postMessage(JSON.stringify({ type: \"request\", payload: { id, request } }), new URL(this.options.widget).origin);\n        };\n        if (WidgetStrategy.isLoaded)\n            loadHandler();\n        else\n            iframe.addEventListener(\"load\", loadHandler);\n        this.messageHandler = (event) => {\n            try {\n                if (event.origin !== new URL(this.options.widget).origin)\n                    return;\n                if (JSON.parse(event.data).type === \"reject\")\n                    reject();\n            }\n            catch (_a) { }\n        };\n        window.addEventListener(\"message\", this.messageHandler);\n    }\n    postMessage(data) {\n        var _a;\n        const iframe = this.initIframe();\n        const args = JSON.stringify(data);\n        const origin = new URL(this.options.widget).origin;\n        (_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage(args, origin);\n    }\n    onApproving() {\n        this.postMessage({ type: \"approving\" });\n    }\n    onSuccess(request) {\n        console.log(request);\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    onFailed(request) {\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    close() {\n        if (this.messageHandler) {\n            window.removeEventListener(\"message\", this.messageHandler);\n            this.messageHandler = undefined;\n        }\n        if (WidgetStrategy.connector) {\n            WidgetStrategy.connector.style.display = \"none\";\n        }\n    }\n}\nexports.WidgetStrategy = WidgetStrategy;\nWidgetStrategy.isLoaded = false;\n//# sourceMappingURL=WidgetStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL1dpZGdldFN0cmF0ZWd5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQixHQUFHLGtCQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSw0QkFBNEIseUNBQXlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhLQUE4Syw0QkFBNEIsZUFBZTtBQUN6TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUJBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwyQkFBMkIsV0FBVztBQUNqRTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCLFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJlLXdhbGxldCtjb3JlQDEuNi42X2JuLmpzQDUuMi4xX2JvcnNoQDAuNy4wL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9XaWRnZXRTdHJhdGVneS5qcz83NzExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XaWRnZXRTdHJhdGVneSA9IGV4cG9ydHMuZGVmYXVsdFVybCA9IHZvaWQgMDtcbmNvbnN0IGNyZWF0ZUlmcmFtZSA9ICh3aWRnZXQpID0+IHtcbiAgICBjb25zdCBjb25uZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgIGNvbm5lY3Rvci5zcmMgPSB3aWRnZXQ7XG4gICAgY29ubmVjdG9yLmFsbG93ID0gXCJ1c2JcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLnpJbmRleCA9IFwiMTAwMDBcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb25uZWN0b3IpO1xuICAgIHJldHVybiBjb25uZWN0b3I7XG59O1xuZXhwb3J0cy5kZWZhdWx0VXJsID0gXCJodHRwczovL215LmhlcmV3YWxsZXQuYXBwL2Nvbm5lY3Rvci9pbmRleC5odG1sXCI7XG5jbGFzcyBXaWRnZXRTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHsgd2lkZ2V0OiBleHBvcnRzLmRlZmF1bHRVcmwsIGxhenk6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgbGF6eTogdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmxhenkgfHwgZmFsc2UgOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZGdldDogdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgPyBvcHRpb25zIDogb3B0aW9ucy53aWRnZXQgfHwgZXhwb3J0cy5kZWZhdWx0VXJsLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5sYXp5KSB7XG4gICAgICAgICAgICB0aGlzLmluaXRJZnJhbWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0SWZyYW1lKCkge1xuICAgICAgICBpZiAoV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIFdpZGdldFN0cmF0ZWd5LmNvbm5lY3RvciA9IGNyZWF0ZUlmcmFtZSh0aGlzLm9wdGlvbnMud2lkZ2V0KTtcbiAgICAgICAgICAgIFdpZGdldFN0cmF0ZWd5LmNvbm5lY3Rvci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgV2lkZ2V0U3RyYXRlZ3kuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFdpZGdldFN0cmF0ZWd5LmNvbm5lY3RvcjtcbiAgICB9XG4gICAgb25SZXF1ZXN0ZWQoaWQsIHJlcXVlc3QsIHJlamVjdCkge1xuICAgICAgICBjb25zdCBpZnJhbWUgPSB0aGlzLmluaXRJZnJhbWUoKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGNvbnN0IGxvYWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAoX2EgPSBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkSGFuZGxlcik7XG4gICAgICAgICAgICAoX2MgPSAoX2IgPSBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jb250ZW50V2luZG93KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcInJlcXVlc3RcIiwgcGF5bG9hZDogeyBpZCwgcmVxdWVzdCB9IH0pLCBuZXcgVVJMKHRoaXMub3B0aW9ucy53aWRnZXQpLm9yaWdpbik7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChXaWRnZXRTdHJhdGVneS5pc0xvYWRlZClcbiAgICAgICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkSGFuZGxlcik7XG4gICAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gbmV3IFVSTCh0aGlzLm9wdGlvbnMud2lkZ2V0KS5vcmlnaW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoSlNPTi5wYXJzZShldmVudC5kYXRhKS50eXBlID09PSBcInJlamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLm1lc3NhZ2VIYW5kbGVyKTtcbiAgICB9XG4gICAgcG9zdE1lc3NhZ2UoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMuaW5pdElmcmFtZSgpO1xuICAgICAgICBjb25zdCBhcmdzID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IG5ldyBVUkwodGhpcy5vcHRpb25zLndpZGdldCkub3JpZ2luO1xuICAgICAgICAoX2EgPSBpZnJhbWUuY29udGVudFdpbmRvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvc3RNZXNzYWdlKGFyZ3MsIG9yaWdpbik7XG4gICAgfVxuICAgIG9uQXBwcm92aW5nKCkge1xuICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJhcHByb3ZpbmdcIiB9KTtcbiAgICB9XG4gICAgb25TdWNjZXNzKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdCk7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoeyB0eXBlOiBcInJlc3VsdFwiLCBwYXlsb2FkOiB7IHJlcXVlc3QgfSB9KTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBvbkZhaWxlZChyZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoeyB0eXBlOiBcInJlc3VsdFwiLCBwYXlsb2FkOiB7IHJlcXVlc3QgfSB9KTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubWVzc2FnZUhhbmRsZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLm1lc3NhZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFdpZGdldFN0cmF0ZWd5LmNvbm5lY3Rvcikge1xuICAgICAgICAgICAgV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuV2lkZ2V0U3RyYXRlZ3kgPSBXaWRnZXRTdHJhdGVneTtcbldpZGdldFN0cmF0ZWd5LmlzTG9hZGVkID0gZmFsc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XaWRnZXRTdHJhdGVneS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WidgetStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WindowStrategy.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WindowStrategy.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WindowStrategy = void 0;\nclass WindowStrategy {\n    constructor(endpoint = \"https://my.herewallet.app\") {\n        this.endpoint = endpoint;\n        this.signWindow = null;\n        this.onFailed = () => this.close();\n        this.onSuccess = () => this.close();\n    }\n    onInitialized() {\n        if (this.signWindow)\n            return;\n        const left = window.innerWidth / 2 - 420 / 2;\n        const top = window.innerHeight / 2 - 700 / 2;\n        this.signWindow = window.open(`${this.endpoint}/loading`, \"_blank\", `popup=1,width=420,height=700,top=${top},left=${left}`);\n    }\n    onRequested(id, request, reject) {\n        if (this.signWindow == null)\n            return;\n        this.unloadHandler = () => { var _a; return (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close(); };\n        window.addEventListener(\"beforeunload\", this.unloadHandler);\n        this.signWindow.location = `${this.endpoint}/request/${id}`;\n        this.timerHandler = setInterval(() => {\n            var _a;\n            if ((_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.closed)\n                reject(\"CLOSED\");\n        }, 1000);\n    }\n    close() {\n        var _a;\n        clearInterval(this.timerHandler);\n        (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close();\n        this.signWindow = null;\n        if (this.unloadHandler) {\n            window.removeEventListener(\"beforeunload\", this.unloadHandler);\n        }\n    }\n}\nexports.WindowStrategy = WindowStrategy;\n//# sourceMappingURL=WindowStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL1dpbmRvd1N0cmF0ZWd5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsY0FBYyx5REFBeUQsSUFBSSxRQUFRLEtBQUs7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsUUFBUTtBQUM3QztBQUNBLHNDQUFzQyxjQUFjLFdBQVcsR0FBRztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjYuNl9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvV2luZG93U3RyYXRlZ3kuanM/NDk3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2luZG93U3RyYXRlZ3kgPSB2b2lkIDA7XG5jbGFzcyBXaW5kb3dTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IoZW5kcG9pbnQgPSBcImh0dHBzOi8vbXkuaGVyZXdhbGxldC5hcHBcIikge1xuICAgICAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gICAgICAgIHRoaXMuc2lnbldpbmRvdyA9IG51bGw7XG4gICAgICAgIHRoaXMub25GYWlsZWQgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMub25TdWNjZXNzID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBvbkluaXRpYWxpemVkKCkge1xuICAgICAgICBpZiAodGhpcy5zaWduV2luZG93KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLyAyIC0gNDIwIC8gMjtcbiAgICAgICAgY29uc3QgdG9wID0gd2luZG93LmlubmVySGVpZ2h0IC8gMiAtIDcwMCAvIDI7XG4gICAgICAgIHRoaXMuc2lnbldpbmRvdyA9IHdpbmRvdy5vcGVuKGAke3RoaXMuZW5kcG9pbnR9L2xvYWRpbmdgLCBcIl9ibGFua1wiLCBgcG9wdXA9MSx3aWR0aD00MjAsaGVpZ2h0PTcwMCx0b3A9JHt0b3B9LGxlZnQ9JHtsZWZ0fWApO1xuICAgIH1cbiAgICBvblJlcXVlc3RlZChpZCwgcmVxdWVzdCwgcmVqZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLnNpZ25XaW5kb3cgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy51bmxvYWRIYW5kbGVyID0gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLnNpZ25XaW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpOyB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLnVubG9hZEhhbmRsZXIpO1xuICAgICAgICB0aGlzLnNpZ25XaW5kb3cubG9jYXRpb24gPSBgJHt0aGlzLmVuZHBvaW50fS9yZXF1ZXN0LyR7aWR9YDtcbiAgICAgICAgdGhpcy50aW1lckhhbmRsZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoKF9hID0gdGhpcy5zaWduV2luZG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2VkKVxuICAgICAgICAgICAgICAgIHJlamVjdChcIkNMT1NFRFwiKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lckhhbmRsZXIpO1xuICAgICAgICAoX2EgPSB0aGlzLnNpZ25XaW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpO1xuICAgICAgICB0aGlzLnNpZ25XaW5kb3cgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy51bmxvYWRIYW5kbGVyKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLnVubG9hZEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5XaW5kb3dTdHJhdGVneSA9IFdpbmRvd1N0cmF0ZWd5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2luZG93U3RyYXRlZ3kuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WindowStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/index.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/index.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createAction = exports.parseArgs = void 0;\nconst bn_js_1 = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js\");\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/.pnpm/near-api-js@3.0.4/node_modules/near-api-js/lib/index.js\");\nconst getAccessKey = (permission) => {\n    if (permission === \"FullAccess\") {\n        return near_api_js_1.transactions.fullAccessKey();\n    }\n    const { receiverId, methodNames = [] } = permission;\n    const allowance = permission.allowance ? new bn_js_1.BN(permission.allowance) : undefined;\n    return near_api_js_1.transactions.functionCallAccessKey(receiverId, methodNames, allowance);\n};\nconst parseArgs = (data) => {\n    if (typeof data === \"string\")\n        return Buffer.from(data, \"base64\");\n    return data;\n};\nexports.parseArgs = parseArgs;\nconst createAction = (action) => {\n    switch (action.type) {\n        case \"CreateAccount\":\n            return near_api_js_1.transactions.createAccount();\n        case \"DeployContract\": {\n            const { code } = action.params;\n            return near_api_js_1.transactions.deployContract(code);\n        }\n        case \"FunctionCall\": {\n            const { methodName, args, gas, deposit } = action.params;\n            return near_api_js_1.transactions.functionCall(methodName, (0, exports.parseArgs)(args), new bn_js_1.BN(gas), new bn_js_1.BN(deposit));\n        }\n        case \"Transfer\": {\n            const { deposit } = action.params;\n            return near_api_js_1.transactions.transfer(new bn_js_1.BN(deposit));\n        }\n        case \"Stake\": {\n            const { stake, publicKey } = action.params;\n            return near_api_js_1.transactions.stake(new bn_js_1.BN(stake), near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"AddKey\": {\n            const { publicKey, accessKey } = action.params;\n            return near_api_js_1.transactions.addKey(near_api_js_1.utils.PublicKey.from(publicKey), // TODO: Use accessKey.nonce? near-api-js seems to think 0 is fine?\n            getAccessKey(accessKey.permission));\n        }\n        case \"DeleteKey\": {\n            const { publicKey } = action.params;\n            return near_api_js_1.transactions.deleteKey(near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"DeleteAccount\": {\n            const { beneficiaryId } = action.params;\n            return near_api_js_1.transactions.deleteAccount(beneficiaryId);\n        }\n        default:\n            throw new Error(\"Invalid action type\");\n    }\n};\nexports.createAction = createAction;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2FjdGlvbnMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsaUJBQWlCO0FBQ3hDLGdCQUFnQixtQkFBTyxDQUFDLGtGQUFPO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLHVHQUFhO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQkFBK0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlDQUFpQztBQUNyRDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2FjdGlvbnMvaW5kZXguanM/NDBkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQWN0aW9uID0gZXhwb3J0cy5wYXJzZUFyZ3MgPSB2b2lkIDA7XG5jb25zdCBibl9qc18xID0gcmVxdWlyZShcImJuLmpzXCIpO1xuY29uc3QgbmVhcl9hcGlfanNfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qc1wiKTtcbmNvbnN0IGdldEFjY2Vzc0tleSA9IChwZXJtaXNzaW9uKSA9PiB7XG4gICAgaWYgKHBlcm1pc3Npb24gPT09IFwiRnVsbEFjY2Vzc1wiKSB7XG4gICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5mdWxsQWNjZXNzS2V5KCk7XG4gICAgfVxuICAgIGNvbnN0IHsgcmVjZWl2ZXJJZCwgbWV0aG9kTmFtZXMgPSBbXSB9ID0gcGVybWlzc2lvbjtcbiAgICBjb25zdCBhbGxvd2FuY2UgPSBwZXJtaXNzaW9uLmFsbG93YW5jZSA/IG5ldyBibl9qc18xLkJOKHBlcm1pc3Npb24uYWxsb3dhbmNlKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZnVuY3Rpb25DYWxsQWNjZXNzS2V5KHJlY2VpdmVySWQsIG1ldGhvZE5hbWVzLCBhbGxvd2FuY2UpO1xufTtcbmNvbnN0IHBhcnNlQXJncyA9IChkYXRhKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oZGF0YSwgXCJiYXNlNjRcIik7XG4gICAgcmV0dXJuIGRhdGE7XG59O1xuZXhwb3J0cy5wYXJzZUFyZ3MgPSBwYXJzZUFyZ3M7XG5jb25zdCBjcmVhdGVBY3Rpb24gPSAoYWN0aW9uKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwiQ3JlYXRlQWNjb3VudFwiOlxuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmNyZWF0ZUFjY291bnQoKTtcbiAgICAgICAgY2FzZSBcIkRlcGxveUNvbnRyYWN0XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29kZSB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5kZXBsb3lDb250cmFjdChjb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiRnVuY3Rpb25DYWxsXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kTmFtZSwgYXJncywgZ2FzLCBkZXBvc2l0IH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmZ1bmN0aW9uQ2FsbChtZXRob2ROYW1lLCAoMCwgZXhwb3J0cy5wYXJzZUFyZ3MpKGFyZ3MpLCBuZXcgYm5fanNfMS5CTihnYXMpLCBuZXcgYm5fanNfMS5CTihkZXBvc2l0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlRyYW5zZmVyXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVwb3NpdCB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy50cmFuc2ZlcihuZXcgYm5fanNfMS5CTihkZXBvc2l0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlN0YWtlXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3Rha2UsIHB1YmxpY0tleSB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5zdGFrZShuZXcgYm5fanNfMS5CTihzdGFrZSksIG5lYXJfYXBpX2pzXzEudXRpbHMuUHVibGljS2V5LmZyb20ocHVibGljS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkFkZEtleVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IHB1YmxpY0tleSwgYWNjZXNzS2V5IH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmFkZEtleShuZWFyX2FwaV9qc18xLnV0aWxzLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSksIC8vIFRPRE86IFVzZSBhY2Nlc3NLZXkubm9uY2U/IG5lYXItYXBpLWpzIHNlZW1zIHRvIHRoaW5rIDAgaXMgZmluZT9cbiAgICAgICAgICAgIGdldEFjY2Vzc0tleShhY2Nlc3NLZXkucGVybWlzc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJEZWxldGVLZXlcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBwdWJsaWNLZXkgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZGVsZXRlS2V5KG5lYXJfYXBpX2pzXzEudXRpbHMuUHVibGljS2V5LmZyb20ocHVibGljS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkRlbGV0ZUFjY291bnRcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBiZW5lZmljaWFyeUlkIH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmRlbGV0ZUFjY291bnQoYmVuZWZpY2lhcnlJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYWN0aW9uIHR5cGVcIik7XG4gICAgfVxufTtcbmV4cG9ydHMuY3JlYXRlQWN0aW9uID0gY3JlYXRlQWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/types.js":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/types.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2FjdGlvbnMvdHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJlLXdhbGxldCtjb3JlQDEuNi42X2JuLmpzQDUuMi4xX2JvcnNoQDAuNy4wL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9hY3Rpb25zL3R5cGVzLmpzPzEwZGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/index.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/index.js ***!
  \****************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.proxyProvider = exports.waitInjectedHereWallet = exports.getRequest = exports.proxyApi = exports.deleteRequest = exports.getResponse = exports.createRequest = void 0;\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/.pnpm/uuid4@2.0.3/node_modules/uuid4/index.mjs\"));\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/utils.js\");\nconst provider_1 = __webpack_require__(/*! ../provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/provider.js\");\nconst methods_1 = __webpack_require__(/*! ./methods */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/methods.js\");\nObject.defineProperty(exports, \"createRequest\", ({ enumerable: true, get: function () { return methods_1.createRequest; } }));\nObject.defineProperty(exports, \"getResponse\", ({ enumerable: true, get: function () { return methods_1.getResponse; } }));\nObject.defineProperty(exports, \"deleteRequest\", ({ enumerable: true, get: function () { return methods_1.deleteRequest; } }));\nObject.defineProperty(exports, \"proxyApi\", ({ enumerable: true, get: function () { return methods_1.proxyApi; } }));\nObject.defineProperty(exports, \"getRequest\", ({ enumerable: true, get: function () { return methods_1.getRequest; } }));\nexports.waitInjectedHereWallet = new Promise((resolve) => {\n    if (typeof window === \"undefined\")\n        return resolve(null);\n    if (window.self === window.top)\n        return resolve(null);\n    const handler = (e) => {\n        if (e.data.type !== \"here-wallet-injected\")\n            return;\n        window.parent.postMessage(\"here-sdk-init\", \"*\");\n        window.removeEventListener(\"message\", handler);\n        resolve({ accountId: e.data.accountId, publicKey: e.data.publicKey, network: e.data.network || \"mainnet\" });\n    };\n    window.addEventListener(\"message\", handler);\n    setTimeout(() => resolve(null), 2000);\n});\nconst proxyProvider = (conf) => __awaiter(void 0, void 0, void 0, function* () {\n    const isInjected = yield exports.waitInjectedHereWallet;\n    if (isInjected && typeof window !== \"undefined\") {\n        return new Promise((resolve) => {\n            const id = (0, uuid4_1.default)();\n            const handler = (e) => {\n                if (e.data.id !== id)\n                    return;\n                if (e.data.status === provider_1.HereProviderStatus.SUCCESS || e.data.status === provider_1.HereProviderStatus.FAILED) {\n                    window.removeEventListener(\"message\", handler);\n                    return resolve(e.data);\n                }\n            };\n            window.parent.postMessage(Object.assign(Object.assign({ $here: true }, conf.request), { id }), \"*\");\n            window.addEventListener(\"message\", handler);\n        });\n    }\n    let { strategy, request, disableCleanupRequest, id, signal } = conf, delegate = __rest(conf, [\"strategy\", \"request\", \"disableCleanupRequest\", \"id\", \"signal\"]);\n    if (id != null)\n        request = yield (0, methods_1.getRequest)(id, signal);\n    else\n        id = yield (0, methods_1.createRequest)(request, signal);\n    return new Promise((resolve, reject) => {\n        var _a, _b;\n        const socketApi = methods_1.proxyApi.replace(\"https\", \"wss\");\n        let fallbackHttpTimer = null;\n        let socket = null;\n        const clear = () => __awaiter(void 0, void 0, void 0, function* () {\n            fallbackHttpTimer = -1;\n            clearInterval(fallbackHttpTimer);\n            socket === null || socket === void 0 ? void 0 : socket.close();\n            if (disableCleanupRequest !== true) {\n                yield (0, methods_1.deleteRequest)(id);\n            }\n        });\n        const processApprove = (data) => {\n            var _a, _b, _c, _d, _e, _f;\n            switch (data.status) {\n                case provider_1.HereProviderStatus.APPROVING:\n                    (_a = delegate.onApproving) === null || _a === void 0 ? void 0 : _a.call(delegate, data);\n                    (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onApproving) === null || _b === void 0 ? void 0 : _b.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.FAILED:\n                    clear();\n                    reject(new provider_1.HereProviderError(data.payload));\n                    (_c = delegate.onFailed) === null || _c === void 0 ? void 0 : _c.call(delegate, data);\n                    (_d = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _d === void 0 ? void 0 : _d.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.SUCCESS:\n                    clear();\n                    resolve(data);\n                    (_e = delegate.onSuccess) === null || _e === void 0 ? void 0 : _e.call(delegate, data);\n                    (_f = strategy === null || strategy === void 0 ? void 0 : strategy.onSuccess) === null || _f === void 0 ? void 0 : _f.call(strategy, data);\n                    return;\n            }\n        };\n        const rejectAction = (payload) => {\n            var _a;\n            processApprove({\n                type: ((_a = request.selector) === null || _a === void 0 ? void 0 : _a.type) || \"local\",\n                status: provider_1.HereProviderStatus.FAILED,\n                payload,\n            });\n        };\n        (_a = delegate.onRequested) === null || _a === void 0 ? void 0 : _a.call(delegate, id, request, rejectAction);\n        (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onRequested) === null || _b === void 0 ? void 0 : _b.call(strategy, id, request, rejectAction);\n        signal === null || signal === void 0 ? void 0 : signal.addEventListener(\"abort\", () => rejectAction());\n        const setupTimer = () => {\n            if (fallbackHttpTimer === -1) {\n                return;\n            }\n            fallbackHttpTimer = setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n                var _a, _b, _c, _d;\n                try {\n                    const data = yield (0, methods_1.getResponse)(id);\n                    if (fallbackHttpTimer === -1)\n                        return;\n                    processApprove(data);\n                    setupTimer();\n                }\n                catch (e) {\n                    const status = provider_1.HereProviderStatus.FAILED;\n                    const error = e instanceof Error ? e : undefined;\n                    const payload = error === null || error === void 0 ? void 0 : error.message;\n                    clear();\n                    reject(new provider_1.HereProviderError(payload, error));\n                    (_a = delegate.onFailed) === null || _a === void 0 ? void 0 : _a.call(delegate, { type: ((_b = request.selector) === null || _b === void 0 ? void 0 : _b.type) || \"local\", status, payload });\n                    (_c = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _c === void 0 ? void 0 : _c.call(strategy, { type: ((_d = request.selector) === null || _d === void 0 ? void 0 : _d.type) || \"local\", status, payload });\n                }\n            }), 3000);\n        };\n        setupTimer();\n        // Mobile flow doesn't support cross tabs socket background process\n        if ((0, utils_1.isMobile)() === false) {\n            const endpoint = `${socketApi}/ws/${id}`;\n            socket = new WebSocket(endpoint);\n            socket.onmessage = (e) => {\n                if (e.data == null)\n                    return;\n                try {\n                    const data = JSON.parse(e.data);\n                    processApprove(data);\n                }\n                catch (_a) {\n                    // nope\n                }\n            };\n        }\n    });\n});\nexports.proxyProvider = proxyProvider;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2hlcmUtcHJvdmlkZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyw4QkFBOEIsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0IsR0FBRyxxQkFBcUIsR0FBRyxtQkFBbUIsR0FBRyxxQkFBcUI7QUFDcEssZ0NBQWdDLG1CQUFPLENBQUMsa0ZBQU87QUFDL0MsZ0JBQWdCLG1CQUFPLENBQUMsMElBQVU7QUFDbEMsbUJBQW1CLG1CQUFPLENBQUMsZ0pBQWE7QUFDeEMsa0JBQWtCLG1CQUFPLENBQUMsMkpBQVc7QUFDckMsaURBQWdELEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQzNILCtDQUE4QyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUN2SCxpREFBZ0QsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDM0gsNENBQTJDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ2pILDhDQUE2QyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUNySCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdHQUFnRztBQUNsSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsYUFBYSxtQkFBbUIsSUFBSTtBQUN4RztBQUNBLFNBQVM7QUFDVDtBQUNBLFVBQVUsdURBQXVEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHLDBHQUEwRztBQUNoTiwwSkFBMEosMEdBQTBHO0FBQ3BRO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsTUFBTSxHQUFHO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRCxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJlLXdhbGxldCtjb3JlQDEuNi42X2JuLmpzQDUuMi4xX2JvcnNoQDAuNy4wL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9oZXJlLXByb3ZpZGVyL2luZGV4LmpzP2QyM2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHJveHlQcm92aWRlciA9IGV4cG9ydHMud2FpdEluamVjdGVkSGVyZVdhbGxldCA9IGV4cG9ydHMuZ2V0UmVxdWVzdCA9IGV4cG9ydHMucHJveHlBcGkgPSBleHBvcnRzLmRlbGV0ZVJlcXVlc3QgPSBleHBvcnRzLmdldFJlc3BvbnNlID0gZXhwb3J0cy5jcmVhdGVSZXF1ZXN0ID0gdm9pZCAwO1xuY29uc3QgdXVpZDRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwidXVpZDRcIikpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNvbnN0IHByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi4vcHJvdmlkZXJcIik7XG5jb25zdCBtZXRob2RzXzEgPSByZXF1aXJlKFwiLi9tZXRob2RzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlUmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmNyZWF0ZVJlcXVlc3Q7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRSZXNwb25zZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmdldFJlc3BvbnNlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVsZXRlUmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmRlbGV0ZVJlcXVlc3Q7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwcm94eUFwaVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLnByb3h5QXBpOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0UmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmdldFJlcXVlc3Q7IH0gfSk7XG5leHBvcnRzLndhaXRJbmplY3RlZEhlcmVXYWxsZXQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICBpZiAod2luZG93LnNlbGYgPT09IHdpbmRvdy50b3ApXG4gICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpO1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoZSkgPT4ge1xuICAgICAgICBpZiAoZS5kYXRhLnR5cGUgIT09IFwiaGVyZS13YWxsZXQtaW5qZWN0ZWRcIilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShcImhlcmUtc2RrLWluaXRcIiwgXCIqXCIpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlcik7XG4gICAgICAgIHJlc29sdmUoeyBhY2NvdW50SWQ6IGUuZGF0YS5hY2NvdW50SWQsIHB1YmxpY0tleTogZS5kYXRhLnB1YmxpY0tleSwgbmV0d29yazogZS5kYXRhLm5ldHdvcmsgfHwgXCJtYWlubmV0XCIgfSk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlcik7XG4gICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKG51bGwpLCAyMDAwKTtcbn0pO1xuY29uc3QgcHJveHlQcm92aWRlciA9IChjb25mKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBpc0luamVjdGVkID0geWllbGQgZXhwb3J0cy53YWl0SW5qZWN0ZWRIZXJlV2FsbGV0O1xuICAgIGlmIChpc0luamVjdGVkICYmIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9ICgwLCB1dWlkNF8xLmRlZmF1bHQpKCk7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLmlkICE9PSBpZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChlLmRhdGEuc3RhdHVzID09PSBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5TVUNDRVNTIHx8IGUuZGF0YS5zdGF0dXMgPT09IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgJGhlcmU6IHRydWUgfSwgY29uZi5yZXF1ZXN0KSwgeyBpZCB9KSwgXCIqXCIpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHsgc3RyYXRlZ3ksIHJlcXVlc3QsIGRpc2FibGVDbGVhbnVwUmVxdWVzdCwgaWQsIHNpZ25hbCB9ID0gY29uZiwgZGVsZWdhdGUgPSBfX3Jlc3QoY29uZiwgW1wic3RyYXRlZ3lcIiwgXCJyZXF1ZXN0XCIsIFwiZGlzYWJsZUNsZWFudXBSZXF1ZXN0XCIsIFwiaWRcIiwgXCJzaWduYWxcIl0pO1xuICAgIGlmIChpZCAhPSBudWxsKVxuICAgICAgICByZXF1ZXN0ID0geWllbGQgKDAsIG1ldGhvZHNfMS5nZXRSZXF1ZXN0KShpZCwgc2lnbmFsKTtcbiAgICBlbHNlXG4gICAgICAgIGlkID0geWllbGQgKDAsIG1ldGhvZHNfMS5jcmVhdGVSZXF1ZXN0KShyZXF1ZXN0LCBzaWduYWwpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHNvY2tldEFwaSA9IG1ldGhvZHNfMS5wcm94eUFwaS5yZXBsYWNlKFwiaHR0cHNcIiwgXCJ3c3NcIik7XG4gICAgICAgIGxldCBmYWxsYmFja0h0dHBUaW1lciA9IG51bGw7XG4gICAgICAgIGxldCBzb2NrZXQgPSBudWxsO1xuICAgICAgICBjb25zdCBjbGVhciA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgZmFsbGJhY2tIdHRwVGltZXIgPSAtMTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmFsbGJhY2tIdHRwVGltZXIpO1xuICAgICAgICAgICAgc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZUNsZWFudXBSZXF1ZXN0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgKDAsIG1ldGhvZHNfMS5kZWxldGVSZXF1ZXN0KShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwcm9jZXNzQXBwcm92ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkFQUFJPVklORzpcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gZGVsZWdhdGUub25BcHByb3ZpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlbGVnYXRlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gc3RyYXRlZ3kgPT09IG51bGwgfHwgc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0cmF0ZWd5Lm9uQXBwcm92aW5nKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChzdHJhdGVneSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlIHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkZBSUxFRDpcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBwcm92aWRlcl8xLkhlcmVQcm92aWRlckVycm9yKGRhdGEucGF5bG9hZCkpO1xuICAgICAgICAgICAgICAgICAgICAoX2MgPSBkZWxlZ2F0ZS5vbkZhaWxlZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVsZWdhdGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAoX2QgPSBzdHJhdGVneSA9PT0gbnVsbCB8fCBzdHJhdGVneSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RyYXRlZ3kub25GYWlsZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKHN0cmF0ZWd5LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuU1VDQ0VTUzpcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgKF9lID0gZGVsZWdhdGUub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWxlZ2F0ZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIChfZiA9IHN0cmF0ZWd5ID09PSBudWxsIHx8IHN0cmF0ZWd5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHJhdGVneS5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKHN0cmF0ZWd5LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZWplY3RBY3Rpb24gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcHJvY2Vzc0FwcHJvdmUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICgoX2EgPSByZXF1ZXN0LnNlbGVjdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZSkgfHwgXCJsb2NhbFwiLFxuICAgICAgICAgICAgICAgIHN0YXR1czogcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuRkFJTEVELFxuICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgKF9hID0gZGVsZWdhdGUub25SZXF1ZXN0ZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlbGVnYXRlLCBpZCwgcmVxdWVzdCwgcmVqZWN0QWN0aW9uKTtcbiAgICAgICAgKF9iID0gc3RyYXRlZ3kgPT09IG51bGwgfHwgc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0cmF0ZWd5Lm9uUmVxdWVzdGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChzdHJhdGVneSwgaWQsIHJlcXVlc3QsIHJlamVjdEFjdGlvbik7XG4gICAgICAgIHNpZ25hbCA9PT0gbnVsbCB8fCBzaWduYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4gcmVqZWN0QWN0aW9uKCkpO1xuICAgICAgICBjb25zdCBzZXR1cFRpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrSHR0cFRpbWVyID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZhbGxiYWNrSHR0cFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkICgwLCBtZXRob2RzXzEuZ2V0UmVzcG9uc2UpKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrSHR0cFRpbWVyID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0FwcHJvdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHNldHVwVGltZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBwcm92aWRlcl8xLkhlcmVQcm92aWRlckVycm9yKHBheWxvYWQsIGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGRlbGVnYXRlLm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWxlZ2F0ZSwgeyB0eXBlOiAoKF9iID0gcmVxdWVzdC5zZWxlY3RvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnR5cGUpIHx8IFwibG9jYWxcIiwgc3RhdHVzLCBwYXlsb2FkIH0pO1xuICAgICAgICAgICAgICAgICAgICAoX2MgPSBzdHJhdGVneSA9PT0gbnVsbCB8fCBzdHJhdGVneSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RyYXRlZ3kub25GYWlsZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHN0cmF0ZWd5LCB7IHR5cGU6ICgoX2QgPSByZXF1ZXN0LnNlbGVjdG9yKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudHlwZSkgfHwgXCJsb2NhbFwiLCBzdGF0dXMsIHBheWxvYWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIDMwMDApO1xuICAgICAgICB9O1xuICAgICAgICBzZXR1cFRpbWVyKCk7XG4gICAgICAgIC8vIE1vYmlsZSBmbG93IGRvZXNuJ3Qgc3VwcG9ydCBjcm9zcyB0YWJzIHNvY2tldCBiYWNrZ3JvdW5kIHByb2Nlc3NcbiAgICAgICAgaWYgKCgwLCB1dGlsc18xLmlzTW9iaWxlKSgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHtzb2NrZXRBcGl9L3dzLyR7aWR9YDtcbiAgICAgICAgICAgIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoZW5kcG9pbnQpO1xuICAgICAgICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YSA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0FwcHJvdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3BlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5leHBvcnRzLnByb3h5UHJvdmlkZXIgPSBwcm94eVByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/methods.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/methods.js ***!
  \******************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createRequest = exports.deleteRequest = exports.getResponse = exports.getRequest = exports.proxyApi = void 0;\nconst sha1_1 = __importDefault(__webpack_require__(/*! sha1 */ \"(ssr)/./node_modules/.pnpm/sha1@1.1.1/node_modules/sha1/sha1.js\"));\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/.pnpm/uuid4@2.0.3/node_modules/uuid4/index.mjs\"));\nconst serialize_1 = __webpack_require__(/*! near-api-js/lib/utils/serialize */ \"(ssr)/./node_modules/.pnpm/near-api-js@3.0.4/node_modules/near-api-js/lib/utils/serialize.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/utils.js\");\nexports.proxyApi = \"https://h4n.app\";\nconst getRequest = (id, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}/request`, {\n        signal,\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    return JSON.parse(Buffer.from((0, serialize_1.base_decode)(data)).toString(\"utf8\"));\n});\nexports.getRequest = getRequest;\nconst getResponse = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    const res = yield fetch(`${exports.proxyApi}/${id}/response`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    const result = (_a = JSON.parse(data)) !== null && _a !== void 0 ? _a : {};\n    return Object.assign({ type: \"here\", public_key: \"\", account_id: \"\", payload: \"\", status: -1, path: \"\" }, result);\n});\nexports.getResponse = getResponse;\nconst deleteRequest = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"DELETE\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n});\nexports.deleteRequest = deleteRequest;\nconst createRequest = (request, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const query = (0, serialize_1.base_encode)(JSON.stringify(Object.assign(Object.assign({}, request), { _id: (0, uuid4_1.default)() })));\n    const hashsum = (0, sha1_1.default)(query);\n    const id = Buffer.from(hashsum, \"hex\").toString(\"base64\");\n    const urlsafe = id.replaceAll(\"/\", \"_\").replaceAll(\"-\", \"+\").slice(0, 13);\n    const res = yield fetch(`${exports.proxyApi}/${urlsafe}/request`, {\n        method: \"POST\",\n        signal,\n        body: JSON.stringify({\n            topic_id: (0, utils_1.getDeviceId)(),\n            data: query,\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    return urlsafe;\n});\nexports.createRequest = createRequest;\n//# sourceMappingURL=methods.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2hlcmUtcHJvdmlkZXIvbWV0aG9kcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0I7QUFDM0csK0JBQStCLG1CQUFPLENBQUMsNkVBQU07QUFDN0MsZ0NBQWdDLG1CQUFPLENBQUMsa0ZBQU87QUFDL0Msb0JBQW9CLG1CQUFPLENBQUMscUlBQWlDO0FBQzdELGdCQUFnQixtQkFBTyxDQUFDLDBJQUFVO0FBQ2xDLGdCQUFnQjtBQUNoQjtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxHQUFHO0FBQ3REO0FBQ0EsbUJBQW1CLG9DQUFvQztBQUN2RDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCLEdBQUcsR0FBRztBQUN0RCxtQkFBbUIsb0NBQW9DO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBLDJCQUEyQixpRkFBaUY7QUFDNUcsQ0FBQztBQUNELG1CQUFtQjtBQUNuQjtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxHQUFHO0FBQ3RELG1CQUFtQixvQ0FBb0M7QUFDdkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQjtBQUNBLDRGQUE0RixjQUFjLDZCQUE2QjtBQUN2STtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCLEdBQUcsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2hlcmUtcHJvdmlkZXIvbWV0aG9kcy5qcz85ZjlhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZVJlcXVlc3QgPSBleHBvcnRzLmRlbGV0ZVJlcXVlc3QgPSBleHBvcnRzLmdldFJlc3BvbnNlID0gZXhwb3J0cy5nZXRSZXF1ZXN0ID0gZXhwb3J0cy5wcm94eUFwaSA9IHZvaWQgMDtcbmNvbnN0IHNoYTFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic2hhMVwiKSk7XG5jb25zdCB1dWlkNF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ1dWlkNFwiKSk7XG5jb25zdCBzZXJpYWxpemVfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvdXRpbHMvc2VyaWFsaXplXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmV4cG9ydHMucHJveHlBcGkgPSBcImh0dHBzOi8vaDRuLmFwcFwiO1xuY29uc3QgZ2V0UmVxdWVzdCA9IChpZCwgc2lnbmFsKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChgJHtleHBvcnRzLnByb3h5QXBpfS8ke2lkfS9yZXF1ZXN0YCwge1xuICAgICAgICBzaWduYWwsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIH0pO1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKHlpZWxkIHJlcy50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCB7IGRhdGEgfSA9IHlpZWxkIHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoQnVmZmVyLmZyb20oKDAsIHNlcmlhbGl6ZV8xLmJhc2VfZGVjb2RlKShkYXRhKSkudG9TdHJpbmcoXCJ1dGY4XCIpKTtcbn0pO1xuZXhwb3J0cy5nZXRSZXF1ZXN0ID0gZ2V0UmVxdWVzdDtcbmNvbnN0IGdldFJlc3BvbnNlID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVzID0geWllbGQgZmV0Y2goYCR7ZXhwb3J0cy5wcm94eUFwaX0vJHtpZH0vcmVzcG9uc2VgLCB7XG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIH0pO1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKHlpZWxkIHJlcy50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCB7IGRhdGEgfSA9IHlpZWxkIHJlcy5qc29uKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gKF9hID0gSlNPTi5wYXJzZShkYXRhKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyB0eXBlOiBcImhlcmVcIiwgcHVibGljX2tleTogXCJcIiwgYWNjb3VudF9pZDogXCJcIiwgcGF5bG9hZDogXCJcIiwgc3RhdHVzOiAtMSwgcGF0aDogXCJcIiB9LCByZXN1bHQpO1xufSk7XG5leHBvcnRzLmdldFJlc3BvbnNlID0gZ2V0UmVzcG9uc2U7XG5jb25zdCBkZWxldGVSZXF1ZXN0ID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChgJHtleHBvcnRzLnByb3h5QXBpfS8ke2lkfWAsIHtcbiAgICAgICAgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoeWllbGQgcmVzLnRleHQoKSk7XG4gICAgfVxufSk7XG5leHBvcnRzLmRlbGV0ZVJlcXVlc3QgPSBkZWxldGVSZXF1ZXN0O1xuY29uc3QgY3JlYXRlUmVxdWVzdCA9IChyZXF1ZXN0LCBzaWduYWwpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gKDAsIHNlcmlhbGl6ZV8xLmJhc2VfZW5jb2RlKShKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlcXVlc3QpLCB7IF9pZDogKDAsIHV1aWQ0XzEuZGVmYXVsdCkoKSB9KSkpO1xuICAgIGNvbnN0IGhhc2hzdW0gPSAoMCwgc2hhMV8xLmRlZmF1bHQpKHF1ZXJ5KTtcbiAgICBjb25zdCBpZCA9IEJ1ZmZlci5mcm9tKGhhc2hzdW0sIFwiaGV4XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIGNvbnN0IHVybHNhZmUgPSBpZC5yZXBsYWNlQWxsKFwiL1wiLCBcIl9cIikucmVwbGFjZUFsbChcIi1cIiwgXCIrXCIpLnNsaWNlKDAsIDEzKTtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChgJHtleHBvcnRzLnByb3h5QXBpfS8ke3VybHNhZmV9L3JlcXVlc3RgLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIHNpZ25hbCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdG9waWNfaWQ6ICgwLCB1dGlsc18xLmdldERldmljZUlkKSgpLFxuICAgICAgICAgICAgZGF0YTogcXVlcnksXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBFcnJvcih5aWVsZCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybHNhZmU7XG59KTtcbmV4cG9ydHMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRob2RzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/methods.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/index.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/index.js ***!
  \**************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nvar wallet_1 = __webpack_require__(/*! ./wallet */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/wallet.js\");\nObject.defineProperty(exports, \"HereWallet\", ({ enumerable: true, get: function () { return wallet_1.HereWallet; } }));\n__exportStar(__webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/HereKeyStore.js\"), exports);\n__exportStar(__webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/JSONStorage.js\"), exports);\n__exportStar(__webpack_require__(/*! ./actions/types */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WidgetStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WindowStrategy */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WindowStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/provider.js\"), exports);\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/utils.js\"), exports);\n__exportStar(__webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsZUFBZSxtQkFBTyxDQUFDLDJJQUFVO0FBQ2pDLDhDQUE2QyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNwSCxhQUFhLG1CQUFPLENBQUMsbUpBQVc7QUFDaEMsYUFBYSxtQkFBTyxDQUFDLHVKQUFnQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMscUpBQWU7QUFDcEMsYUFBYSxtQkFBTyxDQUFDLHlKQUFpQjtBQUN0QyxhQUFhLG1CQUFPLENBQUMsMkpBQWtCO0FBQ3ZDLGFBQWEsbUJBQU8sQ0FBQywySkFBa0I7QUFDdkMsYUFBYSxtQkFBTyxDQUFDLCtJQUFZO0FBQ2pDLGFBQWEsbUJBQU8sQ0FBQyx5SUFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMseUlBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLCtKQUFpQjtBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2luZGV4LmpzPzY0NWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSGVyZVdhbGxldCA9IHZvaWQgMDtcbnZhciB3YWxsZXRfMSA9IHJlcXVpcmUoXCIuL3dhbGxldFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkhlcmVXYWxsZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdhbGxldF8xLkhlcmVXYWxsZXQ7IH0gfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYWN0aW9uc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSGVyZUtleVN0b3JlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9KU09OU3RvcmFnZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYWN0aW9ucy90eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vV2lkZ2V0U3RyYXRlZ3lcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1dpbmRvd1N0cmF0ZWd5XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9wcm92aWRlclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V0aWxzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9oZXJlLXByb3ZpZGVyXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/nep0314.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/nep0314.js ***!
  \****************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifySignature = exports.authPayloadSchema = exports.AuthPayload = void 0;\nconst borsh = __importStar(__webpack_require__(/*! borsh */ \"(ssr)/./node_modules/.pnpm/borsh@0.7.0/node_modules/borsh/lib/index.js\"));\nconst js_sha256_1 = __importDefault(__webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/.pnpm/js-sha256@0.9.0/node_modules/js-sha256/src/sha256.js\"));\nconst utils_1 = __webpack_require__(/*! near-api-js/lib/utils */ \"(ssr)/./node_modules/.pnpm/near-api-js@3.0.4/node_modules/near-api-js/lib/utils/index.js\");\nclass AuthPayload {\n    constructor({ message, nonce, recipient, callbackUrl }) {\n        this.tag = 2147484061;\n        this.message = message;\n        this.nonce = nonce;\n        this.recipient = recipient;\n        if (callbackUrl) {\n            this.callbackUrl = callbackUrl;\n        }\n    }\n}\nexports.AuthPayload = AuthPayload;\nexports.authPayloadSchema = {\n    struct: {\n        tag: \"u32\",\n        message: \"string\",\n        nonce: { array: { type: \"u8\", len: 32 } },\n        recipient: \"string\",\n        callbackUrl: { option: \"string\" },\n    },\n};\nfunction verifySignature(request, result) {\n    // Reconstruct the payload that was **actually signed**\n    const payload = new AuthPayload(request);\n    const borsh_payload = borsh.serialize(exports.authPayloadSchema, payload);\n    const to_sign = Uint8Array.from(js_sha256_1.default.sha256.array(borsh_payload));\n    // Reconstruct the signature from the parameter given in the URL\n    let real_signature = new Uint8Array(Buffer.from(result.signature, \"base64\"));\n    // Use the public Key to verify that the private-counterpart signed the message\n    const myPK = utils_1.PublicKey.from(result.publicKey);\n    return myPK.verify(to_sign, real_signature);\n}\nexports.verifySignature = verifySignature;\n//# sourceMappingURL=nep0314.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL25lcDAzMTQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLHlCQUF5QixHQUFHLG1CQUFtQjtBQUN6RSwyQkFBMkIsbUJBQU8sQ0FBQyxxRkFBTztBQUMxQyxvQ0FBb0MsbUJBQU8sQ0FBQyxrR0FBVztBQUN2RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1SEFBdUI7QUFDL0M7QUFDQSxrQkFBa0Isd0NBQXdDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVMsdUJBQXVCO0FBQ2pEO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjYuNl9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvbmVwMDMxNC5qcz82YTQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZlcmlmeVNpZ25hdHVyZSA9IGV4cG9ydHMuYXV0aFBheWxvYWRTY2hlbWEgPSBleHBvcnRzLkF1dGhQYXlsb2FkID0gdm9pZCAwO1xuY29uc3QgYm9yc2ggPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcImJvcnNoXCIpKTtcbmNvbnN0IGpzX3NoYTI1Nl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJqcy1zaGEyNTZcIikpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvdXRpbHNcIik7XG5jbGFzcyBBdXRoUGF5bG9hZCB7XG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlLCBub25jZSwgcmVjaXBpZW50LCBjYWxsYmFja1VybCB9KSB7XG4gICAgICAgIHRoaXMudGFnID0gMjE0NzQ4NDA2MTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5ub25jZSA9IG5vbmNlO1xuICAgICAgICB0aGlzLnJlY2lwaWVudCA9IHJlY2lwaWVudDtcbiAgICAgICAgaWYgKGNhbGxiYWNrVXJsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrVXJsID0gY2FsbGJhY2tVcmw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkF1dGhQYXlsb2FkID0gQXV0aFBheWxvYWQ7XG5leHBvcnRzLmF1dGhQYXlsb2FkU2NoZW1hID0ge1xuICAgIHN0cnVjdDoge1xuICAgICAgICB0YWc6IFwidTMyXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwic3RyaW5nXCIsXG4gICAgICAgIG5vbmNlOiB7IGFycmF5OiB7IHR5cGU6IFwidThcIiwgbGVuOiAzMiB9IH0sXG4gICAgICAgIHJlY2lwaWVudDogXCJzdHJpbmdcIixcbiAgICAgICAgY2FsbGJhY2tVcmw6IHsgb3B0aW9uOiBcInN0cmluZ1wiIH0sXG4gICAgfSxcbn07XG5mdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmUocmVxdWVzdCwgcmVzdWx0KSB7XG4gICAgLy8gUmVjb25zdHJ1Y3QgdGhlIHBheWxvYWQgdGhhdCB3YXMgKiphY3R1YWxseSBzaWduZWQqKlxuICAgIGNvbnN0IHBheWxvYWQgPSBuZXcgQXV0aFBheWxvYWQocmVxdWVzdCk7XG4gICAgY29uc3QgYm9yc2hfcGF5bG9hZCA9IGJvcnNoLnNlcmlhbGl6ZShleHBvcnRzLmF1dGhQYXlsb2FkU2NoZW1hLCBwYXlsb2FkKTtcbiAgICBjb25zdCB0b19zaWduID0gVWludDhBcnJheS5mcm9tKGpzX3NoYTI1Nl8xLmRlZmF1bHQuc2hhMjU2LmFycmF5KGJvcnNoX3BheWxvYWQpKTtcbiAgICAvLyBSZWNvbnN0cnVjdCB0aGUgc2lnbmF0dXJlIGZyb20gdGhlIHBhcmFtZXRlciBnaXZlbiBpbiB0aGUgVVJMXG4gICAgbGV0IHJlYWxfc2lnbmF0dXJlID0gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20ocmVzdWx0LnNpZ25hdHVyZSwgXCJiYXNlNjRcIikpO1xuICAgIC8vIFVzZSB0aGUgcHVibGljIEtleSB0byB2ZXJpZnkgdGhhdCB0aGUgcHJpdmF0ZS1jb3VudGVycGFydCBzaWduZWQgdGhlIG1lc3NhZ2VcbiAgICBjb25zdCBteVBLID0gdXRpbHNfMS5QdWJsaWNLZXkuZnJvbShyZXN1bHQucHVibGljS2V5KTtcbiAgICByZXR1cm4gbXlQSy52ZXJpZnkodG9fc2lnbiwgcmVhbF9zaWduYXR1cmUpO1xufVxuZXhwb3J0cy52ZXJpZnlTaWduYXR1cmUgPSB2ZXJpZnlTaWduYXR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXAwMzE0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/nep0314.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/provider.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/provider.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereProviderError = exports.HereProviderStatus = void 0;\nvar HereProviderStatus;\n(function (HereProviderStatus) {\n    HereProviderStatus[HereProviderStatus[\"APPROVING\"] = 1] = \"APPROVING\";\n    HereProviderStatus[HereProviderStatus[\"FAILED\"] = 2] = \"FAILED\";\n    HereProviderStatus[HereProviderStatus[\"SUCCESS\"] = 3] = \"SUCCESS\";\n})(HereProviderStatus = exports.HereProviderStatus || (exports.HereProviderStatus = {}));\nclass HereProviderError extends Error {\n    constructor(payload, parentError) {\n        super(payload !== null && payload !== void 0 ? payload : parentError === null || parentError === void 0 ? void 0 : parentError.message);\n        this.payload = payload;\n        this.parentError = parentError;\n    }\n}\nexports.HereProviderError = HereProviderError;\n//# sourceMappingURL=provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3Byb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QixHQUFHLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzREFBc0QsMEJBQTBCLEtBQUs7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJlLXdhbGxldCtjb3JlQDEuNi42X2JuLmpzQDUuMi4xX2JvcnNoQDAuNy4wL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9wcm92aWRlci5qcz8zOTBhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IZXJlUHJvdmlkZXJFcnJvciA9IGV4cG9ydHMuSGVyZVByb3ZpZGVyU3RhdHVzID0gdm9pZCAwO1xudmFyIEhlcmVQcm92aWRlclN0YXR1cztcbihmdW5jdGlvbiAoSGVyZVByb3ZpZGVyU3RhdHVzKSB7XG4gICAgSGVyZVByb3ZpZGVyU3RhdHVzW0hlcmVQcm92aWRlclN0YXR1c1tcIkFQUFJPVklOR1wiXSA9IDFdID0gXCJBUFBST1ZJTkdcIjtcbiAgICBIZXJlUHJvdmlkZXJTdGF0dXNbSGVyZVByb3ZpZGVyU3RhdHVzW1wiRkFJTEVEXCJdID0gMl0gPSBcIkZBSUxFRFwiO1xuICAgIEhlcmVQcm92aWRlclN0YXR1c1tIZXJlUHJvdmlkZXJTdGF0dXNbXCJTVUNDRVNTXCJdID0gM10gPSBcIlNVQ0NFU1NcIjtcbn0pKEhlcmVQcm92aWRlclN0YXR1cyA9IGV4cG9ydHMuSGVyZVByb3ZpZGVyU3RhdHVzIHx8IChleHBvcnRzLkhlcmVQcm92aWRlclN0YXR1cyA9IHt9KSk7XG5jbGFzcyBIZXJlUHJvdmlkZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYXlsb2FkLCBwYXJlbnRFcnJvcikge1xuICAgICAgICBzdXBlcihwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCA/IHBheWxvYWQgOiBwYXJlbnRFcnJvciA9PT0gbnVsbCB8fCBwYXJlbnRFcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50RXJyb3IubWVzc2FnZSk7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIHRoaXMucGFyZW50RXJyb3IgPSBwYXJlbnRFcnJvcjtcbiAgICB9XG59XG5leHBvcnRzLkhlcmVQcm92aWRlckVycm9yID0gSGVyZVByb3ZpZGVyRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm92aWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/types.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/types.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3R5cGVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjYuNl9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdHlwZXMuanM/OGQ3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/utils.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/utils.js ***!
  \**************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isValidAccessKey = exports.internalThrow = exports.getPublicKeys = exports.serializeActions = exports.isMobile = exports.getDeviceId = void 0;\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/.pnpm/uuid4@2.0.3/node_modules/uuid4/index.mjs\"));\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/provider.js\");\nconst getDeviceId = () => {\n    const topicId = window.localStorage.getItem(\"herewallet-topic\") || (0, uuid4_1.default)();\n    window.localStorage.setItem(\"herewallet-topic\", topicId);\n    return topicId;\n};\nexports.getDeviceId = getDeviceId;\nconst isMobile = () => {\n    return window.matchMedia(\"(any-pointer:coarse)\").matches;\n};\nexports.isMobile = isMobile;\nconst serializeActions = (actions) => {\n    return actions.map((act) => {\n        if (act.type !== \"FunctionCall\")\n            return act;\n        let { args, deposit, gas, methodName } = act.params;\n        if (ArrayBuffer.isView(args)) {\n            args = Buffer.from(args.buffer, args.byteOffset, args.byteLength);\n        }\n        if (args instanceof Buffer) {\n            args = args.toString(\"base64\");\n        }\n        return {\n            type: act.type,\n            params: { args, deposit, gas, methodName },\n        };\n    });\n};\nexports.serializeActions = serializeActions;\nconst getPublicKeys = (rpc, accountId) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(rpc, {\n        method: \"POST\",\n        body: JSON.stringify({\n            jsonrpc: \"2.0\",\n            id: \"dontcare\",\n            method: \"query\",\n            params: {\n                request_type: \"view_access_key_list\",\n                finality: \"final\",\n                account_id: accountId,\n            },\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        return [];\n    }\n    const data = yield res.json();\n    return data.result.keys;\n});\nexports.getPublicKeys = getPublicKeys;\nconst internalThrow = (error, delegate) => {\n    var _a, _b, _c, _d, _e;\n    if (error instanceof provider_1.HereProviderError) {\n        throw error;\n    }\n    const result = {\n        payload: error instanceof Error ? error.message : \"UNKNOWN\",\n        status: provider_1.HereProviderStatus.FAILED,\n        type: ((_a = delegate.selector) === null || _a === void 0 ? void 0 : _a.type) || \"local\",\n        account_id: ((_b = delegate.selector) === null || _b === void 0 ? void 0 : _b.id) || \"\",\n    };\n    (_c = delegate.onFailed) === null || _c === void 0 ? void 0 : _c.call(delegate, result);\n    (_e = (_d = delegate === null || delegate === void 0 ? void 0 : delegate.strategy) === null || _d === void 0 ? void 0 : _d.onFailed) === null || _e === void 0 ? void 0 : _e.call(_d, result);\n    throw error;\n};\nexports.internalThrow = internalThrow;\nconst isValidAccessKey = (accountId, accessKey, call) => {\n    const { permission } = accessKey.access_key;\n    if (permission === \"FullAccess\") {\n        return true;\n    }\n    if (permission.FunctionCall) {\n        const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\n        /********************************\n        Accept multisig access keys and let wallets attempt to signAndSendTransaction\n        If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\n        ********************************/\n        if (allowedReceiverId === accountId && allowedMethods.includes(\"add_request_and_confirm\")) {\n            return true;\n        }\n        if (allowedReceiverId === call.receiverId) {\n            if (call.actions.length !== 1)\n                return false;\n            return call.actions.every((action) => {\n                if (action.type !== \"FunctionCall\")\n                    return false;\n                return ((!action.params.deposit || action.params.deposit.toString() === \"0\") &&\n                    (allowedMethods.length === 0 || allowedMethods.includes(action.params.methodName)));\n            });\n        }\n    }\n    return false;\n};\nexports.isValidAccessKey = isValidAccessKey;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QixHQUFHLHFCQUFxQixHQUFHLHFCQUFxQixHQUFHLHdCQUF3QixHQUFHLGdCQUFnQixHQUFHLG1CQUFtQjtBQUM1SSxnQ0FBZ0MsbUJBQU8sQ0FBQyxrRkFBTztBQUMvQyxtQkFBbUIsbUJBQU8sQ0FBQywrSUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUNBQWlDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0NBQWdDO0FBQ3REO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrREFBK0Q7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjYuNl9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdXRpbHMuanM/YzAyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1ZhbGlkQWNjZXNzS2V5ID0gZXhwb3J0cy5pbnRlcm5hbFRocm93ID0gZXhwb3J0cy5nZXRQdWJsaWNLZXlzID0gZXhwb3J0cy5zZXJpYWxpemVBY3Rpb25zID0gZXhwb3J0cy5pc01vYmlsZSA9IGV4cG9ydHMuZ2V0RGV2aWNlSWQgPSB2b2lkIDA7XG5jb25zdCB1dWlkNF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ1dWlkNFwiKSk7XG5jb25zdCBwcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJcIik7XG5jb25zdCBnZXREZXZpY2VJZCA9ICgpID0+IHtcbiAgICBjb25zdCB0b3BpY0lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaGVyZXdhbGxldC10b3BpY1wiKSB8fCAoMCwgdXVpZDRfMS5kZWZhdWx0KSgpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImhlcmV3YWxsZXQtdG9waWNcIiwgdG9waWNJZCk7XG4gICAgcmV0dXJuIHRvcGljSWQ7XG59O1xuZXhwb3J0cy5nZXREZXZpY2VJZCA9IGdldERldmljZUlkO1xuY29uc3QgaXNNb2JpbGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKGFueS1wb2ludGVyOmNvYXJzZSlcIikubWF0Y2hlcztcbn07XG5leHBvcnRzLmlzTW9iaWxlID0gaXNNb2JpbGU7XG5jb25zdCBzZXJpYWxpemVBY3Rpb25zID0gKGFjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gYWN0aW9ucy5tYXAoKGFjdCkgPT4ge1xuICAgICAgICBpZiAoYWN0LnR5cGUgIT09IFwiRnVuY3Rpb25DYWxsXCIpXG4gICAgICAgICAgICByZXR1cm4gYWN0O1xuICAgICAgICBsZXQgeyBhcmdzLCBkZXBvc2l0LCBnYXMsIG1ldGhvZE5hbWUgfSA9IGFjdC5wYXJhbXM7XG4gICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYXJncykpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBCdWZmZXIuZnJvbShhcmdzLmJ1ZmZlciwgYXJncy5ieXRlT2Zmc2V0LCBhcmdzLmJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgICAgICBhcmdzID0gYXJncy50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogYWN0LnR5cGUsXG4gICAgICAgICAgICBwYXJhbXM6IHsgYXJncywgZGVwb3NpdCwgZ2FzLCBtZXRob2ROYW1lIH0sXG4gICAgICAgIH07XG4gICAgfSk7XG59O1xuZXhwb3J0cy5zZXJpYWxpemVBY3Rpb25zID0gc2VyaWFsaXplQWN0aW9ucztcbmNvbnN0IGdldFB1YmxpY0tleXMgPSAocnBjLCBhY2NvdW50SWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHJlcyA9IHlpZWxkIGZldGNoKHJwYywge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgICAgaWQ6IFwiZG9udGNhcmVcIixcbiAgICAgICAgICAgIG1ldGhvZDogXCJxdWVyeVwiLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdF90eXBlOiBcInZpZXdfYWNjZXNzX2tleV9saXN0XCIsXG4gICAgICAgICAgICAgICAgZmluYWxpdHk6IFwiZmluYWxcIixcbiAgICAgICAgICAgICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0geWllbGQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4gZGF0YS5yZXN1bHQua2V5cztcbn0pO1xuZXhwb3J0cy5nZXRQdWJsaWNLZXlzID0gZ2V0UHVibGljS2V5cztcbmNvbnN0IGludGVybmFsVGhyb3cgPSAoZXJyb3IsIGRlbGVnYXRlKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBwcm92aWRlcl8xLkhlcmVQcm92aWRlckVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHBheWxvYWQ6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVTktOT1dOXCIsXG4gICAgICAgIHN0YXR1czogcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuRkFJTEVELFxuICAgICAgICB0eXBlOiAoKF9hID0gZGVsZWdhdGUuc2VsZWN0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlKSB8fCBcImxvY2FsXCIsXG4gICAgICAgIGFjY291bnRfaWQ6ICgoX2IgPSBkZWxlZ2F0ZS5zZWxlY3RvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmlkKSB8fCBcIlwiLFxuICAgIH07XG4gICAgKF9jID0gZGVsZWdhdGUub25GYWlsZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlbGVnYXRlLCByZXN1bHQpO1xuICAgIChfZSA9IChfZCA9IGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChfZCwgcmVzdWx0KTtcbiAgICB0aHJvdyBlcnJvcjtcbn07XG5leHBvcnRzLmludGVybmFsVGhyb3cgPSBpbnRlcm5hbFRocm93O1xuY29uc3QgaXNWYWxpZEFjY2Vzc0tleSA9IChhY2NvdW50SWQsIGFjY2Vzc0tleSwgY2FsbCkgPT4ge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvbiB9ID0gYWNjZXNzS2V5LmFjY2Vzc19rZXk7XG4gICAgaWYgKHBlcm1pc3Npb24gPT09IFwiRnVsbEFjY2Vzc1wiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocGVybWlzc2lvbi5GdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgY29uc3QgeyByZWNlaXZlcl9pZDogYWxsb3dlZFJlY2VpdmVySWQsIG1ldGhvZF9uYW1lczogYWxsb3dlZE1ldGhvZHMgfSA9IHBlcm1pc3Npb24uRnVuY3Rpb25DYWxsO1xuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgQWNjZXB0IG11bHRpc2lnIGFjY2VzcyBrZXlzIGFuZCBsZXQgd2FsbGV0cyBhdHRlbXB0IHRvIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb25cbiAgICAgICAgSWYgYW4gYWNjZXNzIGtleSBoYXMgaXRzZWxmIGFzIHJlY2VpdmVySWQgYW5kIG1ldGhvZCBwZXJtaXNzaW9uIGFkZF9yZXF1ZXN0X2FuZF9jb25maXJtLCB0aGVuIGl0IGlzIGJlaW5nIHVzZWQgaW4gYSB3YWxsZXQgd2l0aCBtdWx0aXNpZyBjb250cmFjdDogaHR0cHM6Ly9naXRodWIuY29tL25lYXIvY29yZS1jb250cmFjdHMvYmxvYi82NzFjMDVmMDlhYmVjYWJlN2E3ZTU4ZWZlOTQyNTUwYTM1ZmMzMjkyL211bHRpc2lnL3NyYy9saWIucnMjTDE0OS1MMTUzXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICBpZiAoYWxsb3dlZFJlY2VpdmVySWQgPT09IGFjY291bnRJZCAmJiBhbGxvd2VkTWV0aG9kcy5pbmNsdWRlcyhcImFkZF9yZXF1ZXN0X2FuZF9jb25maXJtXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsb3dlZFJlY2VpdmVySWQgPT09IGNhbGwucmVjZWl2ZXJJZCkge1xuICAgICAgICAgICAgaWYgKGNhbGwuYWN0aW9ucy5sZW5ndGggIT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGwuYWN0aW9ucy5ldmVyeSgoYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlICE9PSBcIkZ1bmN0aW9uQ2FsbFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgoIWFjdGlvbi5wYXJhbXMuZGVwb3NpdCB8fCBhY3Rpb24ucGFyYW1zLmRlcG9zaXQudG9TdHJpbmcoKSA9PT0gXCIwXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIChhbGxvd2VkTWV0aG9kcy5sZW5ndGggPT09IDAgfHwgYWxsb3dlZE1ldGhvZHMuaW5jbHVkZXMoYWN0aW9uLnBhcmFtcy5tZXRob2ROYW1lKSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmV4cG9ydHMuaXNWYWxpZEFjY2Vzc0tleSA9IGlzVmFsaWRBY2Nlc3NLZXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/wallet.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/wallet.js ***!
  \***************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/.pnpm/near-api-js@3.0.4/node_modules/near-api-js/lib/index.js\");\nconst providers_1 = __webpack_require__(/*! near-api-js/lib/providers */ \"(ssr)/./node_modules/.pnpm/near-api-js@3.0.4/node_modules/near-api-js/lib/providers/index.js\");\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/.pnpm/near-api-js@3.0.4/node_modules/near-api-js/lib/utils/key_pair.js\");\nconst js_sha256_1 = __webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/.pnpm/js-sha256@0.9.0/node_modules/js-sha256/src/sha256.js\");\nconst crypto_1 = __webpack_require__(/*! crypto */ \"crypto\");\nconst bn_js_1 = __importDefault(__webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js\"));\nconst HereKeyStore_1 = __webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/HereKeyStore.js\");\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/provider.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/utils.js\");\nconst here_provider_1 = __webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/here-provider/index.js\");\nconst actions_1 = __webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/actions/index.js\");\nconst WidgetStrategy_1 = __webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/WidgetStrategy.js\");\nconst nep0314_1 = __webpack_require__(/*! ./nep0314 */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/nep0314.js\");\nclass AccessDenied extends Error {\n}\nclass HereWallet {\n    constructor({ nodeUrl, networkId = \"mainnet\", authStorage = new HereKeyStore_1.HereKeyStore(), defaultStrategy = () => new WidgetStrategy_1.WidgetStrategy(), defaultProvider = here_provider_1.proxyProvider, } = {}) {\n        this.authStorage = authStorage;\n        this.defaultProvider = defaultProvider;\n        this.defaultStrategy = defaultStrategy;\n        const signer = new near_api_js_1.InMemorySigner(this.authStorage);\n        const rpc = new providers_1.JsonRpcProvider({ url: nodeUrl !== null && nodeUrl !== void 0 ? nodeUrl : `https://rpc.${networkId}.near.org` });\n        this.connection = near_api_js_1.Connection.fromConfig({\n            jsvmAccountId: `jsvm.${networkId}`,\n            provider: rpc,\n            networkId,\n            signer,\n        });\n    }\n    get rpc() {\n        return this.connection.provider;\n    }\n    get signer() {\n        return this.connection.signer;\n    }\n    get networkId() {\n        return this.connection.networkId;\n    }\n    account(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = id !== null && id !== void 0 ? id : (yield this.authStorage.getActiveAccount(this.networkId));\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            return new near_api_js_1.Account(this.connection, accountId);\n        });\n    }\n    isSignedIn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = yield this.authStorage.getActiveAccount(this.networkId);\n            return id != null;\n        });\n    }\n    signOut() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new Error(\"Wallet not signed in\");\n            const key = yield this.authStorage.getKey(this.networkId, accountId);\n            if (key != null) {\n                const publicKey = key.getPublicKey().toString();\n                yield this.silentSignAndSendTransaction({\n                    receiverId: accountId,\n                    actions: [{ type: \"DeleteKey\", params: { publicKey } }],\n                }).catch(() => { });\n            }\n            yield this.authStorage.removeKey(this.networkId, accountId);\n        });\n    }\n    getHereBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const contractId = this.networkId === \"mainnet\" ? \"here.storage.near\" : \"here.storage.testnet\";\n            const hereCoins = yield account\n                .viewFunction({\n                args: { account_id: account.accountId },\n                methodName: \"ft_balance_of\",\n                contractId,\n            })\n                .catch(() => \"0\");\n            return new bn_js_1.default(hereCoins);\n        });\n    }\n    getAvailableBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const result = yield account.getAccountBalance();\n            const hereBalance = yield this.getHereBalance();\n            return new bn_js_1.default(result.available).add(new bn_js_1.default(hereBalance));\n        });\n    }\n    getAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.authStorage.getAccounts(this.networkId);\n        });\n    }\n    getAccountId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new Error(\"Wallet not signed in\");\n            return accountId;\n        });\n    }\n    switchAccount(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const key = yield this.authStorage.getKey(this.networkId, id);\n            if (key == null)\n                throw new Error(`Account ${id} not signed in`);\n            yield this.authStorage.setActiveAccount(this.networkId, id);\n        });\n    }\n    signIn(_a = {}) {\n        var _b, _c, _d, _e, _f;\n        var { contractId, allowance, methodNames = [], selector } = _a, delegate = __rest(_a, [\"contractId\", \"allowance\", \"methodNames\", \"selector\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (contractId == null) {\n                const { accountId } = yield this.authenticate(delegate);\n                // Generate random keypair\n                yield this.authStorage.setKey(this.networkId, accountId, key_pair_1.KeyPairEd25519.fromRandom());\n                yield this.authStorage.setActiveAccount(this.networkId, accountId);\n                return accountId;\n            }\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            try {\n                const accessKey = near_api_js_1.KeyPair.fromRandom(\"ed25519\");\n                const permission = { receiverId: contractId, methodNames, allowance };\n                const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                        type: \"call\",\n                        network: this.networkId,\n                        selector: selector || {},\n                        transactions: [\n                            {\n                                actions: [\n                                    {\n                                        type: \"AddKey\",\n                                        params: {\n                                            publicKey: accessKey.getPublicKey().toString(),\n                                            accessKey: { permission },\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    } }));\n                if (data.account_id == null) {\n                    throw Error(\"Transaction is failed\");\n                }\n                yield this.authStorage.setKey(this.networkId, data.account_id, accessKey);\n                yield this.authStorage.setActiveAccount(this.networkId, data.account_id);\n                return data.account_id;\n            }\n            catch (error) {\n                (0, utils_1.internalThrow)(error, delegate);\n                throw error;\n            }\n        });\n    }\n    silentSignAndSendTransaction({ actions, receiverId, signerId }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(signerId);\n            const localKey = yield this.authStorage.getKey(this.networkId, account.accountId).catch(() => null);\n            if (localKey == null)\n                throw new AccessDenied();\n            const publicKey = localKey.getPublicKey();\n            const accessKeys = yield account.getAccessKeys();\n            const call = { receiverId, actions };\n            const isValid = accessKeys.some((v) => {\n                if (v.public_key !== publicKey.toString())\n                    return false;\n                return (0, utils_1.isValidAccessKey)(account.accountId, v, call);\n            });\n            if (isValid === false)\n                throw new AccessDenied();\n            return yield account.signAndSendTransaction({\n                actions: actions.map((a) => (0, actions_1.createAction)(a)),\n                receiverId: receiverId !== null && receiverId !== void 0 ? receiverId : account.accountId,\n            });\n        });\n    }\n    signAndSendTransaction(opts) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { signerId, receiverId, actions } = opts, args = __rest(opts, [\"signerId\", \"receiverId\", \"actions\"]);\n            const delegate = args;\n            delegate.strategy = (_a = delegate.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            delegate.provider = (_b = delegate.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = delegate.onInitialized) === null || _c === void 0 ? void 0 : _c.call(delegate);\n            (_e = (_d = delegate.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            try {\n                const result = yield this.silentSignAndSendTransaction({ receiverId, actions, signerId });\n                const success = { type: \"local\", status: provider_1.HereProviderStatus.SUCCESS, payload: result === null || result === void 0 ? void 0 : result.transaction_outcome.id };\n                (_f = delegate.onSuccess) === null || _f === void 0 ? void 0 : _f.call(delegate, success);\n                (_h = (_g = delegate.strategy) === null || _g === void 0 ? void 0 : _g.onSuccess) === null || _h === void 0 ? void 0 : _h.call(_g, success);\n                return result;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return AccessDenied or NotEnoughAllowance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const activeAccount = yield this.getAccountId().catch(() => undefined);\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            network: this.networkId,\n                            transactions: [{ actions: (0, utils_1.serializeActions)(actions), receiverId, signerId }],\n                            selector: opts.selector || { id: signerId || activeAccount },\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    return yield this.rpc.txStatus(data.payload, data.account_id);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n    verifyMessageNEP0413(request, result) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isSignatureValid = (0, nep0314_1.verifySignature)(request, result);\n            if (!isSignatureValid)\n                throw Error(\"Incorrect signature\");\n            const account = yield this.account(result.accountId);\n            const keys = yield account.getAccessKeys();\n            const isFullAccess = keys.some((k) => {\n                if (k.public_key !== result.publicKey)\n                    return false;\n                if (k.access_key.permission !== \"FullAccess\")\n                    return false;\n                return true;\n            });\n            if (!isFullAccess)\n                throw Error(\"Signer public key is not full access\");\n            return true;\n        });\n    }\n    authenticate(options = {}) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const signRequest = {\n                nonce: (_a = options.nonce) !== null && _a !== void 0 ? _a : (0, crypto_1.randomBytes)(32),\n                recipient: (_b = options.recipient) !== null && _b !== void 0 ? _b : window.location.host,\n                message: (_c = options.message) !== null && _c !== void 0 ? _c : \"Authenticate\",\n            };\n            const signed = yield this.signMessage(Object.assign(Object.assign({}, signRequest), options));\n            yield this.verifyMessageNEP0413(signRequest, signed);\n            return signed;\n        });\n    }\n    signMessage(options) {\n        var _a, _b, _c, _d, _e;\n        return __awaiter(this, void 0, void 0, function* () {\n            options.strategy = (_a = options.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            options.provider = (_b = options.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = options.onInitialized) === null || _c === void 0 ? void 0 : _c.call(options);\n            (_e = (_d = options.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            // Legacy format with receiver property, does not correspond to the current version of the standard\n            if (\"receiver\" in options)\n                return yield this.legacySignMessage(options);\n            const activeAccount = yield this.getAccountId().catch(() => undefined);\n            const data = yield options.provider(Object.assign(Object.assign({}, options), { request: {\n                    type: \"sign\",\n                    message: options.message,\n                    recipient: options.recipient,\n                    nonce: Array.from(options.nonce),\n                    network: this.networkId,\n                    selector: options.selector || { id: activeAccount },\n                } }));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null)\n                throw Error(\"Signature not found\");\n            const { publicKey, signature, accountId } = JSON.parse(data.payload);\n            return { publicKey, signature, accountId };\n        });\n    }\n    legacySignMessage(_a) {\n        var _b;\n        var { message, receiver, nonce, selector } = _a, delegate = __rest(_a, [\"message\", \"receiver\", \"nonce\", \"selector\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (nonce == null) {\n                let nonceArray = new Uint8Array(32);\n                nonce = [...crypto.getRandomValues(nonceArray)];\n            }\n            const activeAccount = yield this.getAccountId().catch(() => undefined);\n            const data = yield ((_b = delegate.provider) === null || _b === void 0 ? void 0 : _b.call(delegate, Object.assign(Object.assign({}, delegate), { request: {\n                    type: \"sign\",\n                    network: this.networkId,\n                    selector: selector || { id: activeAccount },\n                    message,\n                    receiver,\n                    nonce,\n                } })));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null) {\n                throw Error(\"Signature not found\");\n            }\n            try {\n                const { publicKey, signature, accountId } = JSON.parse(data.payload);\n                const sign = new Uint8Array(Buffer.from(signature, \"base64\"));\n                const json = JSON.stringify({ message, receiver, nonce });\n                const msg = new Uint8Array(js_sha256_1.sha256.digest(`NEP0413:` + json));\n                const isVerify = key_pair_1.PublicKey.from(publicKey).verify(msg, sign);\n                if (isVerify === false)\n                    throw Error();\n                const account = yield this.account(accountId);\n                const keys = yield account.getAccessKeys();\n                const pb = publicKey.toString();\n                const isValid = keys.some((k) => {\n                    if (k.public_key !== pb)\n                        return false;\n                    if (k.access_key.permission !== \"FullAccess\")\n                        return false;\n                    return true;\n                });\n                if (isValid === false)\n                    throw Error();\n                return {\n                    signature: new Uint8Array(Buffer.from(signature, \"base64\")),\n                    publicKey: key_pair_1.PublicKey.from(publicKey),\n                    message: `NEP0413:` + json,\n                    receiver,\n                    accountId,\n                    nonce,\n                };\n            }\n            catch (_c) {\n                throw Error(\"Signature not correct\");\n            }\n        });\n    }\n    signAndSendTransactions(_a) {\n        var _b, _c, _d, _e, _f, _g, _h, _j;\n        var { transactions, selector } = _a, delegate = __rest(_a, [\"transactions\", \"selector\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            let results = [];\n            try {\n                for (const call of transactions) {\n                    const r = yield this.silentSignAndSendTransaction(call);\n                    results.push(r);\n                }\n                const payload = results.map((result) => result.transaction_outcome.id).join(\",\");\n                const success = { type: \"local\", status: provider_1.HereProviderStatus.SUCCESS, payload };\n                (_g = delegate.onSuccess) === null || _g === void 0 ? void 0 : _g.call(delegate, success);\n                (_j = (_h = delegate.strategy) === null || _h === void 0 ? void 0 : _h.onSuccess) === null || _j === void 0 ? void 0 : _j.call(_h, success);\n                return results;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return access denied or not enough balance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const activeAccount = yield this.getAccountId().catch(() => undefined);\n                    const uncompleted = transactions.slice(results.length);\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            network: this.networkId,\n                            selector: selector || { id: uncompleted[0].signerId || activeAccount },\n                            transactions: uncompleted.map((trx) => (Object.assign(Object.assign({}, trx), { actions: (0, utils_1.serializeActions)(trx.actions) }))),\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    const promises = data.payload.split(\",\").map((id) => this.rpc.txStatus(id, data.account_id));\n                    return yield Promise.all(promises);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n}\nexports.HereWallet = HereWallet;\n//# sourceMappingURL=wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3dhbGxldC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixzQkFBc0IsbUJBQU8sQ0FBQyx1R0FBYTtBQUMzQyxvQkFBb0IsbUJBQU8sQ0FBQywrSEFBMkI7QUFDdkQsbUJBQW1CLG1CQUFPLENBQUMsbUlBQWdDO0FBQzNELG9CQUFvQixtQkFBTyxDQUFDLGtHQUFXO0FBQ3ZDLGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDLGdDQUFnQyxtQkFBTyxDQUFDLGtGQUFPO0FBQy9DLHVCQUF1QixtQkFBTyxDQUFDLHVKQUFnQjtBQUMvQyxtQkFBbUIsbUJBQU8sQ0FBQywrSUFBWTtBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyx5SUFBUztBQUNqQyx3QkFBd0IsbUJBQU8sQ0FBQywrSkFBaUI7QUFDakQsa0JBQWtCLG1CQUFPLENBQUMsbUpBQVc7QUFDckMseUJBQXlCLG1CQUFPLENBQUMsMkpBQWtCO0FBQ25ELGtCQUFrQixtQkFBTyxDQUFDLDZJQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtTUFBbU0sSUFBSTtBQUN6TjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx1RUFBdUUsVUFBVSxZQUFZO0FBQ25KO0FBQ0EsbUNBQW1DLFVBQVU7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw2QkFBNkIsYUFBYTtBQUMxRSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0JBQStCO0FBQ3ZEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLElBQUk7QUFDL0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxjQUFjLG9EQUFvRDtBQUNsRTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxtRkFBbUYsZUFBZTtBQUNsRztBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELFlBQVk7QUFDckUseUNBQXlDO0FBQ3pDLHFDQUFxQztBQUNyQztBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsbUNBQW1DLCtCQUErQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQ0FBZ0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLCtCQUErQjtBQUN4RyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsZUFBZTtBQUN0RztBQUNBO0FBQ0EsNkNBQTZDLHVFQUF1RTtBQUNwSCx5REFBeUQsK0JBQStCO0FBQ3hGLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxjQUFjO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsbUJBQW1CO0FBQ3ZFLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0Esb0JBQW9CLGtDQUFrQztBQUN0RCxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWMscUNBQXFDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSxlQUFlO0FBQzdKO0FBQ0E7QUFDQSw0Q0FBNEMsbUJBQW1CO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrQ0FBa0M7QUFDMUQ7QUFDQSw4Q0FBOEMsMEJBQTBCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5QkFBeUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsZUFBZTtBQUN0RztBQUNBO0FBQ0Esb0RBQW9ELDhDQUE4QztBQUNsRyxrR0FBa0csVUFBVSxxREFBcUQ7QUFDakssMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS42LjZfYm4uanNANS4yLjFfYm9yc2hAMC43LjAvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3dhbGxldC5qcz8xZmJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlcmVXYWxsZXQgPSB2b2lkIDA7XG5jb25zdCBuZWFyX2FwaV9qc18xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzXCIpO1xuY29uc3QgcHJvdmlkZXJzXzEgPSByZXF1aXJlKFwibmVhci1hcGktanMvbGliL3Byb3ZpZGVyc1wiKTtcbmNvbnN0IGtleV9wYWlyXzEgPSByZXF1aXJlKFwibmVhci1hcGktanMvbGliL3V0aWxzL2tleV9wYWlyXCIpO1xuY29uc3QganNfc2hhMjU2XzEgPSByZXF1aXJlKFwianMtc2hhMjU2XCIpO1xuY29uc3QgY3J5cHRvXzEgPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuY29uc3QgYm5fanNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiYm4uanNcIikpO1xuY29uc3QgSGVyZUtleVN0b3JlXzEgPSByZXF1aXJlKFwiLi9IZXJlS2V5U3RvcmVcIik7XG5jb25zdCBwcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBoZXJlX3Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9oZXJlLXByb3ZpZGVyXCIpO1xuY29uc3QgYWN0aW9uc18xID0gcmVxdWlyZShcIi4vYWN0aW9uc1wiKTtcbmNvbnN0IFdpZGdldFN0cmF0ZWd5XzEgPSByZXF1aXJlKFwiLi9XaWRnZXRTdHJhdGVneVwiKTtcbmNvbnN0IG5lcDAzMTRfMSA9IHJlcXVpcmUoXCIuL25lcDAzMTRcIik7XG5jbGFzcyBBY2Nlc3NEZW5pZWQgZXh0ZW5kcyBFcnJvciB7XG59XG5jbGFzcyBIZXJlV2FsbGV0IHtcbiAgICBjb25zdHJ1Y3Rvcih7IG5vZGVVcmwsIG5ldHdvcmtJZCA9IFwibWFpbm5ldFwiLCBhdXRoU3RvcmFnZSA9IG5ldyBIZXJlS2V5U3RvcmVfMS5IZXJlS2V5U3RvcmUoKSwgZGVmYXVsdFN0cmF0ZWd5ID0gKCkgPT4gbmV3IFdpZGdldFN0cmF0ZWd5XzEuV2lkZ2V0U3RyYXRlZ3koKSwgZGVmYXVsdFByb3ZpZGVyID0gaGVyZV9wcm92aWRlcl8xLnByb3h5UHJvdmlkZXIsIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmF1dGhTdG9yYWdlID0gYXV0aFN0b3JhZ2U7XG4gICAgICAgIHRoaXMuZGVmYXVsdFByb3ZpZGVyID0gZGVmYXVsdFByb3ZpZGVyO1xuICAgICAgICB0aGlzLmRlZmF1bHRTdHJhdGVneSA9IGRlZmF1bHRTdHJhdGVneTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IG5lYXJfYXBpX2pzXzEuSW5NZW1vcnlTaWduZXIodGhpcy5hdXRoU3RvcmFnZSk7XG4gICAgICAgIGNvbnN0IHJwYyA9IG5ldyBwcm92aWRlcnNfMS5Kc29uUnBjUHJvdmlkZXIoeyB1cmw6IG5vZGVVcmwgIT09IG51bGwgJiYgbm9kZVVybCAhPT0gdm9pZCAwID8gbm9kZVVybCA6IGBodHRwczovL3JwYy4ke25ldHdvcmtJZH0ubmVhci5vcmdgIH0pO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBuZWFyX2FwaV9qc18xLkNvbm5lY3Rpb24uZnJvbUNvbmZpZyh7XG4gICAgICAgICAgICBqc3ZtQWNjb3VudElkOiBganN2bS4ke25ldHdvcmtJZH1gLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHJwYyxcbiAgICAgICAgICAgIG5ldHdvcmtJZCxcbiAgICAgICAgICAgIHNpZ25lcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBycGMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24ucHJvdmlkZXI7XG4gICAgfVxuICAgIGdldCBzaWduZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uc2lnbmVyO1xuICAgIH1cbiAgICBnZXQgbmV0d29ya0lkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLm5ldHdvcmtJZDtcbiAgICB9XG4gICAgYWNjb3VudChpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudElkID0gaWQgIT09IG51bGwgJiYgaWQgIT09IHZvaWQgMCA/IGlkIDogKHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCkpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRJZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoXCJXYWxsZXQgbm90IHNpZ25lZCBpblwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmVhcl9hcGlfanNfMS5BY2NvdW50KHRoaXMuY29ubmVjdGlvbiwgYWNjb3VudElkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlzU2lnbmVkSW4oKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCk7XG4gICAgICAgICAgICByZXR1cm4gaWQgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpZ25PdXQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50SWQgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRJZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldhbGxldCBub3Qgc2lnbmVkIGluXCIpO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRLZXkodGhpcy5uZXR3b3JrSWQsIGFjY291bnRJZCk7XG4gICAgICAgICAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSBrZXkuZ2V0UHVibGljS2V5KCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnNpbGVudFNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICByZWNlaXZlcklkOiBhY2NvdW50SWQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7IHR5cGU6IFwiRGVsZXRlS2V5XCIsIHBhcmFtczogeyBwdWJsaWNLZXkgfSB9XSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5yZW1vdmVLZXkodGhpcy5uZXR3b3JrSWQsIGFjY291bnRJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRIZXJlQmFsYW5jZShpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHlpZWxkIHRoaXMuYWNjb3VudChpZCk7XG4gICAgICAgICAgICBjb25zdCBjb250cmFjdElkID0gdGhpcy5uZXR3b3JrSWQgPT09IFwibWFpbm5ldFwiID8gXCJoZXJlLnN0b3JhZ2UubmVhclwiIDogXCJoZXJlLnN0b3JhZ2UudGVzdG5ldFwiO1xuICAgICAgICAgICAgY29uc3QgaGVyZUNvaW5zID0geWllbGQgYWNjb3VudFxuICAgICAgICAgICAgICAgIC52aWV3RnVuY3Rpb24oe1xuICAgICAgICAgICAgICAgIGFyZ3M6IHsgYWNjb3VudF9pZDogYWNjb3VudC5hY2NvdW50SWQgfSxcbiAgICAgICAgICAgICAgICBtZXRob2ROYW1lOiBcImZ0X2JhbGFuY2Vfb2ZcIixcbiAgICAgICAgICAgICAgICBjb250cmFjdElkLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gXCIwXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBibl9qc18xLmRlZmF1bHQoaGVyZUNvaW5zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEF2YWlsYWJsZUJhbGFuY2UoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB5aWVsZCB0aGlzLmFjY291bnQoaWQpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgYWNjb3VudC5nZXRBY2NvdW50QmFsYW5jZSgpO1xuICAgICAgICAgICAgY29uc3QgaGVyZUJhbGFuY2UgPSB5aWVsZCB0aGlzLmdldEhlcmVCYWxhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJuX2pzXzEuZGVmYXVsdChyZXN1bHQuYXZhaWxhYmxlKS5hZGQobmV3IGJuX2pzXzEuZGVmYXVsdChoZXJlQmFsYW5jZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWNjb3VudHMoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRBY2NvdW50cyh0aGlzLm5ldHdvcmtJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBY2NvdW50SWQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50SWQgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRJZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldhbGxldCBub3Qgc2lnbmVkIGluXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGFjY291bnRJZDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN3aXRjaEFjY291bnQoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0S2V5KHRoaXMubmV0d29ya0lkLCBpZCk7XG4gICAgICAgICAgICBpZiAoa2V5ID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY2NvdW50ICR7aWR9IG5vdCBzaWduZWQgaW5gKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCwgaWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbkluKF9hID0ge30pIHtcbiAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgdmFyIHsgY29udHJhY3RJZCwgYWxsb3dhbmNlLCBtZXRob2ROYW1lcyA9IFtdLCBzZWxlY3RvciB9ID0gX2EsIGRlbGVnYXRlID0gX19yZXN0KF9hLCBbXCJjb250cmFjdElkXCIsIFwiYWxsb3dhbmNlXCIsIFwibWV0aG9kTmFtZXNcIiwgXCJzZWxlY3RvclwiXSk7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoY29udHJhY3RJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhY2NvdW50SWQgfSA9IHlpZWxkIHRoaXMuYXV0aGVudGljYXRlKGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20ga2V5cGFpclxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0S2V5KHRoaXMubmV0d29ya0lkLCBhY2NvdW50SWQsIGtleV9wYWlyXzEuS2V5UGFpckVkMjU1MTkuZnJvbVJhbmRvbSgpKTtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQsIGFjY291bnRJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY291bnRJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGVnYXRlLnN0cmF0ZWd5ID0gKF9iID0gZGVsZWdhdGUuc3RyYXRlZ3kpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZGVmYXVsdFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5wcm92aWRlciA9IChfYyA9IGRlbGVnYXRlLnByb3ZpZGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0aGlzLmRlZmF1bHRQcm92aWRlcjtcbiAgICAgICAgICAgIChfZCA9IGRlbGVnYXRlLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKGRlbGVnYXRlKTtcbiAgICAgICAgICAgIChfZiA9IChfZSA9IGRlbGVnYXRlLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGwoX2UpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXkgPSBuZWFyX2FwaV9qc18xLktleVBhaXIuZnJvbVJhbmRvbShcImVkMjU1MTlcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVybWlzc2lvbiA9IHsgcmVjZWl2ZXJJZDogY29udHJhY3RJZCwgbWV0aG9kTmFtZXMsIGFsbG93YW5jZSB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBkZWxlZ2F0ZS5wcm92aWRlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlbGVnYXRlKSwgeyByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMubmV0d29ya0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJBZGRLZXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljS2V5OiBhY2Nlc3NLZXkuZ2V0UHVibGljS2V5KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzS2V5OiB7IHBlcm1pc3Npb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuYWNjb3VudF9pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gaXMgZmFpbGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnNldEtleSh0aGlzLm5ldHdvcmtJZCwgZGF0YS5hY2NvdW50X2lkLCBhY2Nlc3NLZXkpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCwgZGF0YS5hY2NvdW50X2lkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5hY2NvdW50X2lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuaW50ZXJuYWxUaHJvdykoZXJyb3IsIGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpbGVudFNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oeyBhY3Rpb25zLCByZWNlaXZlcklkLCBzaWduZXJJZCB9KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0geWllbGQgdGhpcy5hY2NvdW50KHNpZ25lcklkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsS2V5ID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRLZXkodGhpcy5uZXR3b3JrSWQsIGFjY291bnQuYWNjb3VudElkKS5jYXRjaCgoKSA9PiBudWxsKTtcbiAgICAgICAgICAgIGlmIChsb2NhbEtleSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IGxvY2FsS2V5LmdldFB1YmxpY0tleSgpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzS2V5cyA9IHlpZWxkIGFjY291bnQuZ2V0QWNjZXNzS2V5cygpO1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHsgcmVjZWl2ZXJJZCwgYWN0aW9ucyB9O1xuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGFjY2Vzc0tleXMuc29tZSgodikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2LnB1YmxpY19rZXkgIT09IHB1YmxpY0tleS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc18xLmlzVmFsaWRBY2Nlc3NLZXkpKGFjY291bnQuYWNjb3VudElkLCB2LCBjYWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCBhY2NvdW50LnNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMubWFwKChhKSA9PiAoMCwgYWN0aW9uc18xLmNyZWF0ZUFjdGlvbikoYSkpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVySWQ6IHJlY2VpdmVySWQgIT09IG51bGwgJiYgcmVjZWl2ZXJJZCAhPT0gdm9pZCAwID8gcmVjZWl2ZXJJZCA6IGFjY291bnQuYWNjb3VudElkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9uKG9wdHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2lnbmVySWQsIHJlY2VpdmVySWQsIGFjdGlvbnMgfSA9IG9wdHMsIGFyZ3MgPSBfX3Jlc3Qob3B0cywgW1wic2lnbmVySWRcIiwgXCJyZWNlaXZlcklkXCIsIFwiYWN0aW9uc1wiXSk7XG4gICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9IGFyZ3M7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5zdHJhdGVneSA9IChfYSA9IGRlbGVnYXRlLnN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmRlZmF1bHRTdHJhdGVneSgpO1xuICAgICAgICAgICAgZGVsZWdhdGUucHJvdmlkZXIgPSAoX2IgPSBkZWxlZ2F0ZS5wcm92aWRlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZWZhdWx0UHJvdmlkZXI7XG4gICAgICAgICAgICAoX2MgPSBkZWxlZ2F0ZS5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAoX2UgPSAoX2QgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKF9kKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgdGhpcy5zaWxlbnRTaWduQW5kU2VuZFRyYW5zYWN0aW9uKHsgcmVjZWl2ZXJJZCwgYWN0aW9ucywgc2lnbmVySWQgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHsgdHlwZTogXCJsb2NhbFwiLCBzdGF0dXM6IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLlNVQ0NFU1MsIHBheWxvYWQ6IHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC50cmFuc2FjdGlvbl9vdXRjb21lLmlkIH07XG4gICAgICAgICAgICAgICAgKF9mID0gZGVsZWdhdGUub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChkZWxlZ2F0ZSwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgKF9oID0gKF9nID0gZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5jYWxsKF9nLCBzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzaWxlbnQgc2lnbiByZXR1cm4gQWNjZXNzRGVuaWVkIG9yIE5vdEVub3VnaEFsbG93YW5jZSB3ZSByZXF1ZXN0IG1vYmlsZSB3YWxsZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgaXRzIGp1c3QgdHJhbnNhY3Rpb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIEFjY2Vzc0RlbmllZCkgJiYgKGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS50eXBlKSAhPT0gXCJOb3RFbm91Z2hBbGxvd2FuY2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuaW50ZXJuYWxUaHJvdykoZSwgZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50ID0geWllbGQgdGhpcy5nZXRBY2NvdW50SWQoKS5jYXRjaCgoKSA9PiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgZGVsZWdhdGUucHJvdmlkZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWxlZ2F0ZSksIHsgcmVxdWVzdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMubmV0d29ya0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogW3sgYWN0aW9uczogKDAsIHV0aWxzXzEuc2VyaWFsaXplQWN0aW9ucykoYWN0aW9ucyksIHJlY2VpdmVySWQsIHNpZ25lcklkIH1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiBvcHRzLnNlbGVjdG9yIHx8IHsgaWQ6IHNpZ25lcklkIHx8IGFjdGl2ZUFjY291bnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYXlsb2FkID09IG51bGwgfHwgZGF0YS5hY2NvdW50X2lkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gbm90IGZvdW5kLCBidXQgbWF5YmUgZXhlY3V0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMucnBjLnR4U3RhdHVzKGRhdGEucGF5bG9hZCwgZGF0YS5hY2NvdW50X2lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmludGVybmFsVGhyb3cpKGVycm9yLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZlcmlmeU1lc3NhZ2VORVAwNDEzKHJlcXVlc3QsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgaXNTaWduYXR1cmVWYWxpZCA9ICgwLCBuZXAwMzE0XzEudmVyaWZ5U2lnbmF0dXJlKShyZXF1ZXN0LCByZXN1bHQpO1xuICAgICAgICAgICAgaWYgKCFpc1NpZ25hdHVyZVZhbGlkKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW5jb3JyZWN0IHNpZ25hdHVyZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB5aWVsZCB0aGlzLmFjY291bnQocmVzdWx0LmFjY291bnRJZCk7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0geWllbGQgYWNjb3VudC5nZXRBY2Nlc3NLZXlzKCk7XG4gICAgICAgICAgICBjb25zdCBpc0Z1bGxBY2Nlc3MgPSBrZXlzLnNvbWUoKGspID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoay5wdWJsaWNfa2V5ICE9PSByZXN1bHQucHVibGljS2V5KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGsuYWNjZXNzX2tleS5wZXJtaXNzaW9uICE9PSBcIkZ1bGxBY2Nlc3NcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWlzRnVsbEFjY2VzcylcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNpZ25lciBwdWJsaWMga2V5IGlzIG5vdCBmdWxsIGFjY2Vzc1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXV0aGVudGljYXRlKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25SZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIG5vbmNlOiAoX2EgPSBvcHRpb25zLm5vbmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoMCwgY3J5cHRvXzEucmFuZG9tQnl0ZXMpKDMyKSxcbiAgICAgICAgICAgICAgICByZWNpcGllbnQ6IChfYiA9IG9wdGlvbnMucmVjaXBpZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB3aW5kb3cubG9jYXRpb24uaG9zdCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAoX2MgPSBvcHRpb25zLm1lc3NhZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2lnbmVkID0geWllbGQgdGhpcy5zaWduTWVzc2FnZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNpZ25SZXF1ZXN0KSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgeWllbGQgdGhpcy52ZXJpZnlNZXNzYWdlTkVQMDQxMyhzaWduUmVxdWVzdCwgc2lnbmVkKTtcbiAgICAgICAgICAgIHJldHVybiBzaWduZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduTWVzc2FnZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBvcHRpb25zLnN0cmF0ZWd5ID0gKF9hID0gb3B0aW9ucy5zdHJhdGVneSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5kZWZhdWx0U3RyYXRlZ3koKTtcbiAgICAgICAgICAgIG9wdGlvbnMucHJvdmlkZXIgPSAoX2IgPSBvcHRpb25zLnByb3ZpZGVyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRlZmF1bHRQcm92aWRlcjtcbiAgICAgICAgICAgIChfYyA9IG9wdGlvbnMub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwob3B0aW9ucyk7XG4gICAgICAgICAgICAoX2UgPSAoX2QgPSBvcHRpb25zLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Qub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoX2QpO1xuICAgICAgICAgICAgLy8gTGVnYWN5IGZvcm1hdCB3aXRoIHJlY2VpdmVyIHByb3BlcnR5LCBkb2VzIG5vdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIHN0YW5kYXJkXG4gICAgICAgICAgICBpZiAoXCJyZWNlaXZlclwiIGluIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMubGVnYWN5U2lnbk1lc3NhZ2Uob3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50ID0geWllbGQgdGhpcy5nZXRBY2NvdW50SWQoKS5jYXRjaCgoKSA9PiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIG9wdGlvbnMucHJvdmlkZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2lnblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlY2lwaWVudDogb3B0aW9ucy5yZWNpcGllbnQsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiBBcnJheS5mcm9tKG9wdGlvbnMubm9uY2UpLFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiB0aGlzLm5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IG9wdGlvbnMuc2VsZWN0b3IgfHwgeyBpZDogYWN0aXZlQWNjb3VudCB9LFxuICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgaWYgKChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucGF5bG9hZCkgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNpZ25hdHVyZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICBjb25zdCB7IHB1YmxpY0tleSwgc2lnbmF0dXJlLCBhY2NvdW50SWQgfSA9IEpTT04ucGFyc2UoZGF0YS5wYXlsb2FkKTtcbiAgICAgICAgICAgIHJldHVybiB7IHB1YmxpY0tleSwgc2lnbmF0dXJlLCBhY2NvdW50SWQgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlZ2FjeVNpZ25NZXNzYWdlKF9hKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgdmFyIHsgbWVzc2FnZSwgcmVjZWl2ZXIsIG5vbmNlLCBzZWxlY3RvciB9ID0gX2EsIGRlbGVnYXRlID0gX19yZXN0KF9hLCBbXCJtZXNzYWdlXCIsIFwicmVjZWl2ZXJcIiwgXCJub25jZVwiLCBcInNlbGVjdG9yXCJdKTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChub25jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vbmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSgzMik7XG4gICAgICAgICAgICAgICAgbm9uY2UgPSBbLi4uY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhub25jZUFycmF5KV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50ID0geWllbGQgdGhpcy5nZXRBY2NvdW50SWQoKS5jYXRjaCgoKSA9PiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkICgoX2IgPSBkZWxlZ2F0ZS5wcm92aWRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoZGVsZWdhdGUsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVsZWdhdGUpLCB7IHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzaWduXCIsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMubmV0d29ya0lkLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IgfHwgeyBpZDogYWN0aXZlQWNjb3VudCB9LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICByZWNlaXZlcixcbiAgICAgICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgfSB9KSkpO1xuICAgICAgICAgICAgaWYgKChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucGF5bG9hZCkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwdWJsaWNLZXksIHNpZ25hdHVyZSwgYWNjb3VudElkIH0gPSBKU09OLnBhcnNlKGRhdGEucGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbiA9IG5ldyBVaW50OEFycmF5KEJ1ZmZlci5mcm9tKHNpZ25hdHVyZSwgXCJiYXNlNjRcIikpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UsIHJlY2VpdmVyLCBub25jZSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBuZXcgVWludDhBcnJheShqc19zaGEyNTZfMS5zaGEyNTYuZGlnZXN0KGBORVAwNDEzOmAgKyBqc29uKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWZXJpZnkgPSBrZXlfcGFpcl8xLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSkudmVyaWZ5KG1zZywgc2lnbik7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmVyaWZ5ID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50ID0geWllbGQgdGhpcy5hY2NvdW50KGFjY291bnRJZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHlpZWxkIGFjY291bnQuZ2V0QWNjZXNzS2V5cygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBiID0gcHVibGljS2V5LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGtleXMuc29tZSgoaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoay5wdWJsaWNfa2V5ICE9PSBwYilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsuYWNjZXNzX2tleS5wZXJtaXNzaW9uICE9PSBcIkZ1bGxBY2Nlc3NcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20oc2lnbmF0dXJlLCBcImJhc2U2NFwiKSksXG4gICAgICAgICAgICAgICAgICAgIHB1YmxpY0tleToga2V5X3BhaXJfMS5QdWJsaWNLZXkuZnJvbShwdWJsaWNLZXkpLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTkVQMDQxMzpgICsganNvbixcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRJZCxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYykge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBjb3JyZWN0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbkFuZFNlbmRUcmFuc2FjdGlvbnMoX2EpIHtcbiAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcbiAgICAgICAgdmFyIHsgdHJhbnNhY3Rpb25zLCBzZWxlY3RvciB9ID0gX2EsIGRlbGVnYXRlID0gX19yZXN0KF9hLCBbXCJ0cmFuc2FjdGlvbnNcIiwgXCJzZWxlY3RvclwiXSk7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5zdHJhdGVneSA9IChfYiA9IGRlbGVnYXRlLnN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRlZmF1bHRTdHJhdGVneSgpO1xuICAgICAgICAgICAgZGVsZWdhdGUucHJvdmlkZXIgPSAoX2MgPSBkZWxlZ2F0ZS5wcm92aWRlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGhpcy5kZWZhdWx0UHJvdmlkZXI7XG4gICAgICAgICAgICAoX2QgPSBkZWxlZ2F0ZS5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAoX2YgPSAoX2UgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKF9lKTtcbiAgICAgICAgICAgIGxldCByZXN1bHRzID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHlpZWxkIHRoaXMuc2lsZW50U2lnbkFuZFNlbmRUcmFuc2FjdGlvbihjYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0LnRyYW5zYWN0aW9uX291dGNvbWUuaWQpLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSB7IHR5cGU6IFwibG9jYWxcIiwgc3RhdHVzOiBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5TVUNDRVNTLCBwYXlsb2FkIH07XG4gICAgICAgICAgICAgICAgKF9nID0gZGVsZWdhdGUub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWxlZ2F0ZSwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgKF9qID0gKF9oID0gZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jYWxsKF9oLCBzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2lsZW50IHNpZ24gcmV0dXJuIGFjY2VzcyBkZW5pZWQgb3Igbm90IGVub3VnaCBiYWxhbmNlIHdlIHJlcXVlc3QgbW9iaWxlIHdhbGxldFxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBpdHMganVzdCB0cmFuc2FjdGlvbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgQWNjZXNzRGVuaWVkKSAmJiAoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnR5cGUpICE9PSBcIk5vdEVub3VnaEFsbG93YW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5pbnRlcm5hbFRocm93KShlLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUFjY291bnQgPSB5aWVsZCB0aGlzLmdldEFjY291bnRJZCgpLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuY29tcGxldGVkID0gdHJhbnNhY3Rpb25zLnNsaWNlKHJlc3VsdHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGRlbGVnYXRlLnByb3ZpZGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVsZWdhdGUpLCB7IHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiB0aGlzLm5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IgfHwgeyBpZDogdW5jb21wbGV0ZWRbMF0uc2lnbmVySWQgfHwgYWN0aXZlQWNjb3VudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogdW5jb21wbGV0ZWQubWFwKCh0cngpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRyeCksIHsgYWN0aW9uczogKDAsIHV0aWxzXzEuc2VyaWFsaXplQWN0aW9ucykodHJ4LmFjdGlvbnMpIH0pKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucGF5bG9hZCA9PSBudWxsIHx8IGRhdGEuYWNjb3VudF9pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBmb3VuZCwgYnV0IG1heWJlIGV4ZWN1dGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gZGF0YS5wYXlsb2FkLnNwbGl0KFwiLFwiKS5tYXAoKGlkKSA9PiB0aGlzLnJwYy50eFN0YXR1cyhpZCwgZGF0YS5hY2NvdW50X2lkKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5pbnRlcm5hbFRocm93KShlcnJvciwgZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVyZVdhbGxldCA9IEhlcmVXYWxsZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.6.6_bn.js@5.2.1_borsh@0.7.0/node_modules/@here-wallet/core/build/wallet.js\n");

/***/ })

};
;