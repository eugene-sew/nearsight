"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4";
exports.ids = ["vendor-chunks/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4/node_modules/@near-wallet-selector/modal-ui/styles.css":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4/node_modules/@near-wallet-selector/modal-ui/styles.css ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"df4941ab9649\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItd2FsbGV0LXNlbGVjdG9yK21vZGFsLXVpQDguOS43X25lYXItYXBpLWpzQDMuMC40L25vZGVfbW9kdWxlcy9AbmVhci13YWxsZXQtc2VsZWN0b3IvbW9kYWwtdWkvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItd2FsbGV0LXNlbGVjdG9yK21vZGFsLXVpQDguOS43X25lYXItYXBpLWpzQDMuMC40L25vZGVfbW9kdWxlcy9AbmVhci13YWxsZXQtc2VsZWN0b3IvbW9kYWwtdWkvc3R5bGVzLmNzcz8zMmM1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiZGY0OTQxYWI5NjQ5XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4/node_modules/@near-wallet-selector/modal-ui/styles.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4/node_modules/@near-wallet-selector/modal-ui/index.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4/node_modules/@near-wallet-selector/modal-ui/index.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupModal: () => (/* binding */ setupModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@14.1.4_@babel+core@7.24.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom/client */ \"(ssr)/./node_modules/.pnpm/next@14.1.4_@babel+core@7.24.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/compiled/react-dom/client.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.1.4_@babel+core@7.24.4_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @near-wallet-selector/core */ \"(ssr)/./node_modules/.pnpm/@near-wallet-selector+core@8.9.7_near-api-js@3.0.4/node_modules/@near-wallet-selector/core/index.js\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! qrcode */ \"(ssr)/./node_modules/.pnpm/qrcode@1.5.3/node_modules/qrcode/lib/index.js\");\n/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! copy-to-clipboard */ \"(ssr)/./node_modules/.pnpm/copy-to-clipboard@3.3.3/node_modules/copy-to-clipboard/index.js\");\n\n\n\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar fails$h = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\nvar fails$g = fails$h;\n\nvar functionBindNative = !fails$g(function () {\n  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n\nvar NATIVE_BIND$3 = functionBindNative;\n\nvar FunctionPrototype$2 = Function.prototype;\nvar bind$5 = FunctionPrototype$2.bind;\nvar call$f = FunctionPrototype$2.call;\nvar uncurryThis$h = NATIVE_BIND$3 && bind$5.bind(call$f, call$f);\n\nvar functionUncurryThis = NATIVE_BIND$3 ? function (fn) {\n  return fn && uncurryThis$h(fn);\n} : function (fn) {\n  return fn && function () {\n    return call$f.apply(fn, arguments);\n  };\n};\n\nvar uncurryThis$g = functionUncurryThis;\n\nvar toString$5 = uncurryThis$g({}.toString);\nvar stringSlice$1 = uncurryThis$g(''.slice);\n\nvar classofRaw$1 = function (it) {\n  return stringSlice$1(toString$5(it), 8, -1);\n};\n\nvar uncurryThis$f = functionUncurryThis;\nvar fails$f = fails$h;\nvar classof$6 = classofRaw$1;\n\nvar $Object$4 = Object;\nvar split = uncurryThis$f(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar indexedObject = fails$f(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object$4('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof$6(it) == 'String' ? split(it, '') : $Object$4(it);\n} : $Object$4;\n\nvar $TypeError$e = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nvar requireObjectCoercible$3 = function (it) {\n  if (it == undefined) throw $TypeError$e(\"Can't call method on \" + it);\n  return it;\n};\n\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject$2 = indexedObject;\nvar requireObjectCoercible$2 = requireObjectCoercible$3;\n\nvar toIndexedObject$5 = function (it) {\n  return IndexedObject$2(requireObjectCoercible$2(it));\n};\n\nvar check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global$k =\n  // eslint-disable-next-line es-x/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n\nvar shared$3 = {exports: {}};\n\nvar global$j = global$k;\n\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty$6 = Object.defineProperty;\n\nvar defineGlobalProperty$3 = function (key, value) {\n  try {\n    defineProperty$6(global$j, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global$j[key] = value;\n  } return value;\n};\n\nvar global$i = global$k;\nvar defineGlobalProperty$2 = defineGlobalProperty$3;\n\nvar SHARED = '__core-js_shared__';\nvar store$3 = global$i[SHARED] || defineGlobalProperty$2(SHARED, {});\n\nvar sharedStore = store$3;\n\nvar store$2 = sharedStore;\n\n(shared$3.exports = function (key, value) {\n  return store$2[key] || (store$2[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.23.3',\n  mode: 'global',\n  copyright: 'Â© 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n\nvar requireObjectCoercible$1 = requireObjectCoercible$3;\n\nvar $Object$3 = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nvar toObject$5 = function (argument) {\n  return $Object$3(requireObjectCoercible$1(argument));\n};\n\nvar uncurryThis$e = functionUncurryThis;\nvar toObject$4 = toObject$5;\n\nvar hasOwnProperty = uncurryThis$e({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es-x/no-object-hasown -- safe\nvar hasOwnProperty_1 = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject$4(it), key);\n};\n\nvar uncurryThis$d = functionUncurryThis;\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString$4 = uncurryThis$d(1.0.toString);\n\nvar uid$2 = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString$4(++id + postfix, 36);\n};\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nvar isCallable$l = function (argument) {\n  return typeof argument == 'function';\n};\n\nvar global$h = global$k;\nvar isCallable$k = isCallable$l;\n\nvar aFunction = function (argument) {\n  return isCallable$k(argument) ? argument : undefined;\n};\n\nvar getBuiltIn$8 = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global$h[namespace]) : global$h[namespace] && global$h[namespace][method];\n};\n\nvar getBuiltIn$7 = getBuiltIn$8;\n\nvar engineUserAgent = getBuiltIn$7('navigator', 'userAgent') || '';\n\nvar global$g = global$k;\nvar userAgent$5 = engineUserAgent;\n\nvar process$3 = global$g.process;\nvar Deno$1 = global$g.Deno;\nvar versions = process$3 && process$3.versions || Deno$1 && Deno$1.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent$5) {\n  match = userAgent$5.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent$5.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nvar engineV8Version = version;\n\n/* eslint-disable es-x/no-symbol -- required for testing */\n\nvar V8_VERSION$1 = engineV8Version;\nvar fails$e = fails$h;\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing\nvar nativeSymbol = !!Object.getOwnPropertySymbols && !fails$e(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION$1 && V8_VERSION$1 < 41;\n});\n\n/* eslint-disable es-x/no-symbol -- required for testing */\n\nvar NATIVE_SYMBOL$2 = nativeSymbol;\n\nvar useSymbolAsUid = NATIVE_SYMBOL$2\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n\nvar global$f = global$k;\nvar shared$2 = shared$3.exports;\nvar hasOwn$b = hasOwnProperty_1;\nvar uid$1 = uid$2;\nvar NATIVE_SYMBOL$1 = nativeSymbol;\nvar USE_SYMBOL_AS_UID$1 = useSymbolAsUid;\n\nvar WellKnownSymbolsStore = shared$2('wks');\nvar Symbol$1 = global$f.Symbol;\nvar symbolFor = Symbol$1 && Symbol$1['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID$1 ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid$1;\n\nvar wellKnownSymbol$g = function (name) {\n  if (!hasOwn$b(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL$1 || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL$1 && hasOwn$b(Symbol$1, name)) {\n      WellKnownSymbolsStore[name] = Symbol$1[name];\n    } else if (USE_SYMBOL_AS_UID$1 && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n\nvar isCallable$j = isCallable$l;\n\nvar isObject$8 = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable$j(it);\n};\n\nvar isObject$7 = isObject$8;\n\nvar $String$3 = String;\nvar $TypeError$d = TypeError;\n\n// `Assert: Type(argument) is Object`\nvar anObject$c = function (argument) {\n  if (isObject$7(argument)) return argument;\n  throw $TypeError$d($String$3(argument) + ' is not an object');\n};\n\nvar objectDefineProperties = {};\n\nvar fails$d = fails$h;\n\n// Detect IE8's incomplete defineProperty implementation\nvar descriptors = !fails$d(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\nvar DESCRIPTORS$b = descriptors;\nvar fails$c = fails$h;\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nvar v8PrototypeDefineBug = DESCRIPTORS$b && fails$c(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n\nvar objectDefineProperty = {};\n\nvar global$e = global$k;\nvar isObject$6 = isObject$8;\n\nvar document$3 = global$e.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS$1 = isObject$6(document$3) && isObject$6(document$3.createElement);\n\nvar documentCreateElement$2 = function (it) {\n  return EXISTS$1 ? document$3.createElement(it) : {};\n};\n\nvar DESCRIPTORS$a = descriptors;\nvar fails$b = fails$h;\nvar createElement$1 = documentCreateElement$2;\n\n// Thanks to IE8 for its funny defineProperty\nvar ie8DomDefine = !DESCRIPTORS$a && !fails$b(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement$1('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\nvar NATIVE_BIND$2 = functionBindNative;\n\nvar call$e = Function.prototype.call;\n\nvar functionCall = NATIVE_BIND$2 ? call$e.bind(call$e) : function () {\n  return call$e.apply(call$e, arguments);\n};\n\nvar uncurryThis$c = functionUncurryThis;\n\nvar objectIsPrototypeOf = uncurryThis$c({}.isPrototypeOf);\n\nvar getBuiltIn$6 = getBuiltIn$8;\nvar isCallable$i = isCallable$l;\nvar isPrototypeOf$4 = objectIsPrototypeOf;\nvar USE_SYMBOL_AS_UID = useSymbolAsUid;\n\nvar $Object$2 = Object;\n\nvar isSymbol$2 = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn$6('Symbol');\n  return isCallable$i($Symbol) && isPrototypeOf$4($Symbol.prototype, $Object$2(it));\n};\n\nvar $String$2 = String;\n\nvar tryToString$5 = function (argument) {\n  try {\n    return $String$2(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n\nvar isCallable$h = isCallable$l;\nvar tryToString$4 = tryToString$5;\n\nvar $TypeError$c = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nvar aCallable$9 = function (argument) {\n  if (isCallable$h(argument)) return argument;\n  throw $TypeError$c(tryToString$4(argument) + ' is not a function');\n};\n\nvar aCallable$8 = aCallable$9;\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nvar getMethod$3 = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable$8(func);\n};\n\nvar call$d = functionCall;\nvar isCallable$g = isCallable$l;\nvar isObject$5 = isObject$8;\n\nvar $TypeError$b = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nvar ordinaryToPrimitive$1 = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable$g(fn = input.toString) && !isObject$5(val = call$d(fn, input))) return val;\n  if (isCallable$g(fn = input.valueOf) && !isObject$5(val = call$d(fn, input))) return val;\n  if (pref !== 'string' && isCallable$g(fn = input.toString) && !isObject$5(val = call$d(fn, input))) return val;\n  throw $TypeError$b(\"Can't convert object to primitive value\");\n};\n\nvar call$c = functionCall;\nvar isObject$4 = isObject$8;\nvar isSymbol$1 = isSymbol$2;\nvar getMethod$2 = getMethod$3;\nvar ordinaryToPrimitive = ordinaryToPrimitive$1;\nvar wellKnownSymbol$f = wellKnownSymbol$g;\n\nvar $TypeError$a = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol$f('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nvar toPrimitive$1 = function (input, pref) {\n  if (!isObject$4(input) || isSymbol$1(input)) return input;\n  var exoticToPrim = getMethod$2(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call$c(exoticToPrim, input, pref);\n    if (!isObject$4(result) || isSymbol$1(result)) return result;\n    throw $TypeError$a(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n\nvar toPrimitive = toPrimitive$1;\nvar isSymbol = isSymbol$2;\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nvar toPropertyKey$3 = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n\nvar DESCRIPTORS$9 = descriptors;\nvar IE8_DOM_DEFINE$1 = ie8DomDefine;\nvar V8_PROTOTYPE_DEFINE_BUG$1 = v8PrototypeDefineBug;\nvar anObject$b = anObject$c;\nvar toPropertyKey$2 = toPropertyKey$3;\n\nvar $TypeError$9 = TypeError;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor$1 = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE$1 = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nobjectDefineProperty.f = DESCRIPTORS$9 ? V8_PROTOTYPE_DEFINE_BUG$1 ? function defineProperty(O, P, Attributes) {\n  anObject$b(O);\n  P = toPropertyKey$2(P);\n  anObject$b(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor$1(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE$1 in Attributes ? Attributes[CONFIGURABLE$1] : current[CONFIGURABLE$1],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject$b(O);\n  P = toPropertyKey$2(P);\n  anObject$b(Attributes);\n  if (IE8_DOM_DEFINE$1) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError$9('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\nvar ceil = Math.ceil;\nvar floor$1 = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es-x/no-math-trunc -- safe\nvar mathTrunc = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor$1 : ceil)(n);\n};\n\nvar trunc = mathTrunc;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nvar toIntegerOrInfinity$2 = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n\nvar toIntegerOrInfinity$1 = toIntegerOrInfinity$2;\n\nvar max$1 = Math.max;\nvar min$1 = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nvar toAbsoluteIndex$2 = function (index, length) {\n  var integer = toIntegerOrInfinity$1(index);\n  return integer < 0 ? max$1(integer + length, 0) : min$1(integer, length);\n};\n\nvar toIntegerOrInfinity = toIntegerOrInfinity$2;\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nvar toLength$1 = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\nvar toLength = toLength$1;\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nvar lengthOfArrayLike$5 = function (obj) {\n  return toLength(obj.length);\n};\n\nvar toIndexedObject$4 = toIndexedObject$5;\nvar toAbsoluteIndex$1 = toAbsoluteIndex$2;\nvar lengthOfArrayLike$4 = lengthOfArrayLike$5;\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod$1 = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject$4($this);\n    var length = lengthOfArrayLike$4(O);\n    var index = toAbsoluteIndex$1(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nvar arrayIncludes = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod$1(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod$1(false)\n};\n\nvar hiddenKeys$4 = {};\n\nvar uncurryThis$b = functionUncurryThis;\nvar hasOwn$a = hasOwnProperty_1;\nvar toIndexedObject$3 = toIndexedObject$5;\nvar indexOf = arrayIncludes.indexOf;\nvar hiddenKeys$3 = hiddenKeys$4;\n\nvar push$1 = uncurryThis$b([].push);\n\nvar objectKeysInternal = function (object, names) {\n  var O = toIndexedObject$3(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn$a(hiddenKeys$3, key) && hasOwn$a(O, key) && push$1(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn$a(O, key = names[i++])) {\n    ~indexOf(result, key) || push$1(result, key);\n  }\n  return result;\n};\n\n// IE8- don't enum bug keys\nvar enumBugKeys$3 = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\nvar internalObjectKeys$1 = objectKeysInternal;\nvar enumBugKeys$2 = enumBugKeys$3;\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nvar objectKeys$2 = Object.keys || function keys(O) {\n  return internalObjectKeys$1(O, enumBugKeys$2);\n};\n\nvar DESCRIPTORS$8 = descriptors;\nvar V8_PROTOTYPE_DEFINE_BUG = v8PrototypeDefineBug;\nvar definePropertyModule$5 = objectDefineProperty;\nvar anObject$a = anObject$c;\nvar toIndexedObject$2 = toIndexedObject$5;\nvar objectKeys$1 = objectKeys$2;\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nobjectDefineProperties.f = DESCRIPTORS$8 && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject$a(O);\n  var props = toIndexedObject$2(Properties);\n  var keys = objectKeys$1(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule$5.f(O, key = keys[index++], props[key]);\n  return O;\n};\n\nvar getBuiltIn$5 = getBuiltIn$8;\n\nvar html$2 = getBuiltIn$5('document', 'documentElement');\n\nvar shared$1 = shared$3.exports;\nvar uid = uid$2;\n\nvar keys = shared$1('keys');\n\nvar sharedKey$3 = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\n/* global ActiveXObject -- old IE, WSH */\n\nvar anObject$9 = anObject$c;\nvar definePropertiesModule = objectDefineProperties;\nvar enumBugKeys$1 = enumBugKeys$3;\nvar hiddenKeys$2 = hiddenKeys$4;\nvar html$1 = html$2;\nvar documentCreateElement$1 = documentCreateElement$2;\nvar sharedKey$2 = sharedKey$3;\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO$1 = sharedKey$2('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement$1('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html$1.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys$1.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys$1[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys$2[IE_PROTO$1] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nvar objectCreate = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject$9(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO$1] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n\nvar wellKnownSymbol$e = wellKnownSymbol$g;\nvar create$1 = objectCreate;\nvar defineProperty$5 = objectDefineProperty.f;\n\nvar UNSCOPABLES = wellKnownSymbol$e('unscopables');\nvar ArrayPrototype$1 = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype$1[UNSCOPABLES] == undefined) {\n  defineProperty$5(ArrayPrototype$1, UNSCOPABLES, {\n    configurable: true,\n    value: create$1(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nvar addToUnscopables$2 = function (key) {\n  ArrayPrototype$1[UNSCOPABLES][key] = true;\n};\n\nvar iterators = {};\n\nvar uncurryThis$a = functionUncurryThis;\nvar isCallable$f = isCallable$l;\nvar store$1 = sharedStore;\n\nvar functionToString = uncurryThis$a(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable$f(store$1.inspectSource)) {\n  store$1.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nvar inspectSource$4 = store$1.inspectSource;\n\nvar global$d = global$k;\nvar isCallable$e = isCallable$l;\nvar inspectSource$3 = inspectSource$4;\n\nvar WeakMap$1 = global$d.WeakMap;\n\nvar nativeWeakMap = isCallable$e(WeakMap$1) && /native code/.test(inspectSource$3(WeakMap$1));\n\nvar createPropertyDescriptor$4 = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\nvar DESCRIPTORS$7 = descriptors;\nvar definePropertyModule$4 = objectDefineProperty;\nvar createPropertyDescriptor$3 = createPropertyDescriptor$4;\n\nvar createNonEnumerableProperty$4 = DESCRIPTORS$7 ? function (object, key, value) {\n  return definePropertyModule$4.f(object, key, createPropertyDescriptor$3(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\nvar NATIVE_WEAK_MAP = nativeWeakMap;\nvar global$c = global$k;\nvar uncurryThis$9 = functionUncurryThis;\nvar isObject$3 = isObject$8;\nvar createNonEnumerableProperty$3 = createNonEnumerableProperty$4;\nvar hasOwn$9 = hasOwnProperty_1;\nvar shared = sharedStore;\nvar sharedKey$1 = sharedKey$3;\nvar hiddenKeys$1 = hiddenKeys$4;\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError$2 = global$c.TypeError;\nvar WeakMap = global$c.WeakMap;\nvar set$1, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set$1(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject$3(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError$2('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis$9(store.get);\n  var wmhas = uncurryThis$9(store.has);\n  var wmset = uncurryThis$9(store.set);\n  set$1 = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey$1('state');\n  hiddenKeys$1[STATE] = true;\n  set$1 = function (it, metadata) {\n    if (hasOwn$9(it, STATE)) throw new TypeError$2(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty$3(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn$9(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn$9(it, STATE);\n  };\n}\n\nvar internalState = {\n  set: set$1,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\nvar objectGetOwnPropertyDescriptor = {};\n\nvar objectPropertyIsEnumerable = {};\n\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor$2 = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor$2 && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nobjectPropertyIsEnumerable.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor$2(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n\nvar DESCRIPTORS$6 = descriptors;\nvar call$b = functionCall;\nvar propertyIsEnumerableModule$1 = objectPropertyIsEnumerable;\nvar createPropertyDescriptor$2 = createPropertyDescriptor$4;\nvar toIndexedObject$1 = toIndexedObject$5;\nvar toPropertyKey$1 = toPropertyKey$3;\nvar hasOwn$8 = hasOwnProperty_1;\nvar IE8_DOM_DEFINE = ie8DomDefine;\n\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nobjectGetOwnPropertyDescriptor.f = DESCRIPTORS$6 ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject$1(O);\n  P = toPropertyKey$1(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn$8(O, P)) return createPropertyDescriptor$2(!call$b(propertyIsEnumerableModule$1.f, O, P), O[P]);\n};\n\nvar makeBuiltIn$2 = {exports: {}};\n\nvar DESCRIPTORS$5 = descriptors;\nvar hasOwn$7 = hasOwnProperty_1;\n\nvar FunctionPrototype$1 = Function.prototype;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS$5 && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn$7(FunctionPrototype$1, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS$5 || (DESCRIPTORS$5 && getDescriptor(FunctionPrototype$1, 'name').configurable));\n\nvar functionName = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n\nvar fails$a = fails$h;\nvar isCallable$d = isCallable$l;\nvar hasOwn$6 = hasOwnProperty_1;\nvar DESCRIPTORS$4 = descriptors;\nvar CONFIGURABLE_FUNCTION_NAME$1 = functionName.CONFIGURABLE;\nvar inspectSource$2 = inspectSource$4;\nvar InternalStateModule$2 = internalState;\n\nvar enforceInternalState = InternalStateModule$2.enforce;\nvar getInternalState$1 = InternalStateModule$2.get;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty$4 = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS$4 && !fails$a(function () {\n  return defineProperty$4(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn$1 = makeBuiltIn$2.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn$6(value, 'name') || (CONFIGURABLE_FUNCTION_NAME$1 && value.name !== name)) {\n    if (DESCRIPTORS$4) defineProperty$4(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn$6(options, 'arity') && value.length !== options.arity) {\n    defineProperty$4(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn$6(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS$4) defineProperty$4(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn$6(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn$1(function toString() {\n  return isCallable$d(this) && getInternalState$1(this).source || inspectSource$2(this);\n}, 'toString');\n\nvar isCallable$c = isCallable$l;\nvar definePropertyModule$3 = objectDefineProperty;\nvar makeBuiltIn = makeBuiltIn$2.exports;\nvar defineGlobalProperty$1 = defineGlobalProperty$3;\n\nvar defineBuiltIn$6 = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable$c(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty$1(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule$3.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n\nvar objectGetOwnPropertyNames = {};\n\nvar internalObjectKeys = objectKeysInternal;\nvar enumBugKeys = enumBugKeys$3;\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es-x/no-object-getownpropertynames -- safe\nobjectGetOwnPropertyNames.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n\nvar objectGetOwnPropertySymbols = {};\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe\nobjectGetOwnPropertySymbols.f = Object.getOwnPropertySymbols;\n\nvar getBuiltIn$4 = getBuiltIn$8;\nvar uncurryThis$8 = functionUncurryThis;\nvar getOwnPropertyNamesModule = objectGetOwnPropertyNames;\nvar getOwnPropertySymbolsModule$1 = objectGetOwnPropertySymbols;\nvar anObject$8 = anObject$c;\n\nvar concat$1 = uncurryThis$8([].concat);\n\n// all object keys, includes non-enumerable and symbols\nvar ownKeys$1 = getBuiltIn$4('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject$8(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule$1.f;\n  return getOwnPropertySymbols ? concat$1(keys, getOwnPropertySymbols(it)) : keys;\n};\n\nvar hasOwn$5 = hasOwnProperty_1;\nvar ownKeys = ownKeys$1;\nvar getOwnPropertyDescriptorModule = objectGetOwnPropertyDescriptor;\nvar definePropertyModule$2 = objectDefineProperty;\n\nvar copyConstructorProperties$2 = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule$2.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn$5(target, key) && !(exceptions && hasOwn$5(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\nvar fails$9 = fails$h;\nvar isCallable$b = isCallable$l;\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced$2 = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable$b(detection) ? fails$9(detection)\n    : !!detection;\n};\n\nvar normalize = isForced$2.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced$2.data = {};\nvar NATIVE = isForced$2.NATIVE = 'N';\nvar POLYFILL = isForced$2.POLYFILL = 'P';\n\nvar isForced_1 = isForced$2;\n\nvar global$b = global$k;\nvar getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\nvar createNonEnumerableProperty$2 = createNonEnumerableProperty$4;\nvar defineBuiltIn$5 = defineBuiltIn$6;\nvar defineGlobalProperty = defineGlobalProperty$3;\nvar copyConstructorProperties$1 = copyConstructorProperties$2;\nvar isForced$1 = isForced_1;\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nvar _export = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global$b;\n  } else if (STATIC) {\n    target = global$b[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global$b[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor$1(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced$1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties$1(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty$2(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn$5(target, key, sourceProperty, options);\n  }\n};\n\nvar fails$8 = fails$h;\n\nvar correctPrototypeGetter = !fails$8(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es-x/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\nvar hasOwn$4 = hasOwnProperty_1;\nvar isCallable$a = isCallable$l;\nvar toObject$3 = toObject$5;\nvar sharedKey = sharedKey$3;\nvar CORRECT_PROTOTYPE_GETTER = correctPrototypeGetter;\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object$1 = Object;\nvar ObjectPrototype = $Object$1.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es-x/no-object-getprototypeof -- safe\nvar objectGetPrototypeOf = CORRECT_PROTOTYPE_GETTER ? $Object$1.getPrototypeOf : function (O) {\n  var object = toObject$3(O);\n  if (hasOwn$4(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable$a(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object$1 ? ObjectPrototype : null;\n};\n\nvar fails$7 = fails$h;\nvar isCallable$9 = isCallable$l;\nvar getPrototypeOf$1 = objectGetPrototypeOf;\nvar defineBuiltIn$4 = defineBuiltIn$6;\nvar wellKnownSymbol$d = wellKnownSymbol$g;\n\nvar ITERATOR$5 = wellKnownSymbol$d('iterator');\nvar BUGGY_SAFARI_ITERATORS$1 = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype$2, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es-x/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS$1 = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf$1(getPrototypeOf$1(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype$2 = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype$2 == undefined || fails$7(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype$2[ITERATOR$5].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype$2 = {};\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable$9(IteratorPrototype$2[ITERATOR$5])) {\n  defineBuiltIn$4(IteratorPrototype$2, ITERATOR$5, function () {\n    return this;\n  });\n}\n\nvar iteratorsCore = {\n  IteratorPrototype: IteratorPrototype$2,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS$1\n};\n\nvar defineProperty$3 = objectDefineProperty.f;\nvar hasOwn$3 = hasOwnProperty_1;\nvar wellKnownSymbol$c = wellKnownSymbol$g;\n\nvar TO_STRING_TAG$3 = wellKnownSymbol$c('toStringTag');\n\nvar setToStringTag$3 = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn$3(target, TO_STRING_TAG$3)) {\n    defineProperty$3(target, TO_STRING_TAG$3, { configurable: true, value: TAG });\n  }\n};\n\nvar IteratorPrototype$1 = iteratorsCore.IteratorPrototype;\nvar create = objectCreate;\nvar createPropertyDescriptor$1 = createPropertyDescriptor$4;\nvar setToStringTag$2 = setToStringTag$3;\nvar Iterators$4 = iterators;\n\nvar returnThis$1 = function () { return this; };\n\nvar createIteratorConstructor$1 = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype$1, { next: createPropertyDescriptor$1(+!ENUMERABLE_NEXT, next) });\n  setToStringTag$2(IteratorConstructor, TO_STRING_TAG, false);\n  Iterators$4[TO_STRING_TAG] = returnThis$1;\n  return IteratorConstructor;\n};\n\nvar isCallable$8 = isCallable$l;\n\nvar $String$1 = String;\nvar $TypeError$8 = TypeError;\n\nvar aPossiblePrototype$1 = function (argument) {\n  if (typeof argument == 'object' || isCallable$8(argument)) return argument;\n  throw $TypeError$8(\"Can't set \" + $String$1(argument) + ' as a prototype');\n};\n\n/* eslint-disable no-proto -- safe */\n\nvar uncurryThis$7 = functionUncurryThis;\nvar anObject$7 = anObject$c;\nvar aPossiblePrototype = aPossiblePrototype$1;\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es-x/no-object-setprototypeof -- safe\nvar objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis$7(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject$7(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\nvar $$c = _export;\nvar call$a = functionCall;\nvar FunctionName = functionName;\nvar isCallable$7 = isCallable$l;\nvar createIteratorConstructor = createIteratorConstructor$1;\nvar getPrototypeOf = objectGetPrototypeOf;\nvar setPrototypeOf$1 = objectSetPrototypeOf;\nvar setToStringTag$1 = setToStringTag$3;\nvar createNonEnumerableProperty$1 = createNonEnumerableProperty$4;\nvar defineBuiltIn$3 = defineBuiltIn$6;\nvar wellKnownSymbol$b = wellKnownSymbol$g;\nvar Iterators$3 = iterators;\nvar IteratorsCore = iteratorsCore;\n\nvar PROPER_FUNCTION_NAME$1 = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR$4 = wellKnownSymbol$b('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nvar defineIterator$1 = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR$4]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf$1) {\n          setPrototypeOf$1(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable$7(CurrentIteratorPrototype[ITERATOR$4])) {\n          defineBuiltIn$3(CurrentIteratorPrototype, ITERATOR$4, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag$1(CurrentIteratorPrototype, TO_STRING_TAG, true);\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME$1 && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty$1(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call$a(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn$3(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $$c({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if (IterablePrototype[ITERATOR$4] !== defaultIterator) {\n    defineBuiltIn$3(IterablePrototype, ITERATOR$4, defaultIterator, { name: DEFAULT });\n  }\n  Iterators$3[NAME] = defaultIterator;\n\n  return methods;\n};\n\nvar toIndexedObject = toIndexedObject$5;\nvar addToUnscopables$1 = addToUnscopables$2;\nvar Iterators$2 = iterators;\nvar InternalStateModule$1 = internalState;\nvar defineProperty$2 = objectDefineProperty.f;\nvar defineIterator = defineIterator$1;\nvar DESCRIPTORS$3 = descriptors;\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState$1 = InternalStateModule$1.set;\nvar getInternalState = InternalStateModule$1.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nvar es_array_iterator = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState$1(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nvar values = Iterators$2.Arguments = Iterators$2.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables$1('keys');\naddToUnscopables$1('values');\naddToUnscopables$1('entries');\n\n// V8 ~ Chrome 45- bug\nif (DESCRIPTORS$3 && values.name !== 'values') try {\n  defineProperty$2(values, 'name', { value: 'values' });\n} catch (error) { /* empty */ }\n\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nvar domIterables = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n\n// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`\nvar documentCreateElement = documentCreateElement$2;\n\nvar classList = documentCreateElement('span').classList;\nvar DOMTokenListPrototype$1 = classList && classList.constructor && classList.constructor.prototype;\n\nvar domTokenListPrototype = DOMTokenListPrototype$1 === Object.prototype ? undefined : DOMTokenListPrototype$1;\n\nvar global$a = global$k;\nvar DOMIterables = domIterables;\nvar DOMTokenListPrototype = domTokenListPrototype;\nvar ArrayIteratorMethods = es_array_iterator;\nvar createNonEnumerableProperty = createNonEnumerableProperty$4;\nvar wellKnownSymbol$a = wellKnownSymbol$g;\n\nvar ITERATOR$3 = wellKnownSymbol$a('iterator');\nvar TO_STRING_TAG$2 = wellKnownSymbol$a('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nvar handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR$3] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR$3, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR$3] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG$2]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG$2, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  handlePrototype(global$a[COLLECTION_NAME] && global$a[COLLECTION_NAME].prototype, COLLECTION_NAME);\n}\n\nhandlePrototype(DOMTokenListPrototype, 'DOMTokenList');\n\nvar DESCRIPTORS$2 = descriptors;\nvar uncurryThis$6 = functionUncurryThis;\nvar call$9 = functionCall;\nvar fails$6 = fails$h;\nvar objectKeys = objectKeys$2;\nvar getOwnPropertySymbolsModule = objectGetOwnPropertySymbols;\nvar propertyIsEnumerableModule = objectPropertyIsEnumerable;\nvar toObject$2 = toObject$5;\nvar IndexedObject$1 = indexedObject;\n\n// eslint-disable-next-line es-x/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\nvar defineProperty$1 = Object.defineProperty;\nvar concat = uncurryThis$6([].concat);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nvar objectAssign = !$assign || fails$6(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS$2 && $assign({ b: 1 }, $assign(defineProperty$1({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty$1(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es-x/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject$2(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject$1(arguments[index++]);\n    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS$2 || call$9(propertyIsEnumerable, S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\nvar $$b = _export;\nvar assign = objectAssign;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es-x/no-object-assign -- required for testing\n$$b({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {\n  assign: assign\n});\n\nconst CloseIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    fill: \"#C1C1C1\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n    })]\n  }));\n};\n\nconst CloseButton = ({\n  onClick\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n    onClick: onClick,\n    className: \"close-button\"\n  }, {\n    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CloseIcon, {})\n  }));\n};\n\nconst ModalHeader = ({\n  title,\n  onCloseModal\n}) => {\n  const additionalClasses = title === \"Get a Wallet\" ? \" -open\" : \"\";\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n    className: \"nws-modal-header\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", Object.assign({\n      className: `middleTitle ${additionalClasses}`\n    }, {\n      children: title\n    })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CloseButton, {\n      onClick: onCloseModal\n    })]\n  }));\n};\n\nconst BackArrowIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", Object.assign({\n    width: \"8\",\n    height: \"14\",\n    viewBox: \"0 0 8 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, {\n    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M7 13L1 7L7 1\",\n      stroke: \"#6494EE\",\n      strokeWidth: \"1.5\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    })\n  }));\n};\n\nconst BackArrow = ({\n  onClick\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n    onClick: onClick,\n    className: \"back-button\"\n  }, {\n    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BackArrowIcon, {})\n  }));\n};\n\nconst WalletNetworkChanged = ({\n  selector,\n  onBack,\n  onCloseModal\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"nws-modal-header-wrapper\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BackArrow, {\n        onClick: onBack\n      }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModalHeader, {\n        title: \"You Must Change the Network\",\n        onCloseModal: onCloseModal\n      })]\n    })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"switch-network-message-wrapper\"\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"content\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"p\", {\n          children: [\"We've detected that you need to change your wallet's network to\", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"strong\", Object.assign({\n            className: \"network-id\"\n          }, {\n            children: ` ${selector.options.network.networkId}`\n          })), \" \", \"for this dApp.\"]\n        }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n          children: \"Some wallets may not support changing networks. If you can not change networks you may consider switching to another wallet.\"\n        })]\n      }))\n    }))]\n  });\n};\n\nvar tryToString$3 = tryToString$5;\n\nvar $TypeError$7 = TypeError;\n\nvar deletePropertyOrThrow$1 = function (O, P) {\n  if (!delete O[P]) throw $TypeError$7('Cannot delete property ' + tryToString$3(P) + ' of ' + tryToString$3(O));\n};\n\nvar wellKnownSymbol$9 = wellKnownSymbol$g;\n\nvar TO_STRING_TAG$1 = wellKnownSymbol$9('toStringTag');\nvar test$1 = {};\n\ntest$1[TO_STRING_TAG$1] = 'z';\n\nvar toStringTagSupport = String(test$1) === '[object z]';\n\nvar TO_STRING_TAG_SUPPORT = toStringTagSupport;\nvar isCallable$6 = isCallable$l;\nvar classofRaw = classofRaw$1;\nvar wellKnownSymbol$8 = wellKnownSymbol$g;\n\nvar TO_STRING_TAG = wellKnownSymbol$8('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nvar classof$5 = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable$6(O.callee) ? 'Arguments' : result;\n};\n\nvar classof$4 = classof$5;\n\nvar $String = String;\n\nvar toString$3 = function (argument) {\n  if (classof$4(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n\nvar toPropertyKey = toPropertyKey$3;\nvar definePropertyModule$1 = objectDefineProperty;\nvar createPropertyDescriptor = createPropertyDescriptor$4;\n\nvar createProperty$1 = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule$1.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n\nvar toAbsoluteIndex = toAbsoluteIndex$2;\nvar lengthOfArrayLike$3 = lengthOfArrayLike$5;\nvar createProperty = createProperty$1;\n\nvar $Array = Array;\nvar max = Math.max;\n\nvar arraySliceSimple = function (O, start, end) {\n  var length = lengthOfArrayLike$3(O);\n  var k = toAbsoluteIndex(start, length);\n  var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n  var result = $Array(max(fin - k, 0));\n  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);\n  result.length = n;\n  return result;\n};\n\nvar arraySlice$2 = arraySliceSimple;\n\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    array,\n    mergeSort(arraySlice$2(array, 0, middle), comparefn),\n    mergeSort(arraySlice$2(array, middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (array, left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n\n  while (lindex < llength || rindex < rlength) {\n    array[lindex + rindex] = (lindex < llength && rindex < rlength)\n      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]\n      : lindex < llength ? left[lindex++] : right[rindex++];\n  } return array;\n};\n\nvar arraySort = mergeSort;\n\nvar fails$5 = fails$h;\n\nvar arrayMethodIsStrict$2 = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails$5(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n\nvar userAgent$4 = engineUserAgent;\n\nvar firefox = userAgent$4.match(/firefox\\/(\\d+)/i);\n\nvar engineFfVersion = !!firefox && +firefox[1];\n\nvar UA = engineUserAgent;\n\nvar engineIsIeOrEdge = /MSIE|Trident/.test(UA);\n\nvar userAgent$3 = engineUserAgent;\n\nvar webkit = userAgent$3.match(/AppleWebKit\\/(\\d+)\\./);\n\nvar engineWebkitVersion = !!webkit && +webkit[1];\n\nvar $$a = _export;\nvar uncurryThis$5 = functionUncurryThis;\nvar aCallable$7 = aCallable$9;\nvar toObject$1 = toObject$5;\nvar lengthOfArrayLike$2 = lengthOfArrayLike$5;\nvar deletePropertyOrThrow = deletePropertyOrThrow$1;\nvar toString$2 = toString$3;\nvar fails$4 = fails$h;\nvar internalSort = arraySort;\nvar arrayMethodIsStrict$1 = arrayMethodIsStrict$2;\nvar FF = engineFfVersion;\nvar IE_OR_EDGE = engineIsIeOrEdge;\nvar V8 = engineV8Version;\nvar WEBKIT = engineWebkitVersion;\n\nvar test = [];\nvar un$Sort = uncurryThis$5(test.sort);\nvar push = uncurryThis$5(test.push);\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails$4(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails$4(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD$1 = arrayMethodIsStrict$1('sort');\n\nvar STABLE_SORT = !fails$4(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD$1 || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return toString$2(x) > toString$2(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$$a({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aCallable$7(comparefn);\n\n    var array = toObject$1(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? un$Sort(array) : un$Sort(array, comparefn);\n\n    var items = [];\n    var arrayLength = lengthOfArrayLike$2(array);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) push(items, array[index]);\n    }\n\n    internalSort(items, getSortCompare(comparefn));\n\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) deletePropertyOrThrow(array, index++);\n\n    return array;\n  }\n});\n\nvar $$9 = _export;\nvar $includes = arrayIncludes.includes;\nvar fails$3 = fails$h;\nvar addToUnscopables = addToUnscopables$2;\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails$3(function () {\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$$9({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n\nvar isObject$2 = isObject$8;\nvar classof$3 = classofRaw$1;\nvar wellKnownSymbol$7 = wellKnownSymbol$g;\n\nvar MATCH$1 = wellKnownSymbol$7('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nvar isRegexp = function (it) {\n  var isRegExp;\n  return isObject$2(it) && ((isRegExp = it[MATCH$1]) !== undefined ? !!isRegExp : classof$3(it) == 'RegExp');\n};\n\nvar isRegExp = isRegexp;\n\nvar $TypeError$6 = TypeError;\n\nvar notARegexp = function (it) {\n  if (isRegExp(it)) {\n    throw $TypeError$6(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n\nvar wellKnownSymbol$6 = wellKnownSymbol$g;\n\nvar MATCH = wellKnownSymbol$6('match');\n\nvar correctIsRegexpLogic = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n\nvar $$8 = _export;\nvar uncurryThis$4 = functionUncurryThis;\nvar notARegExp = notARegexp;\nvar requireObjectCoercible = requireObjectCoercible$3;\nvar toString$1 = toString$3;\nvar correctIsRegExpLogic = correctIsRegexpLogic;\n\nvar stringIndexOf = uncurryThis$4(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$$8({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString$1(requireObjectCoercible(this)),\n      toString$1(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n\nvar aCallable$6 = aCallable$9;\nvar toObject = toObject$5;\nvar IndexedObject = indexedObject;\nvar lengthOfArrayLike$1 = lengthOfArrayLike$5;\n\nvar $TypeError$5 = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable$6(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike$1(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw $TypeError$5('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nvar arrayReduce = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n\nvar classof$2 = classofRaw$1;\nvar global$9 = global$k;\n\nvar engineIsNode = classof$2(global$9.process) == 'process';\n\nvar $$7 = _export;\nvar $reduce = arrayReduce.left;\nvar arrayMethodIsStrict = arrayMethodIsStrict$2;\nvar CHROME_VERSION = engineV8Version;\nvar IS_NODE$3 = engineIsNode;\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE$3 && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$$7({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n\nvar $$6 = _export;\nvar DESCRIPTORS$1 = descriptors;\nvar global$8 = global$k;\nvar uncurryThis$3 = functionUncurryThis;\nvar hasOwn$2 = hasOwnProperty_1;\nvar isCallable$5 = isCallable$l;\nvar isPrototypeOf$3 = objectIsPrototypeOf;\nvar toString = toString$3;\nvar defineProperty = objectDefineProperty.f;\nvar copyConstructorProperties = copyConstructorProperties$2;\n\nvar NativeSymbol = global$8.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS$1 && isCallable$5(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf$3(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis$3(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis$3(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis$3(''.replace);\n  var stringSlice = uncurryThis$3(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn$2(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $$6({ global: true, constructor: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n\nconst WarningIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M4.95215 16.3536L10.2152 5.85657C10.9531 4.38481 13.0538 4.38519 13.7912 5.85723L19.0494 16.3543C19.7156 17.6841 18.7486 19.25 17.2612 19.25H6.74001C5.25228 19.25 4.28535 17.6835 4.95215 16.3536Z\",\n      stroke: \"#E6B73E\",\n      strokeWidth: \"1.5\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M12 10V12\",\n      stroke: \"#E6B73E\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M12.5 16C12.5 16.2761 12.2761 16.5 12 16.5C11.7239 16.5 11.5 16.2761 11.5 16C11.5 15.7239 11.7239 15.5 12 15.5C12.2761 15.5 12.5 15.7239 12.5 16Z\",\n      stroke: \"#E6B73E\"\n    })]\n  }));\n};\n\nconst WalletOptions = ({\n  selector,\n  handleWalletClick\n}) => {\n  const [modules, setModules] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [recentModules, setRecentModules] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [moreModules, setMoreModules] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [activeWalletId, setActiveWalletId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const subscription = selector.store.observable.subscribe(state => {\n      const {\n        selectedWalletId\n      } = selector.store.getState();\n      if (selectedWalletId) {\n        setActiveWalletId(selectedWalletId);\n      }\n      const wallets = state.modules.filter(module => !(module.type === \"instant-link\" && selectedWalletId !== module.id));\n      if (selector.options.optimizeWalletOrder) {\n        state.modules.sort((current, next) => {\n          if (current.metadata.deprecated === next.metadata.deprecated) {\n            return 0;\n          }\n          return current.metadata.deprecated ? 1 : -1;\n        });\n        state.modules.sort((current, next) => {\n          if (next.metadata.available === current.metadata.available) {\n            return 0;\n          }\n          return next.metadata.available ? 1 : -1;\n        });\n        const moreWallets = [];\n        const recentlySignedInWallets = [];\n        wallets.forEach(module => {\n          if (selector.store.getState().recentlySignedInWallets.includes(module.id)) {\n            recentlySignedInWallets.push(module);\n          } else {\n            moreWallets.push(module);\n          }\n        });\n        setRecentModules(recentlySignedInWallets);\n        setMoreModules(moreWallets);\n      }\n      if (selector.options.randomizeWalletOrder) {\n        setModules(wallets.sort(() => Math.random() - 0.5));\n      } else {\n        setModules(wallets);\n      }\n    });\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  function renderOptionsList(modulesToRender) {\n    return modulesToRender.reduce((result, module, index) => {\n      const {\n        selectedWalletId\n      } = selector.store.getState();\n      const {\n        name,\n        description,\n        iconUrl,\n        deprecated\n      } = module.metadata;\n      const selected = module.id === selectedWalletId;\n      result.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"li\", Object.assign({\n        tabIndex: 0,\n        className: `single-wallet ${activeWalletId === module.id ? \"selected-wallet\" : \"\"} ${selected ? \"connected-wallet\" : \"\"} ${deprecated ? \"deprecated-wallet\" : \"\"} sidebar ${module.id}`,\n        onClick: () => {\n          if (module.id === modulesToRender[index].id) {\n            setActiveWalletId(module.id);\n          }\n          return handleWalletClick(module);\n        }\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"icon\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n            src: iconUrl,\n            alt: name\n          })\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"content\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n            className: \"title\"\n          }, {\n            children: name\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n            className: \"description\"\n          }, {\n            children: description\n          }))]\n        })), deprecated && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"warning-triangle\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WarningIcon, {})\n        }))]\n      }), module.id));\n      return result;\n    }, []);\n  }\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n    children: selector.options.optimizeWalletOrder && selector.store.getState().recentlySignedInWallets.length > 0 ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"wallet-options-wrapper\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"options-list-section\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"options-list-section-header\"\n        }, {\n          children: \"Recent\"\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"options-list more-options-list-content\"\n        }, {\n          children: renderOptionsList(recentModules)\n        }))]\n      })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"options-list-section\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"options-list-section-header\"\n        }, {\n          children: \"More\"\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"options-list more-options-list-content\"\n        }, {\n          children: renderOptionsList(moreModules)\n        }))]\n      }))]\n    })) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"wallet-options-wrapper\"\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n        className: \"options-list\"\n      }, {\n        children: renderOptionsList(modules)\n      }))\n    }))\n  });\n};\n\nconst ConnectionErrorIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n    width: \"21\",\n    height: \"20\",\n    viewBox: \"0 0 21 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M10.5001 18.3333C15.1025 18.3333 18.8334 14.6023 18.8334 9.99996C18.8334 5.39759 15.1025 1.66663 10.5001 1.66663C5.89771 1.66663 2.16675 5.39759 2.16675 9.99996C2.16675 14.6023 5.89771 18.3333 10.5001 18.3333Z\",\n      stroke: \"#CE5A6F\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M13 7.5L8 12.5\",\n      stroke: \"#CE5A6F\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M8 7.5L13 12.5\",\n      stroke: \"#CE5A6F\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    })]\n  }));\n};\n\nconst ConnectionSuccessIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n    width: \"21\",\n    height: \"20\",\n    viewBox: \"0 0 21 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M18.8333 9.2333V9.99997C18.8323 11.797 18.2504 13.5455 17.1744 14.9848C16.0984 16.4241 14.586 17.477 12.8628 17.9866C11.1395 18.4961 9.29768 18.4349 7.61202 17.8121C5.92636 17.1894 4.48717 16.0384 3.50909 14.5309C2.53101 13.0233 2.06645 11.24 2.18469 9.4469C2.30293 7.65377 2.99763 5.94691 4.16519 4.58086C5.33275 3.21482 6.91061 2.26279 8.66345 1.86676C10.4163 1.47073 12.2502 1.65192 13.8916 2.3833\",\n      stroke: \"#4FD98F\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M18.8333 3.33337L10.5 11.675L8 9.17504\",\n      stroke: \"#4FD98F\",\n      strokeWidth: \"2\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    })]\n  }));\n};\n\nconst ConnectionResult = ({\n  module,\n  message,\n  err,\n  onRetry\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n    className: \"connection connecting-details\"\n  }, {\n    children: err ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"error-wrapper\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"error\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConnectionErrorIcon, {}), (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.connectionFailed\")]\n      })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n        children: message\n      }), (module === null || module === void 0 ? void 0 : module.metadata.available) && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n        onClick: onRetry\n      }, {\n        children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.retry\")\n      }))]\n    })) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"success\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConnectionSuccessIcon, {}), (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.connectionSuccessful\")]\n    }))\n  }));\n};\n\nconst AlertMessage = ({\n  message,\n  module,\n  onBack,\n  onCloseModal\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModalHeader, {\n      title: \"\",\n      onCloseModal: onCloseModal\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"alert-message connecting-wrapper connecting-wrapper-err\"\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"content\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"icon\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n            src: module === null || module === void 0 ? void 0 : module.metadata.iconUrl,\n            alt: module === null || module === void 0 ? void 0 : module.metadata.name\n          })\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", Object.assign({\n          className: \"connecting-name\"\n        }, {\n          children: module === null || module === void 0 ? void 0 : module.metadata.name\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConnectionResult, {\n          module: module,\n          message: message,\n          err: message !== null,\n          onRetry: () => {\n            onBack(true);\n          }\n        })]\n      }))\n    }))]\n  });\n};\n\nvar getBuiltIn$3 = getBuiltIn$8;\nvar definePropertyModule = objectDefineProperty;\nvar wellKnownSymbol$5 = wellKnownSymbol$g;\nvar DESCRIPTORS = descriptors;\n\nvar SPECIES$2 = wellKnownSymbol$5('species');\n\nvar setSpecies$1 = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn$3(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES$2]) {\n    defineProperty(Constructor, SPECIES$2, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n\nvar isPrototypeOf$2 = objectIsPrototypeOf;\n\nvar $TypeError$4 = TypeError;\n\nvar anInstance$1 = function (it, Prototype) {\n  if (isPrototypeOf$2(Prototype, it)) return it;\n  throw $TypeError$4('Incorrect invocation');\n};\n\nvar uncurryThis$2 = functionUncurryThis;\nvar fails$2 = fails$h;\nvar isCallable$4 = isCallable$l;\nvar classof$1 = classof$5;\nvar getBuiltIn$2 = getBuiltIn$8;\nvar inspectSource$1 = inspectSource$4;\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn$2('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis$2(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable$4(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable$4(argument)) return false;\n  switch (classof$1(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource$1(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nvar isConstructor$1 = !construct || fails$2(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n\nvar isConstructor = isConstructor$1;\nvar tryToString$2 = tryToString$5;\n\nvar $TypeError$3 = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nvar aConstructor$1 = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw $TypeError$3(tryToString$2(argument) + ' is not a constructor');\n};\n\nvar anObject$6 = anObject$c;\nvar aConstructor = aConstructor$1;\nvar wellKnownSymbol$4 = wellKnownSymbol$g;\n\nvar SPECIES$1 = wellKnownSymbol$4('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nvar speciesConstructor$1 = function (O, defaultConstructor) {\n  var C = anObject$6(O).constructor;\n  var S;\n  return C === undefined || (S = anObject$6(C)[SPECIES$1]) == undefined ? defaultConstructor : aConstructor(S);\n};\n\nvar NATIVE_BIND$1 = functionBindNative;\n\nvar FunctionPrototype = Function.prototype;\nvar apply$1 = FunctionPrototype.apply;\nvar call$8 = FunctionPrototype.call;\n\n// eslint-disable-next-line es-x/no-reflect -- safe\nvar functionApply = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND$1 ? call$8.bind(apply$1) : function () {\n  return call$8.apply(apply$1, arguments);\n});\n\nvar uncurryThis$1 = functionUncurryThis;\nvar aCallable$5 = aCallable$9;\nvar NATIVE_BIND = functionBindNative;\n\nvar bind$4 = uncurryThis$1(uncurryThis$1.bind);\n\n// optional / simple context binding\nvar functionBindContext = function (fn, that) {\n  aCallable$5(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind$4(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\nvar uncurryThis = functionUncurryThis;\n\nvar arraySlice$1 = uncurryThis([].slice);\n\nvar $TypeError$2 = TypeError;\n\nvar validateArgumentsLength$1 = function (passed, required) {\n  if (passed < required) throw $TypeError$2('Not enough arguments');\n  return passed;\n};\n\nvar userAgent$2 = engineUserAgent;\n\nvar engineIsIos = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$2);\n\nvar global$7 = global$k;\nvar apply = functionApply;\nvar bind$3 = functionBindContext;\nvar isCallable$3 = isCallable$l;\nvar hasOwn$1 = hasOwnProperty_1;\nvar fails$1 = fails$h;\nvar html = html$2;\nvar arraySlice = arraySlice$1;\nvar createElement = documentCreateElement$2;\nvar validateArgumentsLength = validateArgumentsLength$1;\nvar IS_IOS$1 = engineIsIos;\nvar IS_NODE$2 = engineIsNode;\n\nvar set = global$7.setImmediate;\nvar clear = global$7.clearImmediate;\nvar process$2 = global$7.process;\nvar Dispatch = global$7.Dispatch;\nvar Function$1 = global$7.Function;\nvar MessageChannel = global$7.MessageChannel;\nvar String$1 = global$7.String;\nvar counter = 0;\nvar queue$1 = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar location, defer, channel, port;\n\ntry {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  location = global$7.location;\n} catch (error) { /* empty */ }\n\nvar run = function (id) {\n  if (hasOwn$1(queue$1, id)) {\n    var fn = queue$1[id];\n    delete queue$1[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global$7.postMessage(String$1(id), location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(handler) {\n    validateArgumentsLength(arguments.length, 1);\n    var fn = isCallable$3(handler) ? handler : Function$1(handler);\n    var args = arraySlice(arguments, 1);\n    queue$1[++counter] = function () {\n      apply(fn, undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue$1[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE$2) {\n    defer = function (id) {\n      process$2.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS$1) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind$3(port.postMessage, port);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global$7.addEventListener &&\n    isCallable$3(global$7.postMessage) &&\n    !global$7.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails$1(post)\n  ) {\n    defer = post;\n    global$7.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nvar task$1 = {\n  set: set,\n  clear: clear\n};\n\nvar userAgent$1 = engineUserAgent;\nvar global$6 = global$k;\n\nvar engineIsIosPebble = /ipad|iphone|ipod/i.test(userAgent$1) && global$6.Pebble !== undefined;\n\nvar userAgent = engineUserAgent;\n\nvar engineIsWebosWebkit = /web0s(?!.*chrome)/i.test(userAgent);\n\nvar global$5 = global$k;\nvar bind$2 = functionBindContext;\nvar getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\nvar macrotask = task$1.set;\nvar IS_IOS = engineIsIos;\nvar IS_IOS_PEBBLE = engineIsIosPebble;\nvar IS_WEBOS_WEBKIT = engineIsWebosWebkit;\nvar IS_NODE$1 = engineIsNode;\n\nvar MutationObserver = global$5.MutationObserver || global$5.WebKitMutationObserver;\nvar document$2 = global$5.document;\nvar process$1 = global$5.process;\nvar Promise$1 = global$5.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global$5, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify$1, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE$1 && (parent = process$1.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify$1();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE$1 && !IS_WEBOS_WEBKIT && MutationObserver && document$2) {\n    toggle = true;\n    node = document$2.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify$1 = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (!IS_IOS_PEBBLE && Promise$1 && Promise$1.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise$1.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise$1;\n    then = bind$2(promise.then, promise);\n    notify$1 = function () {\n      then(flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE$1) {\n    notify$1 = function () {\n      process$1.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessage\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    // strange IE + webpack dev server bug - use .bind(global)\n    macrotask = bind$2(macrotask, global$5);\n    notify$1 = function () {\n      macrotask(flush);\n    };\n  }\n}\n\nvar microtask$1 = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify$1();\n  } last = task;\n};\n\nvar global$4 = global$k;\n\nvar hostReportErrors$1 = function (a, b) {\n  var console = global$4.console;\n  if (console && console.error) {\n    arguments.length == 1 ? console.error(a) : console.error(a, b);\n  }\n};\n\nvar perform$3 = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n\nvar Queue$1 = function () {\n  this.head = null;\n  this.tail = null;\n};\n\nQueue$1.prototype = {\n  add: function (item) {\n    var entry = { item: item, next: null };\n    if (this.head) this.tail.next = entry;\n    else this.head = entry;\n    this.tail = entry;\n  },\n  get: function () {\n    var entry = this.head;\n    if (entry) {\n      this.head = entry.next;\n      if (this.tail === entry) this.tail = null;\n      return entry.item;\n    }\n  }\n};\n\nvar queue = Queue$1;\n\nvar global$3 = global$k;\n\nvar promiseNativeConstructor = global$3.Promise;\n\nvar engineIsBrowser = typeof window == 'object' && typeof Deno != 'object';\n\nvar global$2 = global$k;\nvar NativePromiseConstructor$3 = promiseNativeConstructor;\nvar isCallable$2 = isCallable$l;\nvar isForced = isForced_1;\nvar inspectSource = inspectSource$4;\nvar wellKnownSymbol$3 = wellKnownSymbol$g;\nvar IS_BROWSER = engineIsBrowser;\nvar V8_VERSION = engineV8Version;\n\nNativePromiseConstructor$3 && NativePromiseConstructor$3.prototype;\nvar SPECIES = wellKnownSymbol$3('species');\nvar SUBCLASSING = false;\nvar NATIVE_PROMISE_REJECTION_EVENT$1 = isCallable$2(global$2.PromiseRejectionEvent);\n\nvar FORCED_PROMISE_CONSTRUCTOR$5 = isForced('Promise', function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor$3);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor$3);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new NativePromiseConstructor$3(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_PROMISE_REJECTION_EVENT$1;\n});\n\nvar promiseConstructorDetection = {\n  CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR$5,\n  REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT$1,\n  SUBCLASSING: SUBCLASSING\n};\n\nvar newPromiseCapability$2 = {};\n\nvar aCallable$4 = aCallable$9;\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable$4(resolve);\n  this.reject = aCallable$4(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nnewPromiseCapability$2.f = function (C) {\n  return new PromiseCapability(C);\n};\n\nvar $$5 = _export;\nvar IS_NODE = engineIsNode;\nvar global$1 = global$k;\nvar call$7 = functionCall;\nvar defineBuiltIn$2 = defineBuiltIn$6;\nvar setPrototypeOf = objectSetPrototypeOf;\nvar setToStringTag = setToStringTag$3;\nvar setSpecies = setSpecies$1;\nvar aCallable$3 = aCallable$9;\nvar isCallable$1 = isCallable$l;\nvar isObject$1 = isObject$8;\nvar anInstance = anInstance$1;\nvar speciesConstructor = speciesConstructor$1;\nvar task = task$1.set;\nvar microtask = microtask$1;\nvar hostReportErrors = hostReportErrors$1;\nvar perform$2 = perform$3;\nvar Queue = queue;\nvar InternalStateModule = internalState;\nvar NativePromiseConstructor$2 = promiseNativeConstructor;\nvar PromiseConstructorDetection = promiseConstructorDetection;\nvar newPromiseCapabilityModule$3 = newPromiseCapability$2;\n\nvar PROMISE = 'Promise';\nvar FORCED_PROMISE_CONSTRUCTOR$4 = PromiseConstructorDetection.CONSTRUCTOR;\nvar NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;\nvar NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar NativePromisePrototype$1 = NativePromiseConstructor$2 && NativePromiseConstructor$2.prototype;\nvar PromiseConstructor = NativePromiseConstructor$2;\nvar PromisePrototype = NativePromisePrototype$1;\nvar TypeError$1 = global$1.TypeError;\nvar document$1 = global$1.document;\nvar process = global$1.process;\nvar newPromiseCapability$1 = newPromiseCapabilityModule$3.f;\nvar newGenericPromiseCapability = newPromiseCapability$1;\n\nvar DISPATCH_EVENT = !!(document$1 && document$1.createEvent && global$1.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\n\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject$1(it) && isCallable$1(then = it.then) ? then : false;\n};\n\nvar callReaction = function (reaction, state) {\n  var value = state.value;\n  var ok = state.state == FULFILLED;\n  var handler = ok ? reaction.ok : reaction.fail;\n  var resolve = reaction.resolve;\n  var reject = reaction.reject;\n  var domain = reaction.domain;\n  var result, then, exited;\n  try {\n    if (handler) {\n      if (!ok) {\n        if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n        state.rejection = HANDLED;\n      }\n      if (handler === true) result = value;\n      else {\n        if (domain) domain.enter();\n        result = handler(value); // can throw\n        if (domain) {\n          domain.exit();\n          exited = true;\n        }\n      }\n      if (result === reaction.promise) {\n        reject(TypeError$1('Promise-chain cycle'));\n      } else if (then = isThenable(result)) {\n        call$7(then, result, resolve, reject);\n      } else resolve(result);\n    } else reject(value);\n  } catch (error) {\n    if (domain && !exited) domain.exit();\n    reject(error);\n  }\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  microtask(function () {\n    var reactions = state.reactions;\n    var reaction;\n    while (reaction = reactions.get()) {\n      callReaction(reaction, state);\n    }\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document$1.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global$1.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global$1['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call$7(task, global$1, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform$2(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call$7(task, global$1, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind$1 = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError$1(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          call$7(then, value,\n            bind$1(internalResolve, wrapper, state),\n            bind$1(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED_PROMISE_CONSTRUCTOR$4) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable$3(executor);\n    call$7(Internal, this);\n    var state = getInternalPromiseState(this);\n    try {\n      executor(bind$1(internalResolve, state), bind$1(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n\n  PromisePrototype = PromiseConstructor.prototype;\n\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: new Queue(),\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n\n  // `Promise.prototype.then` method\n  // https://tc39.es/ecma262/#sec-promise.prototype.then\n  Internal.prototype = defineBuiltIn$2(PromisePrototype, 'then', function then(onFulfilled, onRejected) {\n    var state = getInternalPromiseState(this);\n    var reaction = newPromiseCapability$1(speciesConstructor(this, PromiseConstructor));\n    state.parent = true;\n    reaction.ok = isCallable$1(onFulfilled) ? onFulfilled : true;\n    reaction.fail = isCallable$1(onRejected) && onRejected;\n    reaction.domain = IS_NODE ? process.domain : undefined;\n    if (state.state == PENDING) state.reactions.add(reaction);\n    else microtask(function () {\n      callReaction(reaction, state);\n    });\n    return reaction.promise;\n  });\n\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalPromiseState(promise);\n    this.promise = promise;\n    this.resolve = bind$1(internalResolve, state);\n    this.reject = bind$1(internalReject, state);\n  };\n\n  newPromiseCapabilityModule$3.f = newPromiseCapability$1 = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (isCallable$1(NativePromiseConstructor$2) && NativePromisePrototype$1 !== Object.prototype) {\n    nativeThen = NativePromisePrototype$1.then;\n\n    if (!NATIVE_PROMISE_SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      defineBuiltIn$2(NativePromisePrototype$1, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call$7(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype$1.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype$1, PromisePrototype);\n    }\n  }\n}\n\n$$5({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR$4 }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false);\nsetSpecies(PROMISE);\n\nvar wellKnownSymbol$2 = wellKnownSymbol$g;\nvar Iterators$1 = iterators;\n\nvar ITERATOR$2 = wellKnownSymbol$2('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nvar isArrayIteratorMethod$1 = function (it) {\n  return it !== undefined && (Iterators$1.Array === it || ArrayPrototype[ITERATOR$2] === it);\n};\n\nvar classof = classof$5;\nvar getMethod$1 = getMethod$3;\nvar Iterators = iterators;\nvar wellKnownSymbol$1 = wellKnownSymbol$g;\n\nvar ITERATOR$1 = wellKnownSymbol$1('iterator');\n\nvar getIteratorMethod$2 = function (it) {\n  if (it != undefined) return getMethod$1(it, ITERATOR$1)\n    || getMethod$1(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n\nvar call$6 = functionCall;\nvar aCallable$2 = aCallable$9;\nvar anObject$5 = anObject$c;\nvar tryToString$1 = tryToString$5;\nvar getIteratorMethod$1 = getIteratorMethod$2;\n\nvar $TypeError$1 = TypeError;\n\nvar getIterator$1 = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod$1(argument) : usingIterator;\n  if (aCallable$2(iteratorMethod)) return anObject$5(call$6(iteratorMethod, argument));\n  throw $TypeError$1(tryToString$1(argument) + ' is not iterable');\n};\n\nvar call$5 = functionCall;\nvar anObject$4 = anObject$c;\nvar getMethod = getMethod$3;\n\nvar iteratorClose$1 = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject$4(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call$5(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject$4(innerResult);\n  return value;\n};\n\nvar bind = functionBindContext;\nvar call$4 = functionCall;\nvar anObject$3 = anObject$c;\nvar tryToString = tryToString$5;\nvar isArrayIteratorMethod = isArrayIteratorMethod$1;\nvar lengthOfArrayLike = lengthOfArrayLike$5;\nvar isPrototypeOf$1 = objectIsPrototypeOf;\nvar getIterator = getIterator$1;\nvar getIteratorMethod = getIteratorMethod$2;\nvar iteratorClose = iteratorClose$1;\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nvar iterate$2 = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject$3(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf$1(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = call$4(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf$1(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n\nvar wellKnownSymbol = wellKnownSymbol$g;\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es-x/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nvar checkCorrectnessOfIteration$1 = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n\nvar NativePromiseConstructor$1 = promiseNativeConstructor;\nvar checkCorrectnessOfIteration = checkCorrectnessOfIteration$1;\nvar FORCED_PROMISE_CONSTRUCTOR$3 = promiseConstructorDetection.CONSTRUCTOR;\n\nvar promiseStaticsIncorrectIteration = FORCED_PROMISE_CONSTRUCTOR$3 || !checkCorrectnessOfIteration(function (iterable) {\n  NativePromiseConstructor$1.all(iterable).then(undefined, function () { /* empty */ });\n});\n\nvar $$4 = _export;\nvar call$3 = functionCall;\nvar aCallable$1 = aCallable$9;\nvar newPromiseCapabilityModule$2 = newPromiseCapability$2;\nvar perform$1 = perform$3;\nvar iterate$1 = iterate$2;\nvar PROMISE_STATICS_INCORRECT_ITERATION$1 = promiseStaticsIncorrectIteration;\n\n// `Promise.all` method\n// https://tc39.es/ecma262/#sec-promise.all\n$$4({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION$1 }, {\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule$2.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform$1(function () {\n      var $promiseResolve = aCallable$1(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate$1(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call$3($promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n\nvar $$3 = _export;\nvar FORCED_PROMISE_CONSTRUCTOR$2 = promiseConstructorDetection.CONSTRUCTOR;\nvar NativePromiseConstructor = promiseNativeConstructor;\nvar getBuiltIn$1 = getBuiltIn$8;\nvar isCallable = isCallable$l;\nvar defineBuiltIn$1 = defineBuiltIn$6;\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\n\n// `Promise.prototype.catch` method\n// https://tc39.es/ecma262/#sec-promise.prototype.catch\n$$3({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR$2, real: true }, {\n  'catch': function (onRejected) {\n    return this.then(undefined, onRejected);\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\nif (isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn$1('Promise').prototype['catch'];\n  if (NativePromisePrototype['catch'] !== method) {\n    defineBuiltIn$1(NativePromisePrototype, 'catch', method, { unsafe: true });\n  }\n}\n\nvar $$2 = _export;\nvar call$2 = functionCall;\nvar aCallable = aCallable$9;\nvar newPromiseCapabilityModule$1 = newPromiseCapability$2;\nvar perform = perform$3;\nvar iterate = iterate$2;\nvar PROMISE_STATICS_INCORRECT_ITERATION = promiseStaticsIncorrectIteration;\n\n// `Promise.race` method\n// https://tc39.es/ecma262/#sec-promise.race\n$$2({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule$1.f(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      iterate(iterable, function (promise) {\n        call$2($promiseResolve, C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n\nvar $$1 = _export;\nvar call$1 = functionCall;\nvar newPromiseCapabilityModule = newPromiseCapability$2;\nvar FORCED_PROMISE_CONSTRUCTOR$1 = promiseConstructorDetection.CONSTRUCTOR;\n\n// `Promise.reject` method\n// https://tc39.es/ecma262/#sec-promise.reject\n$$1({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR$1 }, {\n  reject: function reject(r) {\n    var capability = newPromiseCapabilityModule.f(this);\n    call$1(capability.reject, undefined, r);\n    return capability.promise;\n  }\n});\n\nvar anObject$2 = anObject$c;\nvar isObject = isObject$8;\nvar newPromiseCapability = newPromiseCapability$2;\n\nvar promiseResolve$1 = function (C, x) {\n  anObject$2(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\nvar $ = _export;\nvar getBuiltIn = getBuiltIn$8;\nvar FORCED_PROMISE_CONSTRUCTOR = promiseConstructorDetection.CONSTRUCTOR;\nvar promiseResolve = promiseResolve$1;\n\ngetBuiltIn('Promise');\n\n// `Promise.resolve` method\n// https://tc39.es/ecma262/#sec-promise.resolve\n$({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {\n  resolve: function resolve(x) {\n    return promiseResolve(this, x);\n  }\n});\n\nconst HardwareWalletAccountsForm = ({\n  accounts,\n  onSelectedChanged,\n  onSubmit,\n  onChangeRoute\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n    className: \"choose-ledger-account-form-wrapper\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"p\", {\n      children: [\"We found \", accounts.length, \" accounts on your device. Select the account(s) you wish to connect.\"]\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"button-wrapper\"\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n        onClick: () => {\n          onChangeRoute(\"SpecifyHDPath\");\n        }\n      }, {\n        children: \"HD.../0\"\n      }))\n    })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"form\", Object.assign({\n      className: \"form\",\n      onSubmit: e => {\n        onSubmit(accounts, e);\n      }\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"nws-form-control\"\n        }, {\n          children: accounts.map((account, index) => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n            className: \"account\"\n          }, {\n            children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n              onChange: e => {\n                onSelectedChanged(index, e.target.checked);\n              },\n              checked: account.selected,\n              type: \"checkbox\",\n              id: account.accountId,\n              name: account.accountId,\n              value: account.accountId\n            }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"label\", Object.assign({\n              htmlFor: account.accountId\n            }, {\n              children: [\" \", account.accountId]\n            })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"br\", {})]\n          }), index))\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"action-buttons\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n            className: \"middleButton\",\n            type: \"submit\",\n            disabled: !accounts.some(x => x.selected)\n          }, {\n            children: \"Connect\"\n          }))\n        }))]\n      })\n    }))]\n  }));\n};\n\nvar img = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR3SURBVHgBpVZ9aJVVGH+e55z33bi7zY9hMz+yMAeNoEIq6A9ZRKQWEsQNFIIpsf5Y9E+GsD9iBEEDMUkDa6ShRKKZYIWiRkaKaUGUGCKOTGMF84PNO99773vOefq9720yK5ZzD/dwPt/nd37P17lEk5Qnuz9roUkKT7T5bNe+QjTNLCHv24h1Xgh+OmtwQYPH2jUXwlnW9NRooqePfLS6MmmQ59cdeEGJlkJZA5MGVecoAwghBYZTVY9ftuaDSy8x8w9fbFl95JZAXuw9dmelkvRAyXxS7wMFryG4bIyWZiqzPgMhaFfGfn3NY3AZG9sPf/Dy8HidZvxkZc/h1pqnPlKey6yspMqUd9jVAEYY6RCGDQTwjGDwGTgAlbwRijV1C9vanz577tT+6r+YrOz5rlXFrQ/qZ+FbDxCfXS5oOgxln4v473f3rbgwdn7FK5/MCaH2eAg6X8g3K2iBMTiBkNJVKbod+ze9mgPZsY/UaicYzCE1HgpZc558olCTjTvWLxv9p1n3bV45iO7T5zq3TU9j9xTOLwQ5D9t48aEYrtGj2P/2BpNS78nZJoRdlDsYd8vphz273lqyhW5Rnlnz3hOe6SEwghvxPUMTVfYe2rpuUOqOkZeIxdSbsSJ8eTIAmXy5tftrMPkzi0C4B2ZDNHp+INvLQURkhYiJ6gDGko376DbEJ8k3mcnYBSeSM2ptL/XGsurNnxfnDIQNwCKADO1845Ef6Tbk0M51g4joMgncDyBmkrtsNEMQovcDxGYsGL2yDNAUxPv0VySs4yxhfeYbabJg0Awg+ILylEB6nKMpSOp0WCR1+QSuD4ELljNDEfyRrdXPCU1BTEgD7pyOzVmC2iBm0KgYAMCEeXovoClIjdKiVdQ3FYbzmatxWRqMPcNsDHyfNWskWk5TkJhNEwVyxA6hLL5clLJsW7voFxa6LiR5CCOeWzo3XFxKtyEdy3tnp7VahAoDp6PEVGvJye09l3P7K9k9WQijXBv4B6WG+0pvD0ybFEBHZ6OPh+/OGaBsIvNRAGp/ZHv1jJeon+omszBkFsr3FhsLB7rev3JLQKVSyfjmaW2BJSavDlqR7c5VrR+4AbLttbkXMehH7gjA8gZiD/tq+Or/ABZ3dUW/J62LcPUGcrW8pKSVFAg6cHz3O0l25qZHa/XGwWPg9aAwwzdZAaDX+7tbNsMYf5+bpaUS0dDQEF8rtsUxCbI5e5KRzGhBMiqNxllKju7d8NOYXjseRBytQngcVDL3wD9H+7vf3YS7mnnzqrZpwSxrwkh04cpM5NTMyJdHbIgaESyxJ6tZ5cDbw3qd0tqVCp25Se/4yYdr5/zm/ehjwvpxZHgN0Wlub0/Yt7awdykqRYFHy6NUQVrBd4o6p6ngrVL2Bo8ksuJqoXzq9Ln9m6rj9U74b6Wjo8OeP082aY5NUxRsYzwDkeFsU+MdUU3U4PG0QtbahqhadDMuHTy4fvS/9EwIUpdeuW/ZiShOipFxURRbNdWETFMRZrCFlEZGkuPHdycTafgLExNiI6YfUpcAAAAASUVORK5CYII=\";\n\nconst WalletConnecting = ({\n  wallet,\n  onCloseModal\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModalHeader, {\n      title: \"\",\n      onCloseModal: onCloseModal\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"connecting-wrapper\"\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"content\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"icon\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n            src: wallet === null || wallet === void 0 ? void 0 : wallet.metadata.iconUrl,\n            alt: wallet === null || wallet === void 0 ? void 0 : wallet.metadata.name\n          })\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", Object.assign({\n          className: \"connecting-name\"\n        }, {\n          children: wallet === null || wallet === void 0 ? void 0 : wallet.metadata.name\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"connecting-details\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n            className: \"spinner\"\n          }, {\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n              src: img,\n              alt: \"loading-icon\"\n            })\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n            children: [(0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.connectingTo\"), \" \", wallet === null || wallet === void 0 ? void 0 : wallet.metadata.name, \"...\"]\n          })]\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"connecting-message\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(`modal.wallet.connectingMessage.${wallet === null || wallet === void 0 ? void 0 : wallet.type}`)\n          })\n        }))]\n      }))\n    }))]\n  });\n};\n\nconst LedgerDeviceIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n    width: \"317\",\n    height: \"157\",\n    viewBox: \"0 0 317 157\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M249.99 16.0994C270.063 -0.864155 289.788 1.58873 301.497 10.7365C307.402 15.3499 311.278 21.6575 312.267 28.1258C313.247 34.5412 311.413 41.2233 305.692 46.8044C297.366 54.9273 286.343 55.3362 273.015 51.5109C261.654 48.25 249.058 42.0377 235.726 35.4627L235.726 35.4626L235.717 35.458C233.367 34.2992 230.995 33.129 228.602 31.9618C212.742 24.2253 196.067 16.6575 179.842 13.8595C163.538 11.0479 147.552 13.0313 133.266 24.522C128.032 28.732 123.478 35.2086 121.716 44.8205C119.961 54.3947 120.992 66.9771 126.703 83.4311C135.432 108.583 132.899 126.677 123.575 138.063C114.217 149.491 97.5614 154.733 76.7887 153.121C55.0043 151.43 29.0621 142.206 3.29867 125.227L0.887817 127.942C27.2472 145.405 53.9251 154.952 76.5105 156.705C97.9028 158.365 115.96 153.035 126.356 140.341C136.785 127.606 139.045 108.029 130.099 82.2524C124.521 66.1801 123.642 54.2493 125.252 45.4687C126.854 36.7258 130.94 31.006 135.519 27.3232C148.794 16.6458 163.649 14.715 179.231 17.4021C194.891 20.1027 211.146 27.4463 227.026 35.1928C229.381 36.3415 231.729 37.5001 234.066 38.6531L234.073 38.6568C247.382 45.223 260.324 51.608 272.024 54.9662C285.819 58.9258 298.493 58.8501 308.202 49.3776C314.764 42.9759 316.974 35.1288 315.82 27.5826C314.675 20.0893 310.237 13.0029 303.71 7.90363C290.555 -2.37382 268.938 -4.62038 247.67 13.3537L249.99 16.0994Z\",\n      fill: \"url(#paint0_linear_3_672)\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M260.264 17.8767L177.605 89.4649L157.679 73.9664L239.23 3.85423L260.264 17.8767Z\",\n      fill: \"#6A7075\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M205.939 54.4577L199.764 50.2636L233.316 20.9053L239.907 25.8395L205.939 54.4577Z\",\n      fill: \"#494E52\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M260.264 17.8757L177.605 89.4639L182.033 98.3202L264.323 26.363L260.264 17.8757Z\",\n      fill: \"#494E52\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M177.236 89.4646L181.295 98.3209L165.059 85.7745L170.963 85.0365L177.236 89.4646Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M93.4708 99.6384L91.9948 110.13L174.653 92.894L164.69 85.7749L93.4708 99.6384Z\",\n      fill: \"#DCDADA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M93.1157 104.323L94.314 100.129L165.613 86.3483L169.208 89.344L93.1157 104.323Z\",\n      fill: \"#C1C1C1\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M94.2086 99.7963L86.0903 101.272L92.3635 110.129L94.2086 99.7963Z\",\n      fill: \"#B3AAAA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M86.0903 100.907L89.0027 74.1304L178.455 55.2416C184.695 53.9962 195.766 54.7675 197.177 63.7058C198.284 70.717 195.506 73.9943 191.628 77.3592C188.495 80.0671 180.152 82.4646 178.343 82.8944C178.293 82.9064 178.241 82.9188 178.186 82.9319C177.38 83.1245 176.007 83.4525 170.644 84.5088C169.085 84.8158 167.382 85.1501 165.557 85.5078L164.933 85.63C146.312 89.2764 115.528 95.2297 93.9844 99.3849C91.1808 99.9257 88.5337 100.436 86.0903 100.907ZM185.076 75.554C190.748 73.3535 193.99 68.0745 192.318 63.7631C190.645 59.4517 184.691 57.7405 179.019 59.941C173.347 62.1416 170.105 67.4206 171.778 71.732C173.45 76.0434 179.404 77.7546 185.076 75.554Z\",\n      fill: \"#F4F1E8\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M199.764 50.3994L196.768 48.3043L232.194 18.0454L233.316 21.6403L199.764 50.3994Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M239.968 25.9943L232.588 20.4592V17.5071L241.813 24.5183L239.968 25.9943Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"ellipse\", {\n      cx: \"182.084\",\n      cy: \"68.0811\",\n      rx: \"10.242\",\n      ry: \"7.46772\",\n      transform: \"rotate(-23.7949 182.084 68.0811)\",\n      fill: \"#494E52\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"ellipse\", {\n      cx: \"182.084\",\n      cy: \"68.0816\",\n      rx: \"6.68462\",\n      ry: \"4.87394\",\n      transform: \"rotate(-23.7949 182.084 68.0816)\",\n      fill: \"#494E52\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M238.725 2.93094L260.368 17.2564L264.865 26.4556L181.615 99.0341L175.16 94.311L92.0028 110.947L85.3267 101.399L88.3269 73.8157L178.118 54.8553L238.725 2.93094ZM178.599 56.2622L89.6786 75.0388L86.9321 100.29C89.0979 99.8725 91.4124 99.4263 93.8446 98.9572C115.388 94.8019 146.171 88.8488 164.791 85.2026L165.415 85.0804C167.24 84.7228 168.943 84.3885 170.501 84.0816C175.853 83.0275 177.219 82.701 178.015 82.5107C178.07 82.4976 178.122 82.4852 178.173 82.4732C179.048 82.2652 181.558 81.5669 184.235 80.5851C186.742 79.6655 189.286 78.5354 190.802 77.3758L191.151 77.0922L191.644 76.6595C193.341 75.147 194.723 73.6739 195.61 71.871C196.571 69.916 196.982 67.5029 196.448 64.1178C195.8 60.0131 192.959 57.7574 189.408 56.6566C185.833 55.5483 181.637 55.6566 178.603 56.2615C178.601 56.2617 178.6 56.262 178.599 56.2622ZM192.631 77.7565L259.555 18.9531L263.042 26.0869L181.808 96.9078L178.132 89.5713L191.724 78.529C191.859 78.4249 191.988 78.32 192.11 78.2144L192.111 78.2136C192.286 78.0617 192.46 77.9094 192.631 77.7565ZM185.491 81.6908C185.24 81.7868 184.99 81.8802 184.743 81.9709C182.013 82.9723 179.447 83.6875 178.514 83.9093C178.463 83.9213 178.411 83.9338 178.356 83.9468C177.635 84.1192 176.472 84.3971 172.491 85.1919L177.172 88.4492L185.491 81.6908ZM176.631 89.8707L170.479 85.5903C169.306 85.8213 168.054 86.0673 166.731 86.3265L175.769 92.9276L179.548 95.6924L176.631 89.8707ZM164.758 86.7132C146.252 90.3362 116.027 96.1817 94.6324 100.308L93.2258 109.197L173.543 93.1293L164.758 86.7132ZM91.888 108.207L93.0909 100.606C91.0848 100.993 89.1642 101.363 87.3471 101.713L91.888 108.207ZM258.581 17.8436L197.306 71.6841C198.142 69.5779 198.41 67.0795 197.906 63.8876C197.143 59.0539 193.743 56.4549 189.845 55.2467C186.921 54.3402 183.662 54.1916 180.861 54.449L238.84 4.77668L258.581 17.8436ZM232.505 16.82L243.089 24.5643L205.915 56.5106L196.042 48.0665L232.505 16.82ZM232.118 19.096L198.312 48.0654L199.744 49.29L232.584 20.9424L232.118 19.096ZM233.456 22.1396L200.878 50.2604L205.913 54.5664L239.041 26.0969L233.456 22.1396ZM240.195 25.1054L240.717 24.6571L233.759 19.5663L234.06 20.7586L240.195 25.1054Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M190.194 69.9744C191.32 68.1409 191.576 66.2271 190.942 64.5937C190.308 62.9603 188.829 61.7198 186.761 61.1254C184.691 60.5307 182.116 60.6196 179.553 61.6139C176.991 62.6081 175.029 64.2794 173.902 66.1141C172.776 67.9477 172.52 69.8614 173.154 71.4948C173.788 73.1282 175.267 74.3687 177.335 74.9631C179.405 75.5578 181.98 75.4689 184.543 74.4746C187.105 73.4804 189.067 71.8091 190.194 69.9744ZM185.077 75.8508C190.749 73.6502 193.991 68.3712 192.318 64.0598C190.645 59.7484 184.691 58.0372 179.019 60.2378C173.347 62.4383 170.105 67.7173 171.778 72.0287C173.451 76.3401 179.405 78.0513 185.077 75.8508Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M187.391 69.169C188.127 67.9713 188.266 66.7721 187.881 65.7812C187.497 64.7903 186.586 63.9984 185.235 63.6102C183.883 63.2216 182.173 63.2741 180.456 63.9404C178.738 64.6068 177.441 65.7208 176.705 66.9196C175.969 68.1172 175.83 69.3165 176.215 70.3074C176.599 71.2983 177.511 72.0901 178.861 72.4783C180.214 72.8669 181.923 72.8144 183.64 72.1481C185.358 71.4818 186.655 70.3678 187.391 69.169ZM184.174 73.5242C188.156 71.9795 190.432 68.2738 189.257 65.2473C188.083 62.2208 183.904 61.0196 179.922 62.5643C175.94 64.1091 173.665 67.8148 174.839 70.8412C176.013 73.8677 180.193 75.0689 184.174 73.5242Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M240.499 41.2441C239.744 40.3649 239.844 39.04 240.724 38.285L249.781 30.5067C250.66 29.7516 251.985 29.8523 252.74 30.7315V30.7315C253.495 31.6108 253.395 32.9356 252.516 33.6907L243.458 41.469C242.579 42.224 241.254 42.1234 240.499 41.2441V41.2441Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M250.743 31.6265L241.685 39.4048C241.424 39.6287 241.395 40.0217 241.619 40.2825C241.842 40.5433 242.235 40.5731 242.496 40.3492L251.554 32.5709C251.815 32.3469 251.845 31.954 251.621 31.6932C251.397 31.4324 251.004 31.4025 250.743 31.6265ZM240.724 38.285C239.844 39.04 239.744 40.3649 240.499 41.2441C241.254 42.1234 242.579 42.224 243.458 41.469L252.516 33.6907C253.395 32.9356 253.495 31.6108 252.74 30.7315C251.985 29.8523 250.66 29.7516 249.781 30.5067L240.724 38.285Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M205.779 71.4647C205.005 70.5642 205.108 69.2073 206.009 68.4339L214.989 60.7218C215.89 59.9485 217.247 60.0516 218.02 60.9521V60.9521C218.793 61.8526 218.69 63.2095 217.79 63.9829L208.809 71.695C207.909 72.4683 206.552 72.3652 205.779 71.4647V71.4647Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M215.951 61.8416L206.97 69.5537C206.688 69.796 206.656 70.221 206.898 70.5031C207.141 70.7851 207.566 70.8174 207.848 70.5752L216.828 62.863C217.11 62.6208 217.143 62.1958 216.9 61.9137C216.658 61.6317 216.233 61.5994 215.951 61.8416ZM206.009 68.4339C205.108 69.2073 205.005 70.5642 205.779 71.4647C206.552 72.3652 207.909 72.4683 208.809 71.695L217.79 63.9829C218.69 63.2095 218.793 61.8526 218.02 60.9521C217.247 60.0516 215.89 59.9485 214.989 60.7218L206.009 68.4339Z\",\n      fill: \"black\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", {\n      cx: \"141.356\",\n      cy: \"19.525\",\n      r: \"10.1855\",\n      fill: \"#FE89B4\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"ellipse\", {\n      cx: \"139.062\",\n      cy: \"14.7094\",\n      rx: \"2.42519\",\n      ry: \"1.94015\",\n      transform: \"rotate(-34.544 139.062 14.7094)\",\n      fill: \"#FDF7FF\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", {\n      cx: \"252.489\",\n      cy: \"79.7577\",\n      r: \"7.78893\",\n      fill: \"#EC5236\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"ellipse\", {\n      cx: \"250.434\",\n      cy: \"76.3701\",\n      rx: \"2.61272\",\n      ry: \"2.09018\",\n      transform: \"rotate(-34.544 250.434 76.3701)\",\n      fill: \"#EDB69D\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M100.436 79.9254C100.461 79.6567 100.732 79.3897 101.042 79.329L106.657 78.2299C107.587 78.0478 108.281 78.5536 108.207 79.3596L107.759 84.2243C107.734 84.493 107.463 84.76 107.153 84.8207L100.416 86.1396C100.106 86.2003 99.8742 86.0317 99.899 85.7631L100.436 79.9254Z\",\n      fill: \"#B3AAAA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M95.8553 81.7775C95.9294 80.9715 96.7437 80.1704 97.6739 79.9883L98.7968 79.7685C99.1069 79.7078 99.3382 79.8764 99.3135 80.1451L99.1344 82.091C99.1096 82.3597 98.8382 82.6267 98.5282 82.6874L96.2824 83.127C95.9723 83.1877 95.741 83.0191 95.7657 82.7505L95.8553 81.7775Z\",\n      fill: \"#B3AAAA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M95.5865 84.6965C95.6112 84.4278 95.8826 84.1608 96.1927 84.1001L98.4385 83.6605C98.7486 83.5998 98.9799 83.7684 98.9552 84.037L98.7761 85.9829C98.7513 86.2516 98.4799 86.5186 98.1699 86.5793L95.9241 87.019C95.614 87.0797 95.3827 86.9111 95.4074 86.6424L95.5865 84.6965Z\",\n      fill: \"#B3AAAA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M95.2282 88.5884C95.2529 88.3197 95.5244 88.0527 95.8344 87.992L98.0802 87.5524C98.3903 87.4917 98.6216 87.6603 98.5969 87.929L98.4178 89.8749C98.3931 90.1435 98.1216 90.4105 97.8116 90.4712L96.6887 90.6911C95.7584 90.8732 95.0645 90.3674 95.1387 89.5614L95.2282 88.5884Z\",\n      fill: \"#B3AAAA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M99.7197 87.709C99.7444 87.4403 100.016 87.1733 100.326 87.1126L102.572 86.673C102.882 86.6123 103.113 86.7809 103.088 87.0496L102.909 88.9955C102.885 89.2641 102.613 89.5312 102.303 89.5919L100.057 90.0315C99.7472 90.0922 99.5159 89.9236 99.5406 89.6549L99.7197 87.709Z\",\n      fill: \"#B3AAAA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M104.211 86.8298C104.236 86.5611 104.507 86.2941 104.817 86.2334L107.063 85.7938C107.373 85.7331 107.605 85.9017 107.58 86.1704L107.49 87.1433C107.416 87.9493 106.602 88.7504 105.672 88.9325L104.549 89.1523C104.239 89.213 104.007 89.0444 104.032 88.7757L104.211 86.8298Z\",\n      fill: \"#B3AAAA\"\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"defs\", {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"linearGradient\", Object.assign({\n        id: \"paint0_linear_3_672\",\n        x1: \"-44.5195\",\n        y1: \"122.42\",\n        x2: \"263.357\",\n        y2: \"-8.65023\",\n        gradientUnits: \"userSpaceOnUse\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", {\n          offset: \"0.110697\",\n          stopColor: \"#232323\"\n        }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"stop\", {\n          offset: \"1\",\n          stopColor: \"#3D3D3D\"\n        })]\n      }))\n    })]\n  }));\n};\n\nconst UpArrowIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", Object.assign({\n    width: \"10\",\n    height: \"7\",\n    viewBox: \"0 0 10 7\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, {\n    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M9 5.4762L5 1.4762L1 5.4762\",\n      stroke: \"#4F7CD1\",\n      strokeWidth: \"1.5\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    })\n  }));\n};\n\nconst DownArrowIcon = () => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", Object.assign({\n    width: \"10\",\n    height: \"7\",\n    viewBox: \"0 0 10 7\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, {\n    children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n      d: \"M1 1.52382L5 5.52382L9 1.52382\",\n      stroke: \"#4F7CD1\",\n      strokeWidth: \"1.5\",\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    })\n  }));\n};\n\nconst DEFAULT_DERIVATION_PATH = \"44'/397'/0'/0'/1'\";\nconst DerivationPath = ({\n  selector,\n  options,\n  onBack,\n  onConnected,\n  params,\n  onError,\n  onCloseModal\n}) => {\n  const [route, setRoute] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"EnterDerivationPath\");\n  const [derivationPath, setDerivationPath] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(DEFAULT_DERIVATION_PATH);\n  const [customDerivationPath, setCustomDerivationPath] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n  const [accounts, setAccounts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [selectedAccounts, setSelectedAccounts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [hardwareWallet, setHardwareWallet] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [customAccountId, setCustomAccountId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  const [connecting, setConnecting] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const initalHeaderTitle = (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.connectWithLedger\");\n  const [headerTitle, setHeaderTitle] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initalHeaderTitle);\n  const getAccountIds = publicKey => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield fetch(`${selector.options.network.indexerUrl}/publicKey/ed25519:${publicKey}/accounts`);\n    if (!response.ok) {\n      throw new Error(\"Failed to get account id from public key\");\n    }\n    const accountIds = yield response.json();\n    if (!Array.isArray(accountIds) || !accountIds.length) {\n      return [];\n    }\n    return accountIds;\n  });\n  const resolveAccounts = wallet => __awaiter(void 0, void 0, void 0, function* () {\n    const publicKey = yield wallet.getPublicKey(derivationPath);\n    try {\n      const accountIds = yield getAccountIds(publicKey);\n      return accountIds.map((accountId, index) => {\n        return {\n          derivationPath,\n          publicKey,\n          accountId,\n          selected: index === 0\n        };\n      });\n    } catch (e) {\n      return null;\n    }\n  });\n  const handleValidateAccount = () => __awaiter(void 0, void 0, void 0, function* () {\n    const wallet = yield selector.wallet(params.walletId);\n    if (wallet.type !== \"hardware\") {\n      return;\n    }\n    setConnecting(true);\n    setHardwareWallet(wallet);\n    try {\n      const resolvedAccounts = yield resolveAccounts(wallet);\n      if (!resolvedAccounts) {\n        setRoute(\"AddCustomAccountId\");\n        return;\n      }\n      const noAccounts = resolvedAccounts.length === 0;\n      const multipleAccounts = resolvedAccounts.length > 1;\n      if (noAccounts) {\n        setHeaderTitle((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.noAccountsFound\"));\n        setRoute(\"NoAccountsFound\");\n        return;\n      }\n      setAccounts(resolvedAccounts);\n      if (!multipleAccounts) {\n        setSelectedAccounts(resolvedAccounts);\n        setRoute(\"OverviewAccounts\");\n      } else {\n        setHeaderTitle((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.selectYourAccounts\"));\n        setRoute(\"ChooseAccount\");\n      }\n    } catch (err) {\n      setConnecting(false);\n      const message = err && typeof err === \"object\" && \"message\" in err ? err.message : \"Something went wrong\";\n      onError(message, wallet);\n    } finally {\n      setConnecting(false);\n    }\n  });\n  const handleAddCustomAccountId = () => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n      setConnecting(true);\n      const publicKey = yield hardwareWallet.getPublicKey(derivationPath);\n      const accountList = [{\n        derivationPath: derivationPath,\n        publicKey,\n        accountId: customAccountId,\n        selected: true\n      }];\n      setAccounts(accountList);\n      setSelectedAccounts(accountList);\n      setHeaderTitle((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.connecting1Account\"));\n      setRoute(\"OverviewAccounts\");\n    } catch (err) {\n      setConnecting(false);\n      const message = err && typeof err === \"object\" && \"message\" in err ? err.message : \"Something went wrong\";\n      onError(message, hardwareWallet);\n    } finally {\n      setConnecting(false);\n    }\n  });\n  const handleSignIn = () => {\n    const mapAccounts = selectedAccounts.map(account => {\n      return {\n        derivationPath: account.derivationPath,\n        publicKey: account.publicKey,\n        accountId: account.accountId\n      };\n    });\n    return hardwareWallet.signIn({\n      contractId: options.contractId,\n      methodNames: options.methodNames,\n      accounts: mapAccounts\n    }).then(() => onConnected()).catch(err => {\n      onError(`Error: ${err.message}`, hardwareWallet);\n    });\n  };\n  const handleOnBackButtonClick = () => {\n    if (route === \"SpecifyHDPath\" || route === \"NoAccountsFound\" || route === \"ChooseAccount\") {\n      setHeaderTitle((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.connectWithLedger\"));\n      setRoute(\"EnterDerivationPath\");\n    }\n    if (route === \"OverviewAccounts\") {\n      setHeaderTitle((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.selectYourAccounts\"));\n      setRoute(\"ChooseAccount\");\n    }\n  };\n  if (connecting) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"derivation-path-wrapper\"\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WalletConnecting, {\n        wallet: hardwareWallet,\n        onBack: () => {\n          setConnecting(false);\n        },\n        onCloseModal: onCloseModal\n      })\n    }));\n  }\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"nws-modal-header-wrapper\"\n    }, {\n      children: [(route === \"SpecifyHDPath\" || route === \"NoAccountsFound\" || route === \"ChooseAccount\" || route === \"OverviewAccounts\") && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BackArrow, {\n        onClick: handleOnBackButtonClick\n      }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModalHeader, {\n        title: headerTitle,\n        onCloseModal: onCloseModal\n      })]\n    })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"derivation-path-wrapper\"\n    }, {\n      children: [route === \"EnterDerivationPath\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"enter-derivation-path\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"ledger-image\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LedgerDeviceIcon, {})\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"ledger-description\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.makeSureYourLedger\")\n          }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", Object.assign({\n            className: \"specify-path\",\n            onClick: () => {\n              setHeaderTitle((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.specifyHDPath\"));\n              setRoute(\"SpecifyHDPath\");\n            }\n          }, {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.specifyHDPath\")\n          }))]\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"action-buttons\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n            className: \"middleButton\",\n            onClick: handleValidateAccount\n          }, {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.continue\")\n          }))\n        }))]\n      })), route === \"SpecifyHDPath\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"specify-path-wrapper\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"change-path-wrapper\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n            className: \"display-path\"\n          }, {\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n              children: derivationPath.slice(0, -2)\n            })\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n            className: \"change-path\"\n          }, {\n            children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n              className: \"path-value\"\n            }, {\n              children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                children: customDerivationPath\n              })\n            })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n              className: \"buttons-wrapper\"\n            }, {\n              children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n                onClick: () => {\n                  const newValue = customDerivationPath + 1;\n                  const path = derivationPath.slice(0, -2);\n                  setDerivationPath(`${path}${newValue}'`);\n                  setCustomDerivationPath(newValue);\n                }\n              }, {\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UpArrowIcon, {})\n              })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n                onClick: () => {\n                  const newValue = customDerivationPath - 1;\n                  if (newValue < 0) {\n                    return;\n                  }\n                  const path = derivationPath.slice(0, -2);\n                  setDerivationPath(`${path}${newValue}'`);\n                  setCustomDerivationPath(newValue);\n                }\n              }, {\n                children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DownArrowIcon, {})\n              }))]\n            }))]\n          }))]\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", Object.assign({\n          className: \"path-description\"\n        }, {\n          children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.enterYourPreferredHDPath\")\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", Object.assign({\n          className: \"what-link\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", Object.assign({\n            href: \"https://www.ledger.com/academy/crypto/what-are-hierarchical-deterministic-hd-wallets\",\n            target: \"_blank\"\n          }, {\n            children: \"What's this?\"\n          }))\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"action-buttons\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n            className: \"middleButton\",\n            onClick: handleValidateAccount\n          }, {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.scan\")\n          }))\n        }))]\n      })), route === \"NoAccountsFound\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n        className: \"no-accounts-found-wrapper\"\n      }, {\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"p\", {\n          children: [(0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.cantFindAnyAccount\"), \" \", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", Object.assign({\n            href: `https://${selector.options.network.networkId === \"testnet\" ? \"testnet\" : \"app\"}.mynearwallet.com/create`,\n            target: \"_blank\"\n          }, {\n            children: \"MyNearWallet\"\n          })), \" \", (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.orConnectAnAnotherLedger\")]\n        })\n      })), route === \"ChooseAccount\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(HardwareWalletAccountsForm, {\n        accounts: accounts,\n        onSelectedChanged: (index, selected) => {\n          setAccounts(prevAccounts => {\n            const updateAccounts = prevAccounts.map((account, idx) => {\n              const selectedValue = index === idx ? selected : account.selected;\n              return Object.assign(Object.assign({}, account), {\n                selected: selectedValue\n              });\n            });\n            return [...updateAccounts];\n          });\n        },\n        onSubmit: (acc, e) => {\n          e.preventDefault();\n          const selectedAcc = acc.filter(account => account.selected);\n          setSelectedAccounts(selectedAcc);\n          const numberOfAccounts = selectedAcc.length;\n          setHeaderTitle(`${(0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.connecting\")} ${numberOfAccounts} ${(0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.ofAccounts\")}`);\n          setRoute(\"OverviewAccounts\");\n        },\n        onChangeRoute: newRoute => {\n          if (newRoute === \"SpecifyHDPath\") {\n            setHeaderTitle((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.specifyHDPath\"));\n          }\n          setRoute(newRoute);\n        }\n      }), route === \"AddCustomAccountId\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"enter-custom-account\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n          children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.failedToAutomatically\")\n        }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"input-wrapper\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n            type: \"text\",\n            placeholder: \"Account ID\",\n            value: customAccountId,\n            onChange: e => {\n              setCustomAccountId(e.target.value);\n            }\n          })\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"action-buttons\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n            className: \"middleButton\",\n            onClick: handleAddCustomAccountId\n          }, {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"ledger.Continue\")\n          }))\n        }))]\n      })), route === \"OverviewAccounts\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"overview-wrapper\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n          children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.overviewTheListOfAuthorized\")\n        }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"accounts\"\n        }, {\n          children: selectedAccounts.map((account, index) => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n              className: \"account\"\n            }, {\n              children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                children: account.accountId\n              })\n            }))\n          }, account.accountId))\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"action-buttons\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n            className: \"middleButton\",\n            onClick: handleSignIn,\n            disabled: accounts.length === 0\n          }, {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.ledger.finish\")\n          }))\n        }))]\n      }))]\n    }))]\n  });\n};\n\nconst WalletNotInstalled = ({\n  module,\n  onBack,\n  onCloseModal\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"nws-modal-header-wrapper\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BackArrow, {\n        onClick: onBack\n      }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModalHeader, {\n        title: \"\",\n        onCloseModal: onCloseModal\n      })]\n    })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"wallet-not-installed-wrapper\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"wallet-data\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: `wallet-icon-box ${module.id}`\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n            src: module.metadata.iconUrl,\n            alt: module.metadata.name\n          })\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n          children: module.metadata.name\n        })]\n      })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"p\", {\n        children: [(0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.install.youllNeedToInstall\"), \" \", module.metadata.name, \" \", (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.install.toContinueAfterInstalling\"), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", Object.assign({\n          className: \"refresh-link\",\n          onClick: () => window.location.reload()\n        }, {\n          children: [\" \", (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.install.refreshThePage\")]\n        }))]\n      }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n        className: \"action-buttons\"\n      }, {\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", Object.assign({\n          className: \"middleButton\",\n          onClick: () => {\n            if (module.type !== \"injected\") {\n              return;\n            }\n            window.open(module.metadata.downloadUrl, \"_blank\");\n          }\n        }, {\n          children: [(0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.install.open\"), \" \", module.metadata.name]\n        }))\n      }))]\n    }))]\n  });\n};\n\nconst QRIcon = () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n  width: \"18\",\n  height: \"16\",\n  viewBox: \"0 0 18 16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, {\n  children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M7.22224 1.33334H1.44446V6.66668H7.22224V1.33334Z\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M15.8889 1.33334H10.1111V6.66668H15.8889V1.33334Z\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M7.22224 9.33334H1.44446V14.6667H7.22224V9.33334Z\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M10.1111 13.1429V14.6667H15.8889M10.1111 9.33334V10.8572H12.5873V9.33334H15.8889V12.381\",\n    stroke: \"#4C5155\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"rect\", {\n    x: \"3.61108\",\n    y: \"3.33334\",\n    width: \"1.44444\",\n    height: \"1.33333\",\n    fill: \"#4C5155\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"rect\", {\n    x: \"3.61108\",\n    y: \"11.3333\",\n    width: \"1.44444\",\n    height: \"1.33333\",\n    fill: \"#4C5155\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"rect\", {\n    x: \"12.2778\",\n    y: \"3.33334\",\n    width: \"1.44445\",\n    height: \"1.33333\",\n    fill: \"#4C5155\"\n  })]\n}));\n\nconst LinkIcon = () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n  width: \"18\",\n  height: \"16\",\n  viewBox: \"0 0 18 16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, {\n  children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M13 8.66667V12.6667C13 13.0203 12.8478 13.3594 12.577 13.6095C12.3061 13.8595 11.9387 14 11.5556 14H3.61113C3.22804 14 2.86064 13.8595 2.58975 13.6095C2.31887 13.3594 2.16669 13.0203 2.16669 12.6667V5.33333C2.16669 4.97971 2.31887 4.64057 2.58975 4.39052C2.86064 4.14048 3.22804 4 3.61113 4H7.94447\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M10.8333 2H15.1666V6\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M7.22223 9.33333L15.1667 2\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })]\n}));\n\nconst KeyIcon = () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"svg\", Object.assign({\n  width: \"40\",\n  height: \"40\",\n  viewBox: \"0 0 40 40\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, {\n  children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M33.5 1.83325L30.1666 5.16658M17.4818 17.8514C19.1406 19.5103 20.1666 21.8019 20.1666 24.3333C20.1666 29.3959 16.0626 33.4999 11 33.4999C5.93735 33.4999 1.8333 29.3959 1.8333 24.3333C1.8333 19.2706 5.93735 15.1666 11 15.1666C13.5313 15.1666 15.8229 16.1926 17.4818 17.8514ZM17.4818 17.8514L24.3333 10.9999M24.3333 10.9999L29.3333 15.9999L35.1666 10.1666L30.1666 5.16658M24.3333 10.9999L30.1666 5.16658\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })\n}));\n\nconst FolderIcon = () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n  width: \"40\",\n  height: \"41\",\n  viewBox: \"0 0 40 41\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, {\n  children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", {\n    cx: \"28.3333\",\n    cy: \"23.8333\",\n    r: \"1.66667\",\n    fill: \"currentColor\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M35 12.1667H7C5.89543 12.1667 5 11.2712 5 10.1667V7.5C5 6.39543 5.89543 5.5 7 5.5H31.6667\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M35 12.1667V35.5H7C5.89543 35.5 5 34.6046 5 33.5V8.83334\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })]\n}));\n\nconst WalletHome = ({\n  selector,\n  onCloseModal\n}) => {\n  const [modules, setModules] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [route, setRoute] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"WalletInfo\");\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const subscription = selector.store.observable.subscribe(state => {\n      const filterByType = item => {\n        return item.type !== \"bridge\" && item.type !== \"hardware\" && item.type !== \"instant-link\";\n      };\n      const filteredModules = state.modules.filter(filterByType);\n      setModules(filteredModules);\n    });\n    return () => subscription.unsubscribe();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const getWalletUrl = module => {\n    let url = \"\";\n    if (module.type === \"injected\") {\n      url = module.metadata.downloadUrl;\n    }\n    if (module.type === \"browser\") {\n      url = module.metadata.walletUrl;\n    }\n    return url;\n  };\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n    className: \"wallet-home-wrapper\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"nws-modal-header-wrapper\"\n    }, {\n      children: [route === \"GetWallets\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BackArrow, {\n        onClick: () => {\n          setRoute(\"WalletInfo\");\n        }\n      }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModalHeader, {\n        title: route === \"GetWallets\" ? (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.getAWallet\") : (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.whatIsAWallet\"),\n        onCloseModal: onCloseModal\n      })]\n    })), route === \"GetWallets\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"get-wallet-wrapper\"\n    }, {\n      children: modules.map(module => {\n        const {\n          iconUrl,\n          name\n        } = module.metadata;\n        const qrIcon = [\"nearfi\", \"here-wallet\"].includes(module.id);\n        const hereWalletType = module.id === \"here-wallet\" ? \"mobile\" : \"\";\n        const walletUrl = getWalletUrl(module);\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          tabIndex: 0,\n          className: `single-wallet-get ${module.id}`,\n          onClick: () => {\n            if (walletUrl) {\n              window.open(walletUrl, \"_blank\");\n            }\n          }\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n            className: \"small-icon\"\n          }, {\n            children: [qrIcon && walletUrl && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(QRIcon, {}), !qrIcon && walletUrl && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LinkIcon, {})]\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n            className: \"icon\"\n          }, {\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n              src: iconUrl,\n              alt: name\n            })\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n            className: \"content\"\n          }, {\n            children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n              className: \"title\"\n            }, {\n              children: name\n            })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n              className: \"type\"\n            }, {\n              children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(`modal.walletTypes.${hereWalletType || module.type}`)\n            }))]\n          }))]\n        }), module.id);\n      })\n    })), route === \"WalletInfo\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"wallet-info-wrapper what-wallet-hide\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"wallet-what\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n            className: \"icon-side\"\n          }, {\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(KeyIcon, {})\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n            className: \"content-side\"\n          }, {\n            children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", {\n              children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.secureAndManage\")\n            }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n              children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.safelyStore\")\n            })]\n          }))]\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"wallet-what\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n            className: \"icon-side\"\n          }, {\n            children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FolderIcon, {})\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n            className: \"content-side\"\n          }, {\n            children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", {\n              children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.logInToAny\")\n            }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n              children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.noNeedToCreate\")\n            })]\n          }))]\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n          className: \"button-spacing\"\n        }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n          className: \"middleButton\",\n          onClick: () => {\n            setRoute(\"GetWallets\");\n          }\n        }, {\n          children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.getAWallet\")\n        }))]\n      })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"what-wallet-mobile\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n          children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.useAWallet\")\n        }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n          className: \"middleButton\",\n          onClick: () => {\n            setRoute(\"GetWallets\");\n          }\n        }, {\n          children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.getAWallet\")\n        }))]\n      })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n        className: \"lang-selector-wrapper\"\n      }, {\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"select\", Object.assign({\n          className: \"lang-selector\",\n          name: \"lang\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", Object.assign({\n            value: \"en\"\n          }, {\n            children: \"English\"\n          })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", Object.assign({\n            value: \"es\"\n          }, {\n            children: \"Spanish\"\n          }))]\n        }))\n      }))]\n    })]\n  }));\n};\n\nconst WalletConnected = ({\n  module,\n  onCloseModal\n}) => {\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"nws-modal-header\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", Object.assign({\n        className: \"middleTitle\"\n      }, {\n        children: ``\n      })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CloseButton, {\n        onClick: onCloseModal\n      })]\n    })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n      className: \"connecting-wrapper\"\n    }, {\n      children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"content\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"icon\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: \"green-dot\"\n          }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n            src: module === null || module === void 0 ? void 0 : module.metadata.iconUrl,\n            alt: module === null || module === void 0 ? void 0 : module.metadata.name\n          })]\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h3\", Object.assign({\n          className: \"connecting-name\"\n        }, {\n          children: module === null || module === void 0 ? void 0 : module.metadata.name\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"wallet-connected-success\"\n        }, {\n          children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConnectionSuccessIcon, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.connectionSuccessful\")\n          })]\n        }))]\n      }))\n    }))]\n  });\n};\n\nvar anObject$1 = anObject$c;\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nvar regexpFlags = function () {\n  var that = anObject$1(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n\nvar call = functionCall;\nvar hasOwn = hasOwnProperty_1;\nvar isPrototypeOf = objectIsPrototypeOf;\nvar regExpFlags = regexpFlags;\n\nvar RegExpPrototype$1 = RegExp.prototype;\n\nvar regexpGetFlags = function (R) {\n  var flags = R.flags;\n  return flags === undefined && !('flags' in RegExpPrototype$1) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype$1, R)\n    ? call(regExpFlags, R) : flags;\n};\n\nvar PROPER_FUNCTION_NAME = functionName.PROPER;\nvar defineBuiltIn = defineBuiltIn$6;\nvar anObject = anObject$c;\nvar $toString = toString$3;\nvar fails = fails$h;\nvar getRegExpFlags = regexpGetFlags;\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  defineBuiltIn(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var pattern = $toString(R.source);\n    var flags = $toString(getRegExpFlags(R));\n    return '/' + pattern + '/' + flags;\n  }, { unsafe: true });\n}\n\nconst CopyIcon = () => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", Object.assign({\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, {\n  children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M6.5 15.25a1.75 1.75 0 0 1-1.75-1.75V6.75a2 2 0 0 1 2-2h6.75c.966 0 1.75.784 1.75 1.75\",\n    stroke: \"#4F7CD1\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n    d: \"M8.75 10.75a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-6.5Z\",\n    stroke: \"#4F7CD1\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })]\n}));\n\nfunction formatQRCodeImage(data) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return yield qrcode__WEBPACK_IMPORTED_MODULE_4__.toString(data, {\n      margin: 0,\n      type: \"svg\"\n    });\n  });\n}\nconst ScanQRCode = ({\n  wallet,\n  uri,\n  onCloseModal,\n  handleOpenDefaultModal\n}) => {\n  const [notification, setNotification] = react__WEBPACK_IMPORTED_MODULE_2__.useState(\"\");\n  const [svg, setSvg] = react__WEBPACK_IMPORTED_MODULE_2__.useState(\"\");\n  const copyToClipboard = () => {\n    if (!uri) {\n      return;\n    }\n    const success = copy_to_clipboard__WEBPACK_IMPORTED_MODULE_5__(uri);\n    if (success) {\n      setNotification((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.qr.copiedToClipboard\"));\n      setTimeout(() => setNotification(\"\"), 1200);\n    } else {\n      setNotification((0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.qr.failedToCopy\"));\n      setTimeout(() => setNotification(\"\"), 1200);\n    }\n  };\n  react__WEBPACK_IMPORTED_MODULE_2__.useEffect(() => {\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      if (uri) {\n        setSvg(yield formatQRCodeImage(uri));\n      }\n    }))();\n  }, [uri]);\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"section\", Object.assign({\n    className: \"scan-qr-code\"\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModalHeader, {\n      title: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.qr.scanWithYourMobile\"),\n      onCloseModal: onCloseModal\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"section\", Object.assign({\n      className: \"qr-code\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: svg\n        }\n      }), notification ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n        className: \"notification\"\n      }, {\n        children: notification\n      })) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"copy-btn\",\n        onClick: copyToClipboard\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CopyIcon, {}), (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.qr.copyToClipboard\")]\n      }))]\n    })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"footer\", Object.assign({\n      className: \"footer\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"p\", {\n        children: [(0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.qr.preferTheOfficial\"), \" \", wallet.metadata.name, \"?\"]\n      }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", Object.assign({\n        className: \"btn\",\n        onClick: handleOpenDefaultModal\n      }, {\n        children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.qr.open\")\n      }))]\n    }))]\n  }));\n};\n\nconst getThemeClass = theme => {\n  switch (theme) {\n    case \"dark\":\n      return \"dark-theme\";\n    case \"light\":\n      return \"light-theme\";\n    default:\n      return \"\";\n  }\n};\nconst Modal = ({\n  selector,\n  options,\n  visible,\n  hide,\n  emitter\n}) => {\n  var _a, _b, _c;\n  const [route, setRoute] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n    name: \"WalletHome\"\n  });\n  const [alertMessage, setAlertMessage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  const [selectedWallet, setSelectedWallet] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [bridgeWalletUri, setBridgeWalletUri] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setRoute({\n      name: \"WalletHome\"\n    });\n    (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.allowOnlyLanguage)(selector.options.languageCode);\n    const {\n      selectedWalletId,\n      modules\n    } = selector.store.getState();\n    if (selectedWalletId) {\n      const module = modules.find(m => m.id === selectedWalletId);\n      setSelectedWallet(module);\n      setRoute({\n        name: \"WalletConnected\",\n        params: {\n          module\n        }\n      });\n    }\n    setBridgeWalletUri(\"\");\n    // eslint-disable-next-line\n  }, [visible]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const subscription = selector.on(\"networkChanged\", ({\n      networkId\n    }) => {\n      // Switched back to the correct network.\n      if (networkId === selector.options.network.networkId) {\n        return handleDismissClick({});\n      }\n      setRoute({\n        name: \"WalletNetworkChanged\"\n      });\n    });\n    return () => subscription.remove();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleDismissClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(({\n    hideReason\n  }) => {\n    setAlertMessage(null);\n    setRoute({\n      name: \"WalletHome\"\n    });\n    if (hideReason === \"user-triggered\") {\n      emitter.emit(\"onHide\", {\n        hideReason\n      });\n    }\n    if (hideReason === \"wallet-navigation\") {\n      emitter.emit(\"onHide\", {\n        hideReason\n      });\n    }\n    hide();\n  }, [hide, emitter]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const close = e => {\n      if (e.key === \"Escape\") {\n        handleDismissClick({\n          hideReason: \"user-triggered\"\n        });\n      }\n    };\n    window.addEventListener(\"keydown\", close);\n    return () => window.removeEventListener(\"keydown\", close);\n  }, [handleDismissClick]);\n  const handleWalletClick = (module, qrCodeModal) => __awaiter(void 0, void 0, void 0, function* () {\n    setSelectedWallet(module);\n    const {\n      selectedWalletId\n    } = selector.store.getState();\n    if (selectedWalletId === module.id) {\n      setRoute({\n        name: \"WalletConnected\",\n        params: {\n          module\n        }\n      });\n      return;\n    }\n    try {\n      const {\n        deprecated,\n        available\n      } = module.metadata;\n      if (module.type === \"injected\" && !available) {\n        setRoute({\n          name: \"WalletNotInstalled\",\n          params: {\n            module: module\n          }\n        });\n        return;\n      }\n      const wallet = yield module.wallet();\n      if (deprecated) {\n        setAlertMessage(`${module.metadata.name} is deprecated. Please select another wallet.`);\n        setRoute({\n          name: \"AlertMessage\",\n          params: {\n            module: module\n          }\n        });\n        return;\n      }\n      if (wallet.type === \"hardware\") {\n        setRoute({\n          name: \"DerivationPath\",\n          params: {\n            walletId: wallet.id || \"ledger\"\n          }\n        });\n        return;\n      }\n      setRoute({\n        name: \"WalletConnecting\",\n        params: {\n          wallet: wallet\n        }\n      });\n      if (wallet.type === \"bridge\") {\n        const subscription = selector.on(\"uriChanged\", ({\n          uri\n        }) => {\n          setBridgeWalletUri(uri);\n          setRoute({\n            name: \"ScanQRCode\",\n            params: {\n              uri,\n              wallet\n            }\n          });\n        });\n        yield wallet.signIn({\n          contractId: options.contractId,\n          methodNames: options.methodNames,\n          qrCodeModal\n        });\n        subscription.remove();\n        handleDismissClick({\n          hideReason: \"wallet-navigation\"\n        });\n        return;\n      }\n      if (wallet.type === \"browser\") {\n        yield wallet.signIn({\n          contractId: options.contractId,\n          methodNames: options.methodNames,\n          successUrl: wallet.metadata.successUrl,\n          failureUrl: wallet.metadata.failureUrl\n        });\n        handleDismissClick({\n          hideReason: \"wallet-navigation\"\n        });\n        return;\n      }\n      yield wallet.signIn({\n        contractId: options.contractId,\n        methodNames: options.methodNames\n      });\n      handleDismissClick({\n        hideReason: \"wallet-navigation\"\n      });\n    } catch (err) {\n      const {\n        name\n      } = module.metadata;\n      const message = err && typeof err === \"object\" && \"message\" in err ? err.message : \"Something went wrong\";\n      setAlertMessage(`Failed to sign in with ${name}: ${message}`);\n      setRoute({\n        name: \"AlertMessage\",\n        params: {\n          module: module\n        }\n      });\n    }\n  });\n  if (!visible) {\n    return null;\n  }\n  return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n    className: `nws-modal-wrapper ${getThemeClass(options === null || options === void 0 ? void 0 : options.theme)} ${visible ? \"open\" : \"\"}`\n  }, {\n    children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n      className: \"nws-modal-overlay\",\n      onClick: () => {\n        handleDismissClick({\n          hideReason: \"user-triggered\"\n        });\n      }\n    }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n      className: \"nws-modal\"\n    }, {\n      children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n        className: \"modal-left\"\n      }, {\n        children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n          className: \"modal-left-title\"\n        }, {\n          children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h2\", {\n            children: (0,_near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.translate)(\"modal.wallet.connectYourWallet\")\n          })\n        })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WalletOptions, {\n          handleWalletClick: module => {\n            handleWalletClick(module, false);\n          },\n          selector: selector\n        })]\n      })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({\n        className: \"modal-right\"\n      }, {\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", Object.assign({\n          className: \"nws-modal-body\"\n        }, {\n          children: [route.name === \"AlertMessage\" && alertMessage && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AlertMessage, {\n            message: alertMessage,\n            module: (_a = route.params) === null || _a === void 0 ? void 0 : _a.module,\n            onBack: retry => {\n              if (retry) {\n                handleWalletClick(selectedWallet, false);\n              }\n              setAlertMessage(null);\n              setRoute({\n                name: \"WalletHome\"\n              });\n            },\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            })\n          }), route.name === \"DerivationPath\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DerivationPath, {\n            selector: selector,\n            options: options,\n            onConnected: () => {\n              handleDismissClick({\n                hideReason: \"wallet-navigation\"\n              });\n            },\n            params: route.params,\n            onBack: () => setRoute({\n              name: \"WalletHome\"\n            }),\n            onError: (message, wallet) => {\n              const {\n                modules\n              } = selector.store.getState();\n              const findModule = modules.find(module => module.id === wallet.id);\n              setAlertMessage(message);\n              setRoute({\n                name: \"AlertMessage\",\n                params: {\n                  module: findModule\n                }\n              });\n            },\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            })\n          }), route.name === \"WalletNetworkChanged\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WalletNetworkChanged, {\n            selector: selector,\n            onBack: () => setRoute({\n              name: \"WalletHome\"\n            }),\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            })\n          }), route.name === \"WalletNotInstalled\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WalletNotInstalled, {\n            module: (_b = route.params) === null || _b === void 0 ? void 0 : _b.module,\n            onBack: () => {\n              setRoute({\n                name: \"WalletHome\"\n              });\n            },\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            })\n          }), route.name === \"WalletConnecting\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WalletConnecting, {\n            wallet: (_c = route.params) === null || _c === void 0 ? void 0 : _c.wallet,\n            onBack: () => {\n              setRoute({\n                name: \"WalletHome\"\n              });\n            },\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            })\n          }), route.name === \"WalletHome\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WalletHome, {\n            selector: selector,\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            })\n          }), route.name === \"WalletConnected\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WalletConnected, {\n            module: selectedWallet,\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            })\n          }), route.name === \"ScanQRCode\" && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ScanQRCode, {\n            handleOpenDefaultModal: () => {\n              handleWalletClick(selectedWallet, true);\n            },\n            onCloseModal: () => handleDismissClick({\n              hideReason: \"user-triggered\"\n            }),\n            uri: bridgeWalletUri,\n            wallet: selectedWallet\n          })]\n        }))\n      }))]\n    }))]\n  }));\n};\n\nconst MODAL_ELEMENT_ID = \"near-wallet-selector-modal\";\nlet modalInstance = null;\nlet root = null;\n/**\r\n * Initiates a modal instance\r\n * @param {WalletSelector} selector Selector\r\n * @param {ModalOptions} options Modal options\r\n * @returns {WalletSelectorModal} Returns a WalletSelectorModal object\r\n */\nconst setupModal = (selector, options) => {\n  if (!root) {\n    const body = document.body;\n    const container = document.createElement(\"div\");\n    container.id = MODAL_ELEMENT_ID;\n    body.appendChild(container);\n    root = (0,react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot)(container);\n  }\n  const emitter = new _near_wallet_selector_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();\n  selector.store.getState().modules.forEach(module => __awaiter(void 0, void 0, void 0, function* () {\n    if (\"topLevelInjected\" in module.metadata) {\n      if (!module.metadata.topLevelInjected) {\n        return;\n      }\n      const wallet = yield module.wallet();\n      if (wallet.type !== \"injected\") {\n        return;\n      }\n      yield wallet.signIn({\n        contractId: options.contractId,\n        methodNames: options.methodNames\n      });\n    }\n  }));\n  const render = (visible = false) => {\n    root.render((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Modal, {\n      selector: selector,\n      options: options,\n      visible: visible,\n      hide: () => render(false),\n      emitter: emitter\n    }));\n  };\n  if (!modalInstance) {\n    modalInstance = {\n      show: () => {\n        render(true);\n      },\n      hide: () => {\n        render(false);\n      },\n      on: (eventName, callback) => {\n        return emitter.on(eventName, callback);\n      },\n      off: (eventName, callback) => {\n        emitter.off(eventName, callback);\n      }\n    };\n  }\n  return modalInstance;\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG5lYXItd2FsbGV0LXNlbGVjdG9yK21vZGFsLXVpQDguOS43X25lYXItYXBpLWpzQDMuMC40L25vZGVfbW9kdWxlcy9AbmVhci13YWxsZXQtc2VsZWN0b3IvbW9kYWwtdWkvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzRTtBQUN4QjtBQUM0QjtBQUNjO0FBQzVEO0FBQ1M7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDRCQUE0QixhQUFhO0FBQ3pDO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUNBQWlDO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGNBQWM7O0FBRS9CLGdCQUFnQjs7QUFFaEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLGtEQUFrRDtBQUN4RixJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1FQUFtRTs7QUFFbkU7O0FBRUE7O0FBRUE7QUFDQSx5RUFBeUU7QUFDekUsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxQ0FBcUM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsT0FBTyxtQkFBbUIsYUFBYTtBQUN4RSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsYUFBYTtBQUMxRDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixHQUFHO0FBQ0gsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsMENBQTBDOztBQUUxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFdBQVcsZ0JBQWdCO0FBQ2pDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUM7O0FBRXJDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUM7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDhCQUE4QjtBQUM5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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGdCQUFnQjtBQUMxRDtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRSxnQkFBZ0I7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHFCQUFxQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsYUFBYTtBQUNqRjtBQUNBLHVCQUF1QixhQUFhLGdCQUFnQixhQUFhO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUixNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZUFBZTtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPLElBQUksY0FBYztBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU0sbUZBQW1GO0FBQ3pGO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGdCQUFnQjtBQUM1RTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxVQUFVO0FBQ3pELEVBQUUsZ0JBQWdCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5RUFBeUUsYUFBYTtBQUN0RixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDhFQUE4RTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU0sa0ZBQWtGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsY0FBYztBQUM3RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDRFQUE0RTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLHFFQUFxRTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSxtRUFBbUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVMsdURBQUk7QUFDYjtBQUNBLEdBQUc7QUFDSCxlQUFlLHVEQUFJO0FBQ25CO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQSxLQUFLO0FBQ0wsZ0JBQWdCLHNEQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxLQUFLLElBQUksc0RBQUc7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnQkFBZ0IsdURBQUk7QUFDcEIsbUJBQW1CLHNEQUFHO0FBQ3RCO0FBQ0EsU0FBUztBQUNULHFEQUFxRCx1REFBSTtBQUN6RDtBQUNBLFdBQVc7QUFDWCx1QkFBdUIsc0RBQUc7QUFDMUI7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxHQUFHLHVEQUFJO0FBQ3BCO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYSxJQUFJLHNEQUFHLFNBQVM7QUFDN0IsV0FBVztBQUNYLFNBQVMsSUFBSSxzREFBRztBQUNoQjtBQUNBLFNBQVM7QUFDVCxvQkFBb0Isc0RBQUc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxTQUFTLHVEQUFJLENBQUMsMkNBQVE7QUFDdEIsZUFBZSxzREFBRztBQUNsQjtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQSxLQUFLO0FBQ0wsZ0JBQWdCLHVEQUFJO0FBQ3BCO0FBQ0EsT0FBTztBQUNQLG1CQUFtQixzREFBRztBQUN0QjtBQUNBLFNBQVM7QUFDVCxvQkFBb0Isc0RBQUc7QUFDdkI7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTLElBQUksc0RBQUc7QUFDaEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLElBQUksdURBQUk7QUFDakI7QUFDQSxTQUFTO0FBQ1QscUJBQXFCLHNEQUFHO0FBQ3hCO0FBQ0EsV0FBVztBQUNYLHNCQUFzQixzREFBRztBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVcsSUFBSSx1REFBSTtBQUNuQix1QkFBdUIscUVBQVM7QUFDaEMsV0FBVztBQUNYLFNBQVMsSUFBSSxzREFBRztBQUNoQjtBQUNBLFNBQVM7QUFDVCxvQkFBb0Isc0RBQUc7QUFDdkIsc0JBQXNCLHFFQUFTLG1DQUFtQyw0REFBNEQ7QUFDOUgsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMsdURBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGVBQWUsc0RBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRyxzREFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLHNEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsc0RBQUc7QUFDWCxnQkFBZ0IsdURBQUk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLG1CQUFtQixzREFBRztBQUN0QjtBQUNBO0FBQ0EsU0FBUyxHQUFHLHNEQUFHO0FBQ2Y7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMsc0RBQUc7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGNBQWMsc0RBQUc7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLHNEQUFHO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxjQUFjLHNEQUFHO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw0QkFBNEIsK0NBQVE7QUFDcEMsOENBQThDLCtDQUFRO0FBQ3RELDBEQUEwRCwrQ0FBUTtBQUNsRSxrQ0FBa0MsK0NBQVE7QUFDMUMsa0RBQWtELCtDQUFRO0FBQzFELDhDQUE4QywrQ0FBUTtBQUN0RCxnREFBZ0QsK0NBQVE7QUFDeEQsc0NBQXNDLCtDQUFRO0FBQzlDLDRCQUE0QixxRUFBUztBQUNyQyx3Q0FBd0MsK0NBQVE7QUFDaEQ7QUFDQSxvQ0FBb0Msb0NBQW9DLHFCQUFxQixVQUFVO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxRUFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUix1QkFBdUIscUVBQVM7QUFDaEM7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLHFCQUFxQixxRUFBUztBQUM5QjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx3QkFBd0IsWUFBWTtBQUNwQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFFQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxRUFBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0RBQUc7QUFDZDtBQUNBLEtBQUs7QUFDTCxnQkFBZ0Isc0RBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLFNBQVMsdURBQUksQ0FBQywyQ0FBUTtBQUN0QixlQUFlLHVEQUFJO0FBQ25CO0FBQ0EsS0FBSztBQUNMLDRJQUE0SSxzREFBRztBQUMvSTtBQUNBLE9BQU8sR0FBRyxzREFBRztBQUNiO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSyxJQUFJLHVEQUFJO0FBQ2I7QUFDQSxLQUFLO0FBQ0wsb0RBQW9ELHVEQUFJO0FBQ3hEO0FBQ0EsT0FBTztBQUNQLG1CQUFtQixzREFBRztBQUN0QjtBQUNBLFNBQVM7QUFDVCxvQkFBb0Isc0RBQUcscUJBQXFCO0FBQzVDLFNBQVMsSUFBSSx1REFBSTtBQUNqQjtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsc0RBQUc7QUFDeEIsc0JBQXNCLHFFQUFTO0FBQy9CLFdBQVcsR0FBRyxzREFBRztBQUNqQjtBQUNBO0FBQ0EsNkJBQTZCLHFFQUFTO0FBQ3RDO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsc0JBQXNCLHFFQUFTO0FBQy9CLFdBQVc7QUFDWCxTQUFTLElBQUksc0RBQUc7QUFDaEI7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLHNEQUFHO0FBQ3ZCO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsc0JBQXNCLHFFQUFTO0FBQy9CLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTyxpQ0FBaUMsdURBQUk7QUFDNUM7QUFDQSxPQUFPO0FBQ1AsbUJBQW1CLHVEQUFJO0FBQ3ZCO0FBQ0EsU0FBUztBQUNULHFCQUFxQixzREFBRztBQUN4QjtBQUNBLFdBQVc7QUFDWCxzQkFBc0Isc0RBQUc7QUFDekI7QUFDQSxhQUFhO0FBQ2IsV0FBVyxJQUFJLHVEQUFJO0FBQ25CO0FBQ0EsV0FBVztBQUNYLHVCQUF1QixzREFBRztBQUMxQjtBQUNBLGFBQWE7QUFDYix3QkFBd0Isc0RBQUc7QUFDM0I7QUFDQSxlQUFlO0FBQ2YsYUFBYSxJQUFJLHVEQUFJO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLHlCQUF5QixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsS0FBSyxFQUFFLFNBQVM7QUFDdkQ7QUFDQTtBQUNBLGVBQWU7QUFDZiwwQkFBMEIsc0RBQUcsZ0JBQWdCO0FBQzdDLGVBQWUsSUFBSSxzREFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsS0FBSyxFQUFFLFNBQVM7QUFDdkQ7QUFDQTtBQUNBLGVBQWU7QUFDZiwwQkFBMEIsc0RBQUcsa0JBQWtCO0FBQy9DLGVBQWU7QUFDZixhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVMsSUFBSSxzREFBRztBQUNoQjtBQUNBLFNBQVM7QUFDVCxvQkFBb0IscUVBQVM7QUFDN0IsU0FBUyxJQUFJLHNEQUFHO0FBQ2hCO0FBQ0EsU0FBUztBQUNULG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYLFNBQVMsSUFBSSxzREFBRztBQUNoQjtBQUNBLFNBQVM7QUFDVCxvQkFBb0Isc0RBQUc7QUFDdkI7QUFDQTtBQUNBLFdBQVc7QUFDWCxzQkFBc0IscUVBQVM7QUFDL0IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPLG1DQUFtQyxzREFBRztBQUM3QztBQUNBLE9BQU87QUFDUCxrQkFBa0IsdURBQUk7QUFDdEIscUJBQXFCLHFFQUFTLDBDQUEwQyxzREFBRztBQUMzRSw2QkFBNkIscUVBQXFFO0FBQ2xHO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVyxTQUFTLHFFQUFTO0FBQzdCLFNBQVM7QUFDVCxPQUFPLGlDQUFpQyxzREFBRztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxRUFBUyw2QkFBNkIsRUFBRSxrQkFBa0IsRUFBRSxxRUFBUyw0QkFBNEI7QUFDN0g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDJCQUEyQixxRUFBUztBQUNwQztBQUNBO0FBQ0E7QUFDQSxPQUFPLHFDQUFxQyx1REFBSTtBQUNoRDtBQUNBLE9BQU87QUFDUCxtQkFBbUIsc0RBQUc7QUFDdEIsb0JBQW9CLHFFQUFTO0FBQzdCLFNBQVMsR0FBRyxzREFBRztBQUNmO0FBQ0EsU0FBUztBQUNULG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUyxJQUFJLHNEQUFHO0FBQ2hCO0FBQ0EsU0FBUztBQUNULG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0EsV0FBVztBQUNYLHNCQUFzQixxRUFBUztBQUMvQixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU8sb0NBQW9DLHVEQUFJO0FBQy9DO0FBQ0EsT0FBTztBQUNQLG1CQUFtQixzREFBRztBQUN0QixvQkFBb0IscUVBQVM7QUFDN0IsU0FBUyxHQUFHLHNEQUFHO0FBQ2Y7QUFDQSxTQUFTO0FBQ1QsNkRBQTZELHNEQUFHO0FBQ2hFLHNCQUFzQixzREFBRztBQUN6QjtBQUNBLGFBQWE7QUFDYix3QkFBd0Isc0RBQUc7QUFDM0I7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTLElBQUksc0RBQUc7QUFDaEI7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLHNEQUFHO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxzQkFBc0IscUVBQVM7QUFDL0IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxTQUFTLHVEQUFJLENBQUMsMkNBQVE7QUFDdEIsZUFBZSx1REFBSTtBQUNuQjtBQUNBLEtBQUs7QUFDTCxpQkFBaUIsc0RBQUc7QUFDcEI7QUFDQSxPQUFPLEdBQUcsc0RBQUc7QUFDYjtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUssSUFBSSx1REFBSTtBQUNiO0FBQ0EsS0FBSztBQUNMLGlCQUFpQix1REFBSTtBQUNyQjtBQUNBLE9BQU87QUFDUCxtQkFBbUIsc0RBQUc7QUFDdEIsd0NBQXdDLFVBQVU7QUFDbEQsU0FBUztBQUNULG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVMsSUFBSSxzREFBRztBQUNoQjtBQUNBLFNBQVM7QUFDVCxPQUFPLElBQUksdURBQUk7QUFDZixtQkFBbUIscUVBQVMsc0VBQXNFLHFFQUFTLDZDQUE2Qyx1REFBSTtBQUM1SjtBQUNBO0FBQ0EsU0FBUztBQUNULDBCQUEwQixxRUFBUztBQUNuQyxTQUFTO0FBQ1QsT0FBTyxHQUFHLHNEQUFHO0FBQ2I7QUFDQSxPQUFPO0FBQ1Asa0JBQWtCLHVEQUFJO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHFCQUFxQixxRUFBUztBQUM5QixTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUEscUJBQXFCLHVEQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsYUFBYSxzREFBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRyxzREFBRztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHLHNEQUFHO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUcsc0RBQUc7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRyxzREFBRztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUcsc0RBQUc7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHLHNEQUFHO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVELHVCQUF1Qix1REFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGFBQWEsc0RBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLEdBQUcsc0RBQUc7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRyxzREFBRztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQsc0JBQXNCLHNEQUFHO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsWUFBWSxzREFBRztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCx5QkFBeUIsdURBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxhQUFhLHNEQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHLHNEQUFHO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRyxzREFBRztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsZ0NBQWdDLCtDQUFRO0FBQ3hDLDRCQUE0QiwrQ0FBUTtBQUNwQyxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFJO0FBQ2I7QUFDQSxHQUFHO0FBQ0gsZUFBZSx1REFBSTtBQUNuQjtBQUNBLEtBQUs7QUFDTCwyQ0FBMkMsc0RBQUc7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsT0FBTyxHQUFHLHNEQUFHO0FBQ2Isd0NBQXdDLHFFQUFTLDhCQUE4QixxRUFBUztBQUN4RjtBQUNBLE9BQU87QUFDUCxLQUFLLDhCQUE4QixzREFBRztBQUN0QztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVEQUFJO0FBQ25CO0FBQ0EsMENBQTBDLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsdURBQUk7QUFDekI7QUFDQSxXQUFXO0FBQ1gsOENBQThDLHNEQUFHLFdBQVcsMkJBQTJCLHNEQUFHLGFBQWE7QUFDdkcsV0FBVyxJQUFJLHNEQUFHO0FBQ2xCO0FBQ0EsV0FBVztBQUNYLHNCQUFzQixzREFBRztBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVcsSUFBSSx1REFBSTtBQUNuQjtBQUNBLFdBQVc7QUFDWCx1QkFBdUIsc0RBQUc7QUFDMUI7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhLElBQUksc0RBQUc7QUFDcEI7QUFDQSxhQUFhO0FBQ2Isd0JBQXdCLHFFQUFTLHNCQUFzQiw4QkFBOEI7QUFDckYsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUssOEJBQThCLHVEQUFJLENBQUMsdURBQVU7QUFDbEQsaUJBQWlCLHVEQUFJO0FBQ3JCO0FBQ0EsT0FBTztBQUNQLG1CQUFtQix1REFBSTtBQUN2QjtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsc0RBQUc7QUFDeEI7QUFDQSxXQUFXO0FBQ1gsc0JBQXNCLHNEQUFHLFlBQVk7QUFDckMsV0FBVyxJQUFJLHVEQUFJO0FBQ25CO0FBQ0EsV0FBVztBQUNYLHVCQUF1QixzREFBRztBQUMxQix3QkFBd0IscUVBQVM7QUFDakMsYUFBYSxHQUFHLHNEQUFHO0FBQ25CLHdCQUF3QixxRUFBUztBQUNqQyxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVMsSUFBSSx1REFBSTtBQUNqQjtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsc0RBQUc7QUFDeEI7QUFDQSxXQUFXO0FBQ1gsc0JBQXNCLHNEQUFHLGVBQWU7QUFDeEMsV0FBVyxJQUFJLHVEQUFJO0FBQ25CO0FBQ0EsV0FBVztBQUNYLHVCQUF1QixzREFBRztBQUMxQix3QkFBd0IscUVBQVM7QUFDakMsYUFBYSxHQUFHLHNEQUFHO0FBQ25CLHdCQUF3QixxRUFBUztBQUNqQyxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVMsSUFBSSxzREFBRztBQUNoQjtBQUNBLFNBQVMsR0FBRyxzREFBRztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG9CQUFvQixxRUFBUztBQUM3QixTQUFTO0FBQ1QsT0FBTyxJQUFJLHVEQUFJO0FBQ2Y7QUFDQSxPQUFPO0FBQ1AsbUJBQW1CLHNEQUFHO0FBQ3RCLG9CQUFvQixxRUFBUztBQUM3QixTQUFTLEdBQUcsc0RBQUc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxvQkFBb0IscUVBQVM7QUFDN0IsU0FBUztBQUNULE9BQU8sSUFBSSxzREFBRztBQUNkO0FBQ0EsT0FBTztBQUNQLGtCQUFrQix1REFBSTtBQUN0QjtBQUNBO0FBQ0EsU0FBUztBQUNULHFCQUFxQixzREFBRztBQUN4QjtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVcsSUFBSSxzREFBRztBQUNsQjtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVMsdURBQUksQ0FBQywyQ0FBUTtBQUN0QixlQUFlLHVEQUFJO0FBQ25CO0FBQ0EsS0FBSztBQUNMLGlCQUFpQixzREFBRztBQUNwQjtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU8sSUFBSSxzREFBRztBQUNkO0FBQ0EsT0FBTztBQUNQLEtBQUssSUFBSSxzREFBRztBQUNaO0FBQ0EsS0FBSztBQUNMLGdCQUFnQix1REFBSTtBQUNwQjtBQUNBLE9BQU87QUFDUCxtQkFBbUIsdURBQUk7QUFDdkI7QUFDQSxTQUFTO0FBQ1QscUJBQXFCLHNEQUFHO0FBQ3hCO0FBQ0EsV0FBVyxHQUFHLHNEQUFHO0FBQ2pCO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUyxJQUFJLHNEQUFHO0FBQ2hCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxJQUFJLHVEQUFJO0FBQ2pCO0FBQ0EsU0FBUztBQUNULHFCQUFxQixzREFBRywwQkFBMEIsR0FBRyxzREFBRztBQUN4RCxzQkFBc0IscUVBQVM7QUFDL0IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDQUFzQyx5QkFBeUIseUJBQXlCLGNBQWM7QUFDdEc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJLGNBQWM7QUFDckI7O0FBRUEsdUJBQXVCLHVEQUFJO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsYUFBYSxzREFBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHLHNEQUFHO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQSxpQkFBaUIsNENBQWU7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDBDQUEwQywyQ0FBYztBQUN4RCx3QkFBd0IsMkNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOENBQUk7QUFDeEI7QUFDQSxzQkFBc0IscUVBQVM7QUFDL0I7QUFDQSxNQUFNO0FBQ04sc0JBQXNCLHFFQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEVBQUUsNENBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILFNBQVMsdURBQUk7QUFDYjtBQUNBLEdBQUc7QUFDSCxlQUFlLHNEQUFHO0FBQ2xCLGFBQWEscUVBQVM7QUFDdEI7QUFDQSxLQUFLLEdBQUcsdURBQUk7QUFDWjtBQUNBLEtBQUs7QUFDTCxpQkFBaUIsc0RBQUc7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsT0FBTyxrQkFBa0Isc0RBQUc7QUFDNUI7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPLEtBQUssdURBQUk7QUFDaEI7QUFDQTtBQUNBLE9BQU87QUFDUCxtQkFBbUIsc0RBQUcsYUFBYSxHQUFHLHFFQUFTO0FBQy9DLE9BQU87QUFDUCxLQUFLLElBQUksdURBQUk7QUFDYjtBQUNBLEtBQUs7QUFDTCxpQkFBaUIsdURBQUk7QUFDckIsbUJBQW1CLHFFQUFTO0FBQzVCLE9BQU8sR0FBRyxzREFBRztBQUNiO0FBQ0E7QUFDQSxPQUFPO0FBQ1Asa0JBQWtCLHFFQUFTO0FBQzNCLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNEJBQTRCLCtDQUFRO0FBQ3BDO0FBQ0EsR0FBRztBQUNILDBDQUEwQywrQ0FBUTtBQUNsRCw4Q0FBOEMsK0NBQVE7QUFDdEQsZ0RBQWdELCtDQUFRO0FBQ3hELEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksNkVBQWlCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSCw2QkFBNkIsa0RBQVc7QUFDeEM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxnREFBZ0QsS0FBSyxJQUFJLFFBQVE7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFJO0FBQ2Isb0NBQW9DLGdGQUFnRixFQUFFLHNCQUFzQjtBQUM1SSxHQUFHO0FBQ0gsZUFBZSxzREFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUssR0FBRyx1REFBSTtBQUNaO0FBQ0EsS0FBSztBQUNMLGlCQUFpQix1REFBSTtBQUNyQjtBQUNBLE9BQU87QUFDUCxtQkFBbUIsc0RBQUc7QUFDdEI7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLHNEQUFHO0FBQ3ZCLHNCQUFzQixxRUFBUztBQUMvQixXQUFXO0FBQ1gsU0FBUyxJQUFJLHNEQUFHO0FBQ2hCO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1QsT0FBTyxJQUFJLHNEQUFHO0FBQ2Q7QUFDQSxPQUFPO0FBQ1Asa0JBQWtCLHVEQUFJO0FBQ3RCO0FBQ0EsU0FBUztBQUNULHNFQUFzRSxzREFBRztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVyxzQ0FBc0Msc0RBQUc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXLDRDQUE0QyxzREFBRztBQUMxRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXLDBDQUEwQyxzREFBRztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXLHdDQUF3QyxzREFBRztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXLGtDQUFrQyxzREFBRztBQUNoRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVyx1Q0FBdUMsc0RBQUc7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVcsa0NBQWtDLHNEQUFHO0FBQ2hEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxjQUFjO0FBQ3pCLGFBQWEscUJBQXFCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0REFBVTtBQUNyQjtBQUNBLHNCQUFzQixvRUFBWTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxnQkFBZ0Isc0RBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BuZWFyLXdhbGxldC1zZWxlY3Rvcittb2RhbC11aUA4LjkuN19uZWFyLWFwaS1qc0AzLjAuNC9ub2RlX21vZHVsZXMvQG5lYXItd2FsbGV0LXNlbGVjdG9yL21vZGFsLXVpL2luZGV4LmpzP2UzNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4cywganN4LCBGcmFnbWVudCBhcyBGcmFnbWVudCQxIH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnO1xuaW1wb3J0IFJlYWN0LCB7IEZyYWdtZW50LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHRyYW5zbGF0ZSwgYWxsb3dPbmx5TGFuZ3VhZ2UsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0BuZWFyLXdhbGxldC1zZWxlY3Rvci9jb3JlJztcbmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlJztcbmltcG9ydCBjb3B5IGZyb20gJ2NvcHktdG8tY2xpcGJvYXJkJztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG50eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcclxuICAgIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcclxufTtcblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbnZhciBmYWlscyRoID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbnZhciBmYWlscyRnID0gZmFpbHMkaDtcblxudmFyIGZ1bmN0aW9uQmluZE5hdGl2ZSA9ICFmYWlscyRnKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tZnVuY3Rpb24tcHJvdG90eXBlLWJpbmQgLS0gc2FmZVxuICB2YXIgdGVzdCA9IChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pLmJpbmQoKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAtLSBzYWZlXG4gIHJldHVybiB0eXBlb2YgdGVzdCAhPSAnZnVuY3Rpb24nIHx8IHRlc3QuaGFzT3duUHJvcGVydHkoJ3Byb3RvdHlwZScpO1xufSk7XG5cbnZhciBOQVRJVkVfQklORCQzID0gZnVuY3Rpb25CaW5kTmF0aXZlO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUkMiA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBiaW5kJDUgPSBGdW5jdGlvblByb3RvdHlwZSQyLmJpbmQ7XG52YXIgY2FsbCRmID0gRnVuY3Rpb25Qcm90b3R5cGUkMi5jYWxsO1xudmFyIHVuY3VycnlUaGlzJGggPSBOQVRJVkVfQklORCQzICYmIGJpbmQkNS5iaW5kKGNhbGwkZiwgY2FsbCRmKTtcblxudmFyIGZ1bmN0aW9uVW5jdXJyeVRoaXMgPSBOQVRJVkVfQklORCQzID8gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBmbiAmJiB1bmN1cnJ5VGhpcyRoKGZuKTtcbn0gOiBmdW5jdGlvbiAoZm4pIHtcbiAgcmV0dXJuIGZuICYmIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FsbCRmLmFwcGx5KGZuLCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxudmFyIHVuY3VycnlUaGlzJGcgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuXG52YXIgdG9TdHJpbmckNSA9IHVuY3VycnlUaGlzJGcoe30udG9TdHJpbmcpO1xudmFyIHN0cmluZ1NsaWNlJDEgPSB1bmN1cnJ5VGhpcyRnKCcnLnNsaWNlKTtcblxudmFyIGNsYXNzb2ZSYXckMSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gc3RyaW5nU2xpY2UkMSh0b1N0cmluZyQ1KGl0KSwgOCwgLTEpO1xufTtcblxudmFyIHVuY3VycnlUaGlzJGYgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xudmFyIGZhaWxzJGYgPSBmYWlscyRoO1xudmFyIGNsYXNzb2YkNiA9IGNsYXNzb2ZSYXckMTtcblxudmFyICRPYmplY3QkNCA9IE9iamVjdDtcbnZhciBzcGxpdCA9IHVuY3VycnlUaGlzJGYoJycuc3BsaXQpO1xuXG4vLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGluZGV4ZWRPYmplY3QgPSBmYWlscyRmKGZ1bmN0aW9uICgpIHtcbiAgLy8gdGhyb3dzIGFuIGVycm9yIGluIHJoaW5vLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvcmhpbm8vaXNzdWVzLzM0NlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgcmV0dXJuICEkT2JqZWN0JDQoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKTtcbn0pID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjbGFzc29mJDYoaXQpID09ICdTdHJpbmcnID8gc3BsaXQoaXQsICcnKSA6ICRPYmplY3QkNChpdCk7XG59IDogJE9iamVjdCQ0O1xuXG52YXIgJFR5cGVFcnJvciRlID0gVHlwZUVycm9yO1xuXG4vLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlcXVpcmVvYmplY3Rjb2VyY2libGVcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgJFR5cGVFcnJvciRlKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG5cbi8vIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSW5kZXhlZE9iamVjdCQyID0gaW5kZXhlZE9iamVjdDtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDIgPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDM7XG5cbnZhciB0b0luZGV4ZWRPYmplY3QkNSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSW5kZXhlZE9iamVjdCQyKHJlcXVpcmVPYmplY3RDb2VyY2libGUkMihpdCkpO1xufTtcblxudmFyIGNoZWNrID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAmJiBpdC5NYXRoID09IE1hdGggJiYgaXQ7XG59O1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCRrID1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tZ2xvYmFsLXRoaXMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2YgZ2xvYmFsVGhpcyA9PSAnb2JqZWN0JyAmJiBnbG9iYWxUaGlzKSB8fFxuICBjaGVjayh0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdykgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAtLSBzYWZlXG4gIGNoZWNrKHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYpIHx8XG4gIGNoZWNrKHR5cGVvZiBjb21tb25qc0dsb2JhbCA9PSAnb2JqZWN0JyAmJiBjb21tb25qc0dsb2JhbCkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jIC0tIGZhbGxiYWNrXG4gIChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSgpIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbnZhciBzaGFyZWQkMyA9IHtleHBvcnRzOiB7fX07XG5cbnZhciBnbG9iYWwkaiA9IGdsb2JhbCRrO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyIGRlZmluZVByb3BlcnR5JDYgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbnZhciBkZWZpbmVHbG9iYWxQcm9wZXJ0eSQzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdHJ5IHtcbiAgICBkZWZpbmVQcm9wZXJ0eSQ2KGdsb2JhbCRqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGdsb2JhbCRqW2tleV0gPSB2YWx1ZTtcbiAgfSByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgZ2xvYmFsJGkgPSBnbG9iYWwkaztcbnZhciBkZWZpbmVHbG9iYWxQcm9wZXJ0eSQyID0gZGVmaW5lR2xvYmFsUHJvcGVydHkkMztcblxudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlJDMgPSBnbG9iYWwkaVtTSEFSRURdIHx8IGRlZmluZUdsb2JhbFByb3BlcnR5JDIoU0hBUkVELCB7fSk7XG5cbnZhciBzaGFyZWRTdG9yZSA9IHN0b3JlJDM7XG5cbnZhciBzdG9yZSQyID0gc2hhcmVkU3RvcmU7XG5cbihzaGFyZWQkMy5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlJDJba2V5XSB8fCAoc3RvcmUkMltrZXldID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pO1xufSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuICB2ZXJzaW9uOiAnMy4yMy4zJyxcbiAgbW9kZTogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTQtMjAyMiBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KScsXG4gIGxpY2Vuc2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9ibG9iL3YzLjIzLjMvTElDRU5TRScsXG4gIHNvdXJjZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzJ1xufSk7XG5cbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDEgPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlJDM7XG5cbnZhciAkT2JqZWN0JDMgPSBPYmplY3Q7XG5cbi8vIGBUb09iamVjdGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvb2JqZWN0XG52YXIgdG9PYmplY3QkNSA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gJE9iamVjdCQzKHJlcXVpcmVPYmplY3RDb2VyY2libGUkMShhcmd1bWVudCkpO1xufTtcblxudmFyIHVuY3VycnlUaGlzJGUgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xudmFyIHRvT2JqZWN0JDQgPSB0b09iamVjdCQ1O1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSB1bmN1cnJ5VGhpcyRlKHt9Lmhhc093blByb3BlcnR5KTtcblxuLy8gYEhhc093blByb3BlcnR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaGFzb3ducHJvcGVydHlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1oYXNvd24gLS0gc2FmZVxudmFyIGhhc093blByb3BlcnR5XzEgPSBPYmplY3QuaGFzT3duIHx8IGZ1bmN0aW9uIGhhc093bihpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eSh0b09iamVjdCQ0KGl0KSwga2V5KTtcbn07XG5cbnZhciB1bmN1cnJ5VGhpcyRkID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcblxudmFyIGlkID0gMDtcbnZhciBwb3N0Zml4ID0gTWF0aC5yYW5kb20oKTtcbnZhciB0b1N0cmluZyQ0ID0gdW5jdXJyeVRoaXMkZCgxLjAudG9TdHJpbmcpO1xuXG52YXIgdWlkJDIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyAoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgdG9TdHJpbmckNCgrK2lkICsgcG9zdGZpeCwgMzYpO1xufTtcblxuLy8gYElzQ2FsbGFibGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2NhbGxhYmxlXG52YXIgaXNDYWxsYWJsZSRsID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT0gJ2Z1bmN0aW9uJztcbn07XG5cbnZhciBnbG9iYWwkaCA9IGdsb2JhbCRrO1xudmFyIGlzQ2FsbGFibGUkayA9IGlzQ2FsbGFibGUkbDtcblxudmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gaXNDYWxsYWJsZSRrKGFyZ3VtZW50KSA/IGFyZ3VtZW50IDogdW5kZWZpbmVkO1xufTtcblxudmFyIGdldEJ1aWx0SW4kOCA9IGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1ldGhvZCkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBhRnVuY3Rpb24oZ2xvYmFsJGhbbmFtZXNwYWNlXSkgOiBnbG9iYWwkaFtuYW1lc3BhY2VdICYmIGdsb2JhbCRoW25hbWVzcGFjZV1bbWV0aG9kXTtcbn07XG5cbnZhciBnZXRCdWlsdEluJDcgPSBnZXRCdWlsdEluJDg7XG5cbnZhciBlbmdpbmVVc2VyQWdlbnQgPSBnZXRCdWlsdEluJDcoJ25hdmlnYXRvcicsICd1c2VyQWdlbnQnKSB8fCAnJztcblxudmFyIGdsb2JhbCRnID0gZ2xvYmFsJGs7XG52YXIgdXNlckFnZW50JDUgPSBlbmdpbmVVc2VyQWdlbnQ7XG5cbnZhciBwcm9jZXNzJDMgPSBnbG9iYWwkZy5wcm9jZXNzO1xudmFyIERlbm8kMSA9IGdsb2JhbCRnLkRlbm87XG52YXIgdmVyc2lvbnMgPSBwcm9jZXNzJDMgJiYgcHJvY2VzcyQzLnZlcnNpb25zIHx8IERlbm8kMSAmJiBEZW5vJDEudmVyc2lvbjtcbnZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4O1xudmFyIG1hdGNoLCB2ZXJzaW9uO1xuXG5pZiAodjgpIHtcbiAgbWF0Y2ggPSB2OC5zcGxpdCgnLicpO1xuICAvLyBpbiBvbGQgQ2hyb21lLCB2ZXJzaW9ucyBvZiBWOCBpc24ndCBWOCA9IENocm9tZSAvIDEwXG4gIC8vIGJ1dCB0aGVpciBjb3JyZWN0IHZlcnNpb25zIGFyZSBub3QgaW50ZXJlc3RpbmcgZm9yIHVzXG4gIHZlcnNpb24gPSBtYXRjaFswXSA+IDAgJiYgbWF0Y2hbMF0gPCA0ID8gMSA6ICsobWF0Y2hbMF0gKyBtYXRjaFsxXSk7XG59XG5cbi8vIEJyb3dzZXJGUyBOb2RlSlMgYHByb2Nlc3NgIHBvbHlmaWxsIGluY29ycmVjdGx5IHNldCBgLnY4YCB0byBgMC4wYFxuLy8gc28gY2hlY2sgYHVzZXJBZ2VudGAgZXZlbiBpZiBgLnY4YCBleGlzdHMsIGJ1dCAwXG5pZiAoIXZlcnNpb24gJiYgdXNlckFnZW50JDUpIHtcbiAgbWF0Y2ggPSB1c2VyQWdlbnQkNS5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pO1xuICBpZiAoIW1hdGNoIHx8IG1hdGNoWzFdID49IDc0KSB7XG4gICAgbWF0Y2ggPSB1c2VyQWdlbnQkNS5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG4gICAgaWYgKG1hdGNoKSB2ZXJzaW9uID0gK21hdGNoWzFdO1xuICB9XG59XG5cbnZhciBlbmdpbmVWOFZlcnNpb24gPSB2ZXJzaW9uO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xuXG52YXIgVjhfVkVSU0lPTiQxID0gZW5naW5lVjhWZXJzaW9uO1xudmFyIGZhaWxzJGUgPSBmYWlscyRoO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG52YXIgbmF0aXZlU3ltYm9sID0gISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmICFmYWlscyRlKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN5bWJvbCA9IFN5bWJvbCgpO1xuICAvLyBDaHJvbWUgMzggU3ltYm9sIGhhcyBpbmNvcnJlY3QgdG9TdHJpbmcgY29udmVyc2lvblxuICAvLyBgZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzYCBwb2x5ZmlsbCBzeW1ib2xzIGNvbnZlcnRlZCB0byBvYmplY3QgYXJlIG5vdCBTeW1ib2wgaW5zdGFuY2VzXG4gIHJldHVybiAhU3RyaW5nKHN5bWJvbCkgfHwgIShPYmplY3Qoc3ltYm9sKSBpbnN0YW5jZW9mIFN5bWJvbCkgfHxcbiAgICAvLyBDaHJvbWUgMzgtNDAgc3ltYm9scyBhcmUgbm90IGluaGVyaXRlZCBmcm9tIERPTSBjb2xsZWN0aW9ucyBwcm90b3R5cGVzIHRvIGluc3RhbmNlc1xuICAgICFTeW1ib2wuc2hhbSAmJiBWOF9WRVJTSU9OJDEgJiYgVjhfVkVSU0lPTiQxIDwgNDE7XG59KTtcblxuLyogZXNsaW50LWRpc2FibGUgZXMteC9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cblxudmFyIE5BVElWRV9TWU1CT0wkMiA9IG5hdGl2ZVN5bWJvbDtcblxudmFyIHVzZVN5bWJvbEFzVWlkID0gTkFUSVZFX1NZTUJPTCQyXG4gICYmICFTeW1ib2wuc2hhbVxuICAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnO1xuXG52YXIgZ2xvYmFsJGYgPSBnbG9iYWwkaztcbnZhciBzaGFyZWQkMiA9IHNoYXJlZCQzLmV4cG9ydHM7XG52YXIgaGFzT3duJGIgPSBoYXNPd25Qcm9wZXJ0eV8xO1xudmFyIHVpZCQxID0gdWlkJDI7XG52YXIgTkFUSVZFX1NZTUJPTCQxID0gbmF0aXZlU3ltYm9sO1xudmFyIFVTRV9TWU1CT0xfQVNfVUlEJDEgPSB1c2VTeW1ib2xBc1VpZDtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCQyKCd3a3MnKTtcbnZhciBTeW1ib2wkMSA9IGdsb2JhbCRmLlN5bWJvbDtcbnZhciBzeW1ib2xGb3IgPSBTeW1ib2wkMSAmJiBTeW1ib2wkMVsnZm9yJ107XG52YXIgY3JlYXRlV2VsbEtub3duU3ltYm9sID0gVVNFX1NZTUJPTF9BU19VSUQkMSA/IFN5bWJvbCQxIDogU3ltYm9sJDEgJiYgU3ltYm9sJDEud2l0aG91dFNldHRlciB8fCB1aWQkMTtcblxudmFyIHdlbGxLbm93blN5bWJvbCRnID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXNPd24kYihXZWxsS25vd25TeW1ib2xzU3RvcmUsIG5hbWUpIHx8ICEoTkFUSVZFX1NZTUJPTCQxIHx8IHR5cGVvZiBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPT0gJ3N0cmluZycpKSB7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gJ1N5bWJvbC4nICsgbmFtZTtcbiAgICBpZiAoTkFUSVZFX1NZTUJPTCQxICYmIGhhc093biRiKFN5bWJvbCQxLCBuYW1lKSkge1xuICAgICAgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID0gU3ltYm9sJDFbbmFtZV07XG4gICAgfSBlbHNlIGlmIChVU0VfU1lNQk9MX0FTX1VJRCQxICYmIHN5bWJvbEZvcikge1xuICAgICAgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID0gc3ltYm9sRm9yKGRlc2NyaXB0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID0gY3JlYXRlV2VsbEtub3duU3ltYm9sKGRlc2NyaXB0aW9uKTtcbiAgICB9XG4gIH0gcmV0dXJuIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXTtcbn07XG5cbnZhciBpc0NhbGxhYmxlJGogPSBpc0NhbGxhYmxlJGw7XG5cbnZhciBpc09iamVjdCQ4ID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IGlzQ2FsbGFibGUkaihpdCk7XG59O1xuXG52YXIgaXNPYmplY3QkNyA9IGlzT2JqZWN0JDg7XG5cbnZhciAkU3RyaW5nJDMgPSBTdHJpbmc7XG52YXIgJFR5cGVFcnJvciRkID0gVHlwZUVycm9yO1xuXG4vLyBgQXNzZXJ0OiBUeXBlKGFyZ3VtZW50KSBpcyBPYmplY3RgXG52YXIgYW5PYmplY3QkYyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoaXNPYmplY3QkNyhhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvciRkKCRTdHJpbmckMyhhcmd1bWVudCkgKyAnIGlzIG5vdCBhbiBvYmplY3QnKTtcbn07XG5cbnZhciBvYmplY3REZWZpbmVQcm9wZXJ0aWVzID0ge307XG5cbnZhciBmYWlscyRkID0gZmFpbHMkaDtcblxuLy8gRGV0ZWN0IElFOCdzIGluY29tcGxldGUgZGVmaW5lUHJvcGVydHkgaW1wbGVtZW50YXRpb25cbnZhciBkZXNjcmlwdG9ycyA9ICFmYWlscyRkKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIDEsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pWzFdICE9IDc7XG59KTtcblxudmFyIERFU0NSSVBUT1JTJGIgPSBkZXNjcmlwdG9ycztcbnZhciBmYWlscyRjID0gZmFpbHMkaDtcblxuLy8gVjggfiBDaHJvbWUgMzYtXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMzM0XG52YXIgdjhQcm90b3R5cGVEZWZpbmVCdWcgPSBERVNDUklQVE9SUyRiICYmIGZhaWxzJGMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sICdwcm90b3R5cGUnLCB7XG4gICAgdmFsdWU6IDQyLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KS5wcm90b3R5cGUgIT0gNDI7XG59KTtcblxudmFyIG9iamVjdERlZmluZVByb3BlcnR5ID0ge307XG5cbnZhciBnbG9iYWwkZSA9IGdsb2JhbCRrO1xudmFyIGlzT2JqZWN0JDYgPSBpc09iamVjdCQ4O1xuXG52YXIgZG9jdW1lbnQkMyA9IGdsb2JhbCRlLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgRVhJU1RTJDEgPSBpc09iamVjdCQ2KGRvY3VtZW50JDMpICYmIGlzT2JqZWN0JDYoZG9jdW1lbnQkMy5jcmVhdGVFbGVtZW50KTtcblxudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCQyID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBFWElTVFMkMSA/IGRvY3VtZW50JDMuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cbnZhciBERVNDUklQVE9SUyRhID0gZGVzY3JpcHRvcnM7XG52YXIgZmFpbHMkYiA9IGZhaWxzJGg7XG52YXIgY3JlYXRlRWxlbWVudCQxID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50JDI7XG5cbi8vIFRoYW5rcyB0byBJRTggZm9yIGl0cyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxudmFyIGllOERvbURlZmluZSA9ICFERVNDUklQVE9SUyRhICYmICFmYWlscyRiKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCQxKCdkaXYnKSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9XG4gIH0pLmEgIT0gNztcbn0pO1xuXG52YXIgTkFUSVZFX0JJTkQkMiA9IGZ1bmN0aW9uQmluZE5hdGl2ZTtcblxudmFyIGNhbGwkZSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xuXG52YXIgZnVuY3Rpb25DYWxsID0gTkFUSVZFX0JJTkQkMiA/IGNhbGwkZS5iaW5kKGNhbGwkZSkgOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBjYWxsJGUuYXBwbHkoY2FsbCRlLCBhcmd1bWVudHMpO1xufTtcblxudmFyIHVuY3VycnlUaGlzJGMgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuXG52YXIgb2JqZWN0SXNQcm90b3R5cGVPZiA9IHVuY3VycnlUaGlzJGMoe30uaXNQcm90b3R5cGVPZik7XG5cbnZhciBnZXRCdWlsdEluJDYgPSBnZXRCdWlsdEluJDg7XG52YXIgaXNDYWxsYWJsZSRpID0gaXNDYWxsYWJsZSRsO1xudmFyIGlzUHJvdG90eXBlT2YkNCA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSB1c2VTeW1ib2xBc1VpZDtcblxudmFyICRPYmplY3QkMiA9IE9iamVjdDtcblxudmFyIGlzU3ltYm9sJDIgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgJFN5bWJvbCA9IGdldEJ1aWx0SW4kNignU3ltYm9sJyk7XG4gIHJldHVybiBpc0NhbGxhYmxlJGkoJFN5bWJvbCkgJiYgaXNQcm90b3R5cGVPZiQ0KCRTeW1ib2wucHJvdG90eXBlLCAkT2JqZWN0JDIoaXQpKTtcbn07XG5cbnZhciAkU3RyaW5nJDIgPSBTdHJpbmc7XG5cbnZhciB0cnlUb1N0cmluZyQ1ID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICRTdHJpbmckMihhcmd1bWVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuICdPYmplY3QnO1xuICB9XG59O1xuXG52YXIgaXNDYWxsYWJsZSRoID0gaXNDYWxsYWJsZSRsO1xudmFyIHRyeVRvU3RyaW5nJDQgPSB0cnlUb1N0cmluZyQ1O1xuXG52YXIgJFR5cGVFcnJvciRjID0gVHlwZUVycm9yO1xuXG4vLyBgQXNzZXJ0OiBJc0NhbGxhYmxlKGFyZ3VtZW50KSBpcyB0cnVlYFxudmFyIGFDYWxsYWJsZSQ5ID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc0NhbGxhYmxlJGgoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93ICRUeXBlRXJyb3IkYyh0cnlUb1N0cmluZyQ0KGFyZ3VtZW50KSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbn07XG5cbnZhciBhQ2FsbGFibGUkOCA9IGFDYWxsYWJsZSQ5O1xuXG4vLyBgR2V0TWV0aG9kYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0bWV0aG9kXG52YXIgZ2V0TWV0aG9kJDMgPSBmdW5jdGlvbiAoViwgUCkge1xuICB2YXIgZnVuYyA9IFZbUF07XG4gIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhQ2FsbGFibGUkOChmdW5jKTtcbn07XG5cbnZhciBjYWxsJGQgPSBmdW5jdGlvbkNhbGw7XG52YXIgaXNDYWxsYWJsZSRnID0gaXNDYWxsYWJsZSRsO1xudmFyIGlzT2JqZWN0JDUgPSBpc09iamVjdCQ4O1xuXG52YXIgJFR5cGVFcnJvciRiID0gVHlwZUVycm9yO1xuXG4vLyBgT3JkaW5hcnlUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbnZhciBvcmRpbmFyeVRvUHJpbWl0aXZlJDEgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChwcmVmID09PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlJGcoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0JDUodmFsID0gY2FsbCRkKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAoaXNDYWxsYWJsZSRnKGZuID0gaW5wdXQudmFsdWVPZikgJiYgIWlzT2JqZWN0JDUodmFsID0gY2FsbCRkKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAocHJlZiAhPT0gJ3N0cmluZycgJiYgaXNDYWxsYWJsZSRnKGZuID0gaW5wdXQudG9TdHJpbmcpICYmICFpc09iamVjdCQ1KHZhbCA9IGNhbGwkZChmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgJFR5cGVFcnJvciRiKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcblxudmFyIGNhbGwkYyA9IGZ1bmN0aW9uQ2FsbDtcbnZhciBpc09iamVjdCQ0ID0gaXNPYmplY3QkODtcbnZhciBpc1N5bWJvbCQxID0gaXNTeW1ib2wkMjtcbnZhciBnZXRNZXRob2QkMiA9IGdldE1ldGhvZCQzO1xudmFyIG9yZGluYXJ5VG9QcmltaXRpdmUgPSBvcmRpbmFyeVRvUHJpbWl0aXZlJDE7XG52YXIgd2VsbEtub3duU3ltYm9sJGYgPSB3ZWxsS25vd25TeW1ib2wkZztcblxudmFyICRUeXBlRXJyb3IkYSA9IFR5cGVFcnJvcjtcbnZhciBUT19QUklNSVRJVkUgPSB3ZWxsS25vd25TeW1ib2wkZigndG9QcmltaXRpdmUnKTtcblxuLy8gYFRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbnZhciB0b1ByaW1pdGl2ZSQxID0gZnVuY3Rpb24gKGlucHV0LCBwcmVmKSB7XG4gIGlmICghaXNPYmplY3QkNChpbnB1dCkgfHwgaXNTeW1ib2wkMShpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGV4b3RpY1RvUHJpbSA9IGdldE1ldGhvZCQyKGlucHV0LCBUT19QUklNSVRJVkUpO1xuICB2YXIgcmVzdWx0O1xuICBpZiAoZXhvdGljVG9QcmltKSB7XG4gICAgaWYgKHByZWYgPT09IHVuZGVmaW5lZCkgcHJlZiA9ICdkZWZhdWx0JztcbiAgICByZXN1bHQgPSBjYWxsJGMoZXhvdGljVG9QcmltLCBpbnB1dCwgcHJlZik7XG4gICAgaWYgKCFpc09iamVjdCQ0KHJlc3VsdCkgfHwgaXNTeW1ib2wkMShyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHRocm93ICRUeXBlRXJyb3IkYShcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfVxuICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ251bWJlcic7XG4gIHJldHVybiBvcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBwcmVmKTtcbn07XG5cbnZhciB0b1ByaW1pdGl2ZSA9IHRvUHJpbWl0aXZlJDE7XG52YXIgaXNTeW1ib2wgPSBpc1N5bWJvbCQyO1xuXG4vLyBgVG9Qcm9wZXJ0eUtleWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbnZhciB0b1Byb3BlcnR5S2V5JDMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZ3VtZW50LCAnc3RyaW5nJyk7XG4gIHJldHVybiBpc1N5bWJvbChrZXkpID8ga2V5IDoga2V5ICsgJyc7XG59O1xuXG52YXIgREVTQ1JJUFRPUlMkOSA9IGRlc2NyaXB0b3JzO1xudmFyIElFOF9ET01fREVGSU5FJDEgPSBpZThEb21EZWZpbmU7XG52YXIgVjhfUFJPVE9UWVBFX0RFRklORV9CVUckMSA9IHY4UHJvdG90eXBlRGVmaW5lQnVnO1xudmFyIGFuT2JqZWN0JGIgPSBhbk9iamVjdCRjO1xudmFyIHRvUHJvcGVydHlLZXkkMiA9IHRvUHJvcGVydHlLZXkkMztcblxudmFyICRUeXBlRXJyb3IkOSA9IFR5cGVFcnJvcjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG52YXIgJGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBFTlVNRVJBQkxFID0gJ2VudW1lcmFibGUnO1xudmFyIENPTkZJR1VSQUJMRSQxID0gJ2NvbmZpZ3VyYWJsZSc7XG52YXIgV1JJVEFCTEUgPSAnd3JpdGFibGUnO1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnR5XG5vYmplY3REZWZpbmVQcm9wZXJ0eS5mID0gREVTQ1JJUFRPUlMkOSA/IFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHJDEgPyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0JGIoTyk7XG4gIFAgPSB0b1Byb3BlcnR5S2V5JDIoUCk7XG4gIGFuT2JqZWN0JGIoQXR0cmlidXRlcyk7XG4gIGlmICh0eXBlb2YgTyA9PT0gJ2Z1bmN0aW9uJyAmJiBQID09PSAncHJvdG90eXBlJyAmJiAndmFsdWUnIGluIEF0dHJpYnV0ZXMgJiYgV1JJVEFCTEUgaW4gQXR0cmlidXRlcyAmJiAhQXR0cmlidXRlc1tXUklUQUJMRV0pIHtcbiAgICB2YXIgY3VycmVudCA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMShPLCBQKTtcbiAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50W1dSSVRBQkxFXSkge1xuICAgICAgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gICAgICBBdHRyaWJ1dGVzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IENPTkZJR1VSQUJMRSQxIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0NPTkZJR1VSQUJMRSQxXSA6IGN1cnJlbnRbQ09ORklHVVJBQkxFJDFdLFxuICAgICAgICBlbnVtZXJhYmxlOiBFTlVNRVJBQkxFIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0VOVU1FUkFCTEVdIDogY3VycmVudFtFTlVNRVJBQkxFXSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfSByZXR1cm4gJGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xufSA6ICRkZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QkYihPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkkMihQKTtcbiAgYW5PYmplY3QkYihBdHRyaWJ1dGVzKTtcbiAgaWYgKElFOF9ET01fREVGSU5FJDEpIHRyeSB7XG4gICAgcmV0dXJuICRkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyAkVHlwZUVycm9yJDkoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkJyk7XG4gIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cbnZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yJDEgPSBNYXRoLmZsb29yO1xuXG4vLyBgTWF0aC50cnVuY2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hdGgudHJ1bmNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW1hdGgtdHJ1bmMgLS0gc2FmZVxudmFyIG1hdGhUcnVuYyA9IE1hdGgudHJ1bmMgfHwgZnVuY3Rpb24gdHJ1bmMoeCkge1xuICB2YXIgbiA9ICt4O1xuICByZXR1cm4gKG4gPiAwID8gZmxvb3IkMSA6IGNlaWwpKG4pO1xufTtcblxudmFyIHRydW5jID0gbWF0aFRydW5jO1xuXG4vLyBgVG9JbnRlZ2VyT3JJbmZpbml0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvaW50ZWdlcm9yaW5maW5pdHlcbnZhciB0b0ludGVnZXJPckluZmluaXR5JDIgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdmFyIG51bWJlciA9ICthcmd1bWVudDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZSAtLSBOYU4gY2hlY2tcbiAgcmV0dXJuIG51bWJlciAhPT0gbnVtYmVyIHx8IG51bWJlciA9PT0gMCA/IDAgOiB0cnVuYyhudW1iZXIpO1xufTtcblxudmFyIHRvSW50ZWdlck9ySW5maW5pdHkkMSA9IHRvSW50ZWdlck9ySW5maW5pdHkkMjtcblxudmFyIG1heCQxID0gTWF0aC5tYXg7XG52YXIgbWluJDEgPSBNYXRoLm1pbjtcblxuLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4vLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4vLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxudmFyIHRvQWJzb2x1dGVJbmRleCQyID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgdmFyIGludGVnZXIgPSB0b0ludGVnZXJPckluZmluaXR5JDEoaW5kZXgpO1xuICByZXR1cm4gaW50ZWdlciA8IDAgPyBtYXgkMShpbnRlZ2VyICsgbGVuZ3RoLCAwKSA6IG1pbiQxKGludGVnZXIsIGxlbmd0aCk7XG59O1xuXG52YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IHRvSW50ZWdlck9ySW5maW5pdHkkMjtcblxudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBgVG9MZW5ndGhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxudmFyIHRvTGVuZ3RoJDEgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXJPckluZmluaXR5KGFyZ3VtZW50KSwgMHgxRkZGRkZGRkZGRkZGRikgOiAwOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG52YXIgdG9MZW5ndGggPSB0b0xlbmd0aCQxO1xuXG4vLyBgTGVuZ3RoT2ZBcnJheUxpa2VgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1sZW5ndGhvZmFycmF5bGlrZVxudmFyIGxlbmd0aE9mQXJyYXlMaWtlJDUgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0b0xlbmd0aChvYmoubGVuZ3RoKTtcbn07XG5cbnZhciB0b0luZGV4ZWRPYmplY3QkNCA9IHRvSW5kZXhlZE9iamVjdCQ1O1xudmFyIHRvQWJzb2x1dGVJbmRleCQxID0gdG9BYnNvbHV0ZUluZGV4JDI7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UkNCA9IGxlbmd0aE9mQXJyYXlMaWtlJDU7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyBpbmRleE9mLCBpbmNsdWRlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kJDEgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JbmRleGVkT2JqZWN0JDQoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQ0KE8pO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleCQxKGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGlmICgoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykgJiYgT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG52YXIgYXJyYXlJbmNsdWRlcyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4gIGluY2x1ZGVzOiBjcmVhdGVNZXRob2QkMSh0cnVlKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmRleE9mYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5kZXhvZlxuICBpbmRleE9mOiBjcmVhdGVNZXRob2QkMShmYWxzZSlcbn07XG5cbnZhciBoaWRkZW5LZXlzJDQgPSB7fTtcblxudmFyIHVuY3VycnlUaGlzJGIgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xudmFyIGhhc093biRhID0gaGFzT3duUHJvcGVydHlfMTtcbnZhciB0b0luZGV4ZWRPYmplY3QkMyA9IHRvSW5kZXhlZE9iamVjdCQ1O1xudmFyIGluZGV4T2YgPSBhcnJheUluY2x1ZGVzLmluZGV4T2Y7XG52YXIgaGlkZGVuS2V5cyQzID0gaGlkZGVuS2V5cyQ0O1xuXG52YXIgcHVzaCQxID0gdW5jdXJyeVRoaXMkYihbXS5wdXNoKTtcblxudmFyIG9iamVjdEtleXNJbnRlcm5hbCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JbmRleGVkT2JqZWN0JDMob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pICFoYXNPd24kYShoaWRkZW5LZXlzJDMsIGtleSkgJiYgaGFzT3duJGEoTywga2V5KSAmJiBwdXNoJDEocmVzdWx0LCBrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzT3duJGEoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+aW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcHVzaCQxKHJlc3VsdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gSUU4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG52YXIgZW51bUJ1Z0tleXMkMyA9IFtcbiAgJ2NvbnN0cnVjdG9yJyxcbiAgJ2hhc093blByb3BlcnR5JyxcbiAgJ2lzUHJvdG90eXBlT2YnLFxuICAncHJvcGVydHlJc0VudW1lcmFibGUnLFxuICAndG9Mb2NhbGVTdHJpbmcnLFxuICAndG9TdHJpbmcnLFxuICAndmFsdWVPZidcbl07XG5cbnZhciBpbnRlcm5hbE9iamVjdEtleXMkMSA9IG9iamVjdEtleXNJbnRlcm5hbDtcbnZhciBlbnVtQnVnS2V5cyQyID0gZW51bUJ1Z0tleXMkMztcblxuLy8gYE9iamVjdC5rZXlzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmtleXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1rZXlzIC0tIHNhZmVcbnZhciBvYmplY3RLZXlzJDIgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyQxKE8sIGVudW1CdWdLZXlzJDIpO1xufTtcblxudmFyIERFU0NSSVBUT1JTJDggPSBkZXNjcmlwdG9ycztcbnZhciBWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA9IHY4UHJvdG90eXBlRGVmaW5lQnVnO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlJDUgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcbnZhciBhbk9iamVjdCRhID0gYW5PYmplY3QkYztcbnZhciB0b0luZGV4ZWRPYmplY3QkMiA9IHRvSW5kZXhlZE9iamVjdCQ1O1xudmFyIG9iamVjdEtleXMkMSA9IG9iamVjdEtleXMkMjtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0aWVzIC0tIHNhZmVcbm9iamVjdERlZmluZVByb3BlcnRpZXMuZiA9IERFU0NSSVBUT1JTJDggJiYgIVY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QkYShPKTtcbiAgdmFyIHByb3BzID0gdG9JbmRleGVkT2JqZWN0JDIoUHJvcGVydGllcyk7XG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyQxKFByb3BlcnRpZXMpO1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsZW5ndGggPiBpbmRleCkgZGVmaW5lUHJvcGVydHlNb2R1bGUkNS5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIHByb3BzW2tleV0pO1xuICByZXR1cm4gTztcbn07XG5cbnZhciBnZXRCdWlsdEluJDUgPSBnZXRCdWlsdEluJDg7XG5cbnZhciBodG1sJDIgPSBnZXRCdWlsdEluJDUoJ2RvY3VtZW50JywgJ2RvY3VtZW50RWxlbWVudCcpO1xuXG52YXIgc2hhcmVkJDEgPSBzaGFyZWQkMy5leHBvcnRzO1xudmFyIHVpZCA9IHVpZCQyO1xuXG52YXIga2V5cyA9IHNoYXJlZCQxKCdrZXlzJyk7XG5cbnZhciBzaGFyZWRLZXkkMyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGtleXNba2V5XSB8fCAoa2V5c1trZXldID0gdWlkKGtleSkpO1xufTtcblxuLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgLS0gb2xkIElFLCBXU0ggKi9cblxudmFyIGFuT2JqZWN0JDkgPSBhbk9iamVjdCRjO1xudmFyIGRlZmluZVByb3BlcnRpZXNNb2R1bGUgPSBvYmplY3REZWZpbmVQcm9wZXJ0aWVzO1xudmFyIGVudW1CdWdLZXlzJDEgPSBlbnVtQnVnS2V5cyQzO1xudmFyIGhpZGRlbktleXMkMiA9IGhpZGRlbktleXMkNDtcbnZhciBodG1sJDEgPSBodG1sJDI7XG52YXIgZG9jdW1lbnRDcmVhdGVFbGVtZW50JDEgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMjtcbnZhciBzaGFyZWRLZXkkMiA9IHNoYXJlZEtleSQzO1xuXG52YXIgR1QgPSAnPic7XG52YXIgTFQgPSAnPCc7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgU0NSSVBUID0gJ3NjcmlwdCc7XG52YXIgSUVfUFJPVE8kMSA9IHNoYXJlZEtleSQyKCdJRV9QUk9UTycpO1xuXG52YXIgRW1wdHlDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcblxudmFyIHNjcmlwdFRhZyA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gIHJldHVybiBMVCArIFNDUklQVCArIEdUICsgY29udGVudCArIExUICsgJy8nICsgU0NSSVBUICsgR1Q7XG59O1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgQWN0aXZlWCBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVggPSBmdW5jdGlvbiAoYWN0aXZlWERvY3VtZW50KSB7XG4gIGFjdGl2ZVhEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJycpKTtcbiAgYWN0aXZlWERvY3VtZW50LmNsb3NlKCk7XG4gIHZhciB0ZW1wID0gYWN0aXZlWERvY3VtZW50LnBhcmVudFdpbmRvdy5PYmplY3Q7XG4gIGFjdGl2ZVhEb2N1bWVudCA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrXG4gIHJldHVybiB0ZW1wO1xufTtcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUlGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCQxKCdpZnJhbWUnKTtcbiAgdmFyIEpTID0gJ2phdmEnICsgU0NSSVBUICsgJzonO1xuICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBodG1sJDEuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzQ3NVxuICBpZnJhbWUuc3JjID0gU3RyaW5nKEpTKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJ2RvY3VtZW50LkY9T2JqZWN0JykpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICByZXR1cm4gaWZyYW1lRG9jdW1lbnQuRjtcbn07XG5cbi8vIENoZWNrIGZvciBkb2N1bWVudC5kb21haW4gYW5kIGFjdGl2ZSB4IHN1cHBvcnRcbi8vIE5vIG5lZWQgdG8gdXNlIGFjdGl2ZSB4IGFwcHJvYWNoIHdoZW4gZG9jdW1lbnQuZG9tYWluIGlzIG5vdCBzZXRcbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vaXNzdWVzLzE1MFxuLy8gdmFyaWF0aW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9raXRjYW1icmlkZ2UvZXM1LXNoaW0vY29tbWl0LzRmNzM4YWMwNjYzNDZcbi8vIGF2b2lkIElFIEdDIGJ1Z1xudmFyIGFjdGl2ZVhEb2N1bWVudDtcbnZhciBOdWxsUHJvdG9PYmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgYWN0aXZlWERvY3VtZW50ID0gbmV3IEFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGlnbm9yZSAqLyB9XG4gIE51bGxQcm90b09iamVjdCA9IHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJ1xuICAgID8gZG9jdW1lbnQuZG9tYWluICYmIGFjdGl2ZVhEb2N1bWVudFxuICAgICAgPyBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYKGFjdGl2ZVhEb2N1bWVudCkgLy8gb2xkIElFXG4gICAgICA6IE51bGxQcm90b09iamVjdFZpYUlGcmFtZSgpXG4gICAgOiBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYKGFjdGl2ZVhEb2N1bWVudCk7IC8vIFdTSFxuICB2YXIgbGVuZ3RoID0gZW51bUJ1Z0tleXMkMS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkgZGVsZXRlIE51bGxQcm90b09iamVjdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzJDFbbGVuZ3RoXV07XG4gIHJldHVybiBOdWxsUHJvdG9PYmplY3QoKTtcbn07XG5cbmhpZGRlbktleXMkMltJRV9QUk9UTyQxXSA9IHRydWU7XG5cbi8vIGBPYmplY3QuY3JlYXRlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWNyZWF0ZSAtLSBzYWZlXG52YXIgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IGFuT2JqZWN0JDkoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5Q29uc3RydWN0b3IoKTtcbiAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE8kMV0gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gTnVsbFByb3RvT2JqZWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlLmYocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cbnZhciB3ZWxsS25vd25TeW1ib2wkZSA9IHdlbGxLbm93blN5bWJvbCRnO1xudmFyIGNyZWF0ZSQxID0gb2JqZWN0Q3JlYXRlO1xudmFyIGRlZmluZVByb3BlcnR5JDUgPSBvYmplY3REZWZpbmVQcm9wZXJ0eS5mO1xuXG52YXIgVU5TQ09QQUJMRVMgPSB3ZWxsS25vd25TeW1ib2wkZSgndW5zY29wYWJsZXMnKTtcbnZhciBBcnJheVByb3RvdHlwZSQxID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmlmIChBcnJheVByb3RvdHlwZSQxW1VOU0NPUEFCTEVTXSA9PSB1bmRlZmluZWQpIHtcbiAgZGVmaW5lUHJvcGVydHkkNShBcnJheVByb3RvdHlwZSQxLCBVTlNDT1BBQkxFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogY3JlYXRlJDEobnVsbClcbiAgfSk7XG59XG5cbi8vIGFkZCBhIGtleSB0byBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbnZhciBhZGRUb1Vuc2NvcGFibGVzJDIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIEFycmF5UHJvdG90eXBlJDFbVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcblxudmFyIGl0ZXJhdG9ycyA9IHt9O1xuXG52YXIgdW5jdXJyeVRoaXMkYSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG52YXIgaXNDYWxsYWJsZSRmID0gaXNDYWxsYWJsZSRsO1xudmFyIHN0b3JlJDEgPSBzaGFyZWRTdG9yZTtcblxudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyRhKEZ1bmN0aW9uLnRvU3RyaW5nKTtcblxuLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGBjb3JlLWpzQDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKCFpc0NhbGxhYmxlJGYoc3RvcmUkMS5pbnNwZWN0U291cmNlKSkge1xuICBzdG9yZSQxLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZyhpdCk7XG4gIH07XG59XG5cbnZhciBpbnNwZWN0U291cmNlJDQgPSBzdG9yZSQxLmluc3BlY3RTb3VyY2U7XG5cbnZhciBnbG9iYWwkZCA9IGdsb2JhbCRrO1xudmFyIGlzQ2FsbGFibGUkZSA9IGlzQ2FsbGFibGUkbDtcbnZhciBpbnNwZWN0U291cmNlJDMgPSBpbnNwZWN0U291cmNlJDQ7XG5cbnZhciBXZWFrTWFwJDEgPSBnbG9iYWwkZC5XZWFrTWFwO1xuXG52YXIgbmF0aXZlV2Vha01hcCA9IGlzQ2FsbGFibGUkZShXZWFrTWFwJDEpICYmIC9uYXRpdmUgY29kZS8udGVzdChpbnNwZWN0U291cmNlJDMoV2Vha01hcCQxKSk7XG5cbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNCA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuXG52YXIgREVTQ1JJUFRPUlMkNyA9IGRlc2NyaXB0b3JzO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlJDQgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMyA9IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ0O1xuXG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQgPSBERVNDUklQVE9SUyQ3ID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHlNb2R1bGUkNC5mKG9iamVjdCwga2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cbnZhciBOQVRJVkVfV0VBS19NQVAgPSBuYXRpdmVXZWFrTWFwO1xudmFyIGdsb2JhbCRjID0gZ2xvYmFsJGs7XG52YXIgdW5jdXJyeVRoaXMkOSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG52YXIgaXNPYmplY3QkMyA9IGlzT2JqZWN0JDg7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDMgPSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNDtcbnZhciBoYXNPd24kOSA9IGhhc093blByb3BlcnR5XzE7XG52YXIgc2hhcmVkID0gc2hhcmVkU3RvcmU7XG52YXIgc2hhcmVkS2V5JDEgPSBzaGFyZWRLZXkkMztcbnZhciBoaWRkZW5LZXlzJDEgPSBoaWRkZW5LZXlzJDQ7XG5cbnZhciBPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCA9ICdPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZCc7XG52YXIgVHlwZUVycm9yJDIgPSBnbG9iYWwkYy5UeXBlRXJyb3I7XG52YXIgV2Vha01hcCA9IGdsb2JhbCRjLldlYWtNYXA7XG52YXIgc2V0JDEsIGdldCwgaGFzO1xuXG52YXIgZW5mb3JjZSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaGFzKGl0KSA/IGdldChpdCkgOiBzZXQkMShpdCwge30pO1xufTtcblxudmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgc3RhdGU7XG4gICAgaWYgKCFpc09iamVjdCQzKGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IkMignSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAnICsgVFlQRSArICcgcmVxdWlyZWQnKTtcbiAgICB9IHJldHVybiBzdGF0ZTtcbiAgfTtcbn07XG5cbmlmIChOQVRJVkVfV0VBS19NQVAgfHwgc2hhcmVkLnN0YXRlKSB7XG4gIHZhciBzdG9yZSA9IHNoYXJlZC5zdGF0ZSB8fCAoc2hhcmVkLnN0YXRlID0gbmV3IFdlYWtNYXAoKSk7XG4gIHZhciB3bWdldCA9IHVuY3VycnlUaGlzJDkoc3RvcmUuZ2V0KTtcbiAgdmFyIHdtaGFzID0gdW5jdXJyeVRoaXMkOShzdG9yZS5oYXMpO1xuICB2YXIgd21zZXQgPSB1bmN1cnJ5VGhpcyQ5KHN0b3JlLnNldCk7XG4gIHNldCQxID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuICAgIGlmICh3bWhhcyhzdG9yZSwgaXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yJDIoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgIHdtc2V0KHN0b3JlLCBpdCwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtZ2V0KHN0b3JlLCBpdCkgfHwge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiB3bWhhcyhzdG9yZSwgaXQpO1xuICB9O1xufSBlbHNlIHtcbiAgdmFyIFNUQVRFID0gc2hhcmVkS2V5JDEoJ3N0YXRlJyk7XG4gIGhpZGRlbktleXMkMVtTVEFURV0gPSB0cnVlO1xuICBzZXQkMSA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBpZiAoaGFzT3duJDkoaXQsIFNUQVRFKSkgdGhyb3cgbmV3IFR5cGVFcnJvciQyKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMyhpdCwgU1RBVEUsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH07XG4gIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBoYXNPd24kOShpdCwgU1RBVEUpID8gaXRbU1RBVEVdIDoge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBoYXNPd24kOShpdCwgU1RBVEUpO1xuICB9O1xufVxuXG52YXIgaW50ZXJuYWxTdGF0ZSA9IHtcbiAgc2V0OiBzZXQkMSxcbiAgZ2V0OiBnZXQsXG4gIGhhczogaGFzLFxuICBlbmZvcmNlOiBlbmZvcmNlLFxuICBnZXR0ZXJGb3I6IGdldHRlckZvclxufTtcblxudmFyIG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHt9O1xuXG52YXIgb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGUgPSB7fTtcblxudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBOYXNob3JuIH4gSkRLOCBidWdcbnZhciBOQVNIT1JOX0JVRyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQyICYmICEkcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7IDE6IDIgfSwgMSk7XG5cbi8vIGBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eWlzZW51bWVyYWJsZVxub2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGUuZiA9IE5BU0hPUk5fQlVHID8gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQyKHRoaXMsIFYpO1xuICByZXR1cm4gISFkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IuZW51bWVyYWJsZTtcbn0gOiAkcHJvcGVydHlJc0VudW1lcmFibGU7XG5cbnZhciBERVNDUklQVE9SUyQ2ID0gZGVzY3JpcHRvcnM7XG52YXIgY2FsbCRiID0gZnVuY3Rpb25DYWxsO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlJDEgPSBvYmplY3RQcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMiA9IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ0O1xudmFyIHRvSW5kZXhlZE9iamVjdCQxID0gdG9JbmRleGVkT2JqZWN0JDU7XG52YXIgdG9Qcm9wZXJ0eUtleSQxID0gdG9Qcm9wZXJ0eUtleSQzO1xudmFyIGhhc093biQ4ID0gaGFzT3duUHJvcGVydHlfMTtcbnZhciBJRThfRE9NX0RFRklORSA9IGllOERvbURlZmluZTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxub2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLmYgPSBERVNDUklQVE9SUyQ2ID8gJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0luZGV4ZWRPYmplY3QkMShPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkkMShQKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXNPd24kOChPLCBQKSkgcmV0dXJuIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQyKCFjYWxsJGIocHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUkMS5mLCBPLCBQKSwgT1tQXSk7XG59O1xuXG52YXIgbWFrZUJ1aWx0SW4kMiA9IHtleHBvcnRzOiB7fX07XG5cbnZhciBERVNDUklQVE9SUyQ1ID0gZGVzY3JpcHRvcnM7XG52YXIgaGFzT3duJDcgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUkMSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyIGdldERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyQ1ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbnZhciBFWElTVFMgPSBoYXNPd24kNyhGdW5jdGlvblByb3RvdHlwZSQxLCAnbmFtZScpO1xuLy8gYWRkaXRpb25hbCBwcm90ZWN0aW9uIGZyb20gbWluaWZpZWQgLyBtYW5nbGVkIC8gZHJvcHBlZCBmdW5jdGlvbiBuYW1lc1xudmFyIFBST1BFUiA9IEVYSVNUUyAmJiAoZnVuY3Rpb24gc29tZXRoaW5nKCkgeyAvKiBlbXB0eSAqLyB9KS5uYW1lID09PSAnc29tZXRoaW5nJztcbnZhciBDT05GSUdVUkFCTEUgPSBFWElTVFMgJiYgKCFERVNDUklQVE9SUyQ1IHx8IChERVNDUklQVE9SUyQ1ICYmIGdldERlc2NyaXB0b3IoRnVuY3Rpb25Qcm90b3R5cGUkMSwgJ25hbWUnKS5jb25maWd1cmFibGUpKTtcblxudmFyIGZ1bmN0aW9uTmFtZSA9IHtcbiAgRVhJU1RTOiBFWElTVFMsXG4gIFBST1BFUjogUFJPUEVSLFxuICBDT05GSUdVUkFCTEU6IENPTkZJR1VSQUJMRVxufTtcblxudmFyIGZhaWxzJGEgPSBmYWlscyRoO1xudmFyIGlzQ2FsbGFibGUkZCA9IGlzQ2FsbGFibGUkbDtcbnZhciBoYXNPd24kNiA9IGhhc093blByb3BlcnR5XzE7XG52YXIgREVTQ1JJUFRPUlMkNCA9IGRlc2NyaXB0b3JzO1xudmFyIENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FJDEgPSBmdW5jdGlvbk5hbWUuQ09ORklHVVJBQkxFO1xudmFyIGluc3BlY3RTb3VyY2UkMiA9IGluc3BlY3RTb3VyY2UkNDtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlJDIgPSBpbnRlcm5hbFN0YXRlO1xuXG52YXIgZW5mb3JjZUludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDIuZW5mb3JjZTtcbnZhciBnZXRJbnRlcm5hbFN0YXRlJDEgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDIuZ2V0O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciBkZWZpbmVQcm9wZXJ0eSQ0ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG52YXIgQ09ORklHVVJBQkxFX0xFTkdUSCA9IERFU0NSSVBUT1JTJDQgJiYgIWZhaWxzJGEoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkkNChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sICdsZW5ndGgnLCB7IHZhbHVlOiA4IH0pLmxlbmd0aCAhPT0gODtcbn0pO1xuXG52YXIgVEVNUExBVEUgPSBTdHJpbmcoU3RyaW5nKS5zcGxpdCgnU3RyaW5nJyk7XG5cbnZhciBtYWtlQnVpbHRJbiQxID0gbWFrZUJ1aWx0SW4kMi5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlLCBuYW1lLCBvcHRpb25zKSB7XG4gIGlmIChTdHJpbmcobmFtZSkuc2xpY2UoMCwgNykgPT09ICdTeW1ib2woJykge1xuICAgIG5hbWUgPSAnWycgKyBTdHJpbmcobmFtZSkucmVwbGFjZSgvXlN5bWJvbFxcKChbXildKilcXCkvLCAnJDEnKSArICddJztcbiAgfVxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlcikgbmFtZSA9ICdnZXQgJyArIG5hbWU7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2V0dGVyKSBuYW1lID0gJ3NldCAnICsgbmFtZTtcbiAgaWYgKCFoYXNPd24kNih2YWx1ZSwgJ25hbWUnKSB8fCAoQ09ORklHVVJBQkxFX0ZVTkNUSU9OX05BTUUkMSAmJiB2YWx1ZS5uYW1lICE9PSBuYW1lKSkge1xuICAgIGlmIChERVNDUklQVE9SUyQ0KSBkZWZpbmVQcm9wZXJ0eSQ0KHZhbHVlLCAnbmFtZScsIHsgdmFsdWU6IG5hbWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICBlbHNlIHZhbHVlLm5hbWUgPSBuYW1lO1xuICB9XG4gIGlmIChDT05GSUdVUkFCTEVfTEVOR1RIICYmIG9wdGlvbnMgJiYgaGFzT3duJDYob3B0aW9ucywgJ2FyaXR5JykgJiYgdmFsdWUubGVuZ3RoICE9PSBvcHRpb25zLmFyaXR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkkNCh2YWx1ZSwgJ2xlbmd0aCcsIHsgdmFsdWU6IG9wdGlvbnMuYXJpdHkgfSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24kNihvcHRpb25zLCAnY29uc3RydWN0b3InKSAmJiBvcHRpb25zLmNvbnN0cnVjdG9yKSB7XG4gICAgICBpZiAoREVTQ1JJUFRPUlMkNCkgZGVmaW5lUHJvcGVydHkkNCh2YWx1ZSwgJ3Byb3RvdHlwZScsIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuICAgIC8vIGluIFY4IH4gQ2hyb21lIDUzLCBwcm90b3R5cGVzIG9mIHNvbWUgbWV0aG9kcywgbGlrZSBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AsIGFyZSBub24td3JpdGFibGVcbiAgICB9IGVsc2UgaWYgKHZhbHVlLnByb3RvdHlwZSkgdmFsdWUucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHZhciBzdGF0ZSA9IGVuZm9yY2VJbnRlcm5hbFN0YXRlKHZhbHVlKTtcbiAgaWYgKCFoYXNPd24kNihzdGF0ZSwgJ3NvdXJjZScpKSB7XG4gICAgc3RhdGUuc291cmNlID0gVEVNUExBVEUuam9pbih0eXBlb2YgbmFtZSA9PSAnc3RyaW5nJyA/IG5hbWUgOiAnJyk7XG4gIH0gcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcgZm9yIGNvcnJlY3Qgd29yayB3cmFwcGVkIG1ldGhvZHMgLyBjb25zdHJ1Y3RvcnMgd2l0aCBtZXRob2RzIGxpa2UgTG9EYXNoIGlzTmF0aXZlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0ZW5kLW5hdGl2ZSAtLSByZXF1aXJlZFxuRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gbWFrZUJ1aWx0SW4kMShmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIGlzQ2FsbGFibGUkZCh0aGlzKSAmJiBnZXRJbnRlcm5hbFN0YXRlJDEodGhpcykuc291cmNlIHx8IGluc3BlY3RTb3VyY2UkMih0aGlzKTtcbn0sICd0b1N0cmluZycpO1xuXG52YXIgaXNDYWxsYWJsZSRjID0gaXNDYWxsYWJsZSRsO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlJDMgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcbnZhciBtYWtlQnVpbHRJbiA9IG1ha2VCdWlsdEluJDIuZXhwb3J0cztcbnZhciBkZWZpbmVHbG9iYWxQcm9wZXJ0eSQxID0gZGVmaW5lR2xvYmFsUHJvcGVydHkkMztcblxudmFyIGRlZmluZUJ1aWx0SW4kNiA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICB2YXIgc2ltcGxlID0gb3B0aW9ucy5lbnVtZXJhYmxlO1xuICB2YXIgbmFtZSA9IG9wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uYW1lIDoga2V5O1xuICBpZiAoaXNDYWxsYWJsZSRjKHZhbHVlKSkgbWFrZUJ1aWx0SW4odmFsdWUsIG5hbWUsIG9wdGlvbnMpO1xuICBpZiAob3B0aW9ucy5nbG9iYWwpIHtcbiAgICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgICBlbHNlIGRlZmluZUdsb2JhbFByb3BlcnR5JDEoa2V5LCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghb3B0aW9ucy51bnNhZmUpIGRlbGV0ZSBPW2tleV07XG4gICAgICBlbHNlIGlmIChPW2tleV0pIHNpbXBsZSA9IHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICAgIGlmIChzaW1wbGUpIE9ba2V5XSA9IHZhbHVlO1xuICAgIGVsc2UgZGVmaW5lUHJvcGVydHlNb2R1bGUkMy5mKE8sIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6ICFvcHRpb25zLm5vbkNvbmZpZ3VyYWJsZSxcbiAgICAgIHdyaXRhYmxlOiAhb3B0aW9ucy5ub25Xcml0YWJsZVxuICAgIH0pO1xuICB9IHJldHVybiBPO1xufTtcblxudmFyIG9iamVjdEdldE93blByb3BlcnR5TmFtZXMgPSB7fTtcblxudmFyIGludGVybmFsT2JqZWN0S2V5cyA9IG9iamVjdEtleXNJbnRlcm5hbDtcbnZhciBlbnVtQnVnS2V5cyA9IGVudW1CdWdLZXlzJDM7XG5cbnZhciBoaWRkZW5LZXlzID0gZW51bUJ1Z0tleXMuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eW5hbWVzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlXG5vYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cbnZhciBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5c3ltYm9scyAtLSBzYWZlXG5vYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbnZhciBnZXRCdWlsdEluJDQgPSBnZXRCdWlsdEluJDg7XG52YXIgdW5jdXJyeVRoaXMkOCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSA9IG9iamVjdEdldE93blByb3BlcnR5TmFtZXM7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlJDEgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgYW5PYmplY3QkOCA9IGFuT2JqZWN0JGM7XG5cbnZhciBjb25jYXQkMSA9IHVuY3VycnlUaGlzJDgoW10uY29uY2F0KTtcblxuLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xudmFyIG93bktleXMkMSA9IGdldEJ1aWx0SW4kNCgnUmVmbGVjdCcsICdvd25LZXlzJykgfHwgZnVuY3Rpb24gb3duS2V5cyhpdCkge1xuICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUuZihhbk9iamVjdCQ4KGl0KSk7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMS5mO1xuICByZXR1cm4gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gY29uY2F0JDEoa2V5cywgZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSkgOiBrZXlzO1xufTtcblxudmFyIGhhc093biQ1ID0gaGFzT3duUHJvcGVydHlfMTtcbnZhciBvd25LZXlzID0gb3duS2V5cyQxO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSA9IG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQyID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG5cbnZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzJDIgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UsIGV4Y2VwdGlvbnMpIHtcbiAgdmFyIGtleXMgPSBvd25LZXlzKHNvdXJjZSk7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5TW9kdWxlJDIuZjtcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoIWhhc093biQ1KHRhcmdldCwga2V5KSAmJiAhKGV4Y2VwdGlvbnMgJiYgaGFzT3duJDUoZXhjZXB0aW9ucywga2V5KSkpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBmYWlscyQ5ID0gZmFpbHMkaDtcbnZhciBpc0NhbGxhYmxlJGIgPSBpc0NhbGxhYmxlJGw7XG5cbnZhciByZXBsYWNlbWVudCA9IC8jfFxcLnByb3RvdHlwZVxcLi87XG5cbnZhciBpc0ZvcmNlZCQyID0gZnVuY3Rpb24gKGZlYXR1cmUsIGRldGVjdGlvbikge1xuICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gIHJldHVybiB2YWx1ZSA9PSBQT0xZRklMTCA/IHRydWVcbiAgICA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlXG4gICAgOiBpc0NhbGxhYmxlJGIoZGV0ZWN0aW9uKSA/IGZhaWxzJDkoZGV0ZWN0aW9uKVxuICAgIDogISFkZXRlY3Rpb247XG59O1xuXG52YXIgbm9ybWFsaXplID0gaXNGb3JjZWQkMi5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlcGxhY2VtZW50LCAnLicpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgZGF0YSA9IGlzRm9yY2VkJDIuZGF0YSA9IHt9O1xudmFyIE5BVElWRSA9IGlzRm9yY2VkJDIuTkFUSVZFID0gJ04nO1xudmFyIFBPTFlGSUxMID0gaXNGb3JjZWQkMi5QT0xZRklMTCA9ICdQJztcblxudmFyIGlzRm9yY2VkXzEgPSBpc0ZvcmNlZCQyO1xuXG52YXIgZ2xvYmFsJGIgPSBnbG9iYWwkaztcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMSA9IG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvci5mO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQyID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQ7XG52YXIgZGVmaW5lQnVpbHRJbiQ1ID0gZGVmaW5lQnVpbHRJbiQ2O1xudmFyIGRlZmluZUdsb2JhbFByb3BlcnR5ID0gZGVmaW5lR2xvYmFsUHJvcGVydHkkMztcbnZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzJDEgPSBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzJDI7XG52YXIgaXNGb3JjZWQkMSA9IGlzRm9yY2VkXzE7XG5cbi8qXG4gIG9wdGlvbnMudGFyZ2V0ICAgICAgICAgLSBuYW1lIG9mIHRoZSB0YXJnZXQgb2JqZWN0XG4gIG9wdGlvbnMuZ2xvYmFsICAgICAgICAgLSB0YXJnZXQgaXMgdGhlIGdsb2JhbCBvYmplY3RcbiAgb3B0aW9ucy5zdGF0ICAgICAgICAgICAtIGV4cG9ydCBhcyBzdGF0aWMgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5wcm90byAgICAgICAgICAtIGV4cG9ydCBhcyBwcm90b3R5cGUgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5yZWFsICAgICAgICAgICAtIHJlYWwgcHJvdG90eXBlIG1ldGhvZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMuZm9yY2VkICAgICAgICAgLSBleHBvcnQgZXZlbiBpZiB0aGUgbmF0aXZlIGZlYXR1cmUgaXMgYXZhaWxhYmxlXG4gIG9wdGlvbnMuYmluZCAgICAgICAgICAgLSBiaW5kIG1ldGhvZHMgdG8gdGhlIHRhcmdldCwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLndyYXAgICAgICAgICAgIC0gd3JhcCBjb25zdHJ1Y3RvcnMgdG8gcHJldmVudGluZyBnbG9iYWwgcG9sbHV0aW9uLCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMudW5zYWZlICAgICAgICAgLSB1c2UgdGhlIHNpbXBsZSBhc3NpZ25tZW50IG9mIHByb3BlcnR5IGluc3RlYWQgb2YgZGVsZXRlICsgZGVmaW5lUHJvcGVydHlcbiAgb3B0aW9ucy5zaGFtICAgICAgICAgICAtIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgb3B0aW9ucy5lbnVtZXJhYmxlICAgICAtIGV4cG9ydCBhcyBlbnVtZXJhYmxlIHByb3BlcnR5XG4gIG9wdGlvbnMuZG9udENhbGxHZXRTZXQgLSBwcmV2ZW50IGNhbGxpbmcgYSBnZXR0ZXIgb24gdGFyZ2V0XG4gIG9wdGlvbnMubmFtZSAgICAgICAgICAgLSB0aGUgLm5hbWUgb2YgdGhlIGZ1bmN0aW9uIGlmIGl0IGRvZXMgbm90IG1hdGNoIHRoZSBrZXlcbiovXG52YXIgX2V4cG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcbiAgdmFyIFRBUkdFVCA9IG9wdGlvbnMudGFyZ2V0O1xuICB2YXIgR0xPQkFMID0gb3B0aW9ucy5nbG9iYWw7XG4gIHZhciBTVEFUSUMgPSBvcHRpb25zLnN0YXQ7XG4gIHZhciBGT1JDRUQsIHRhcmdldCwga2V5LCB0YXJnZXRQcm9wZXJ0eSwgc291cmNlUHJvcGVydHksIGRlc2NyaXB0b3I7XG4gIGlmIChHTE9CQUwpIHtcbiAgICB0YXJnZXQgPSBnbG9iYWwkYjtcbiAgfSBlbHNlIGlmIChTVEFUSUMpIHtcbiAgICB0YXJnZXQgPSBnbG9iYWwkYltUQVJHRVRdIHx8IGRlZmluZUdsb2JhbFByb3BlcnR5KFRBUkdFVCwge30pO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldCA9IChnbG9iYWwkYltUQVJHRVRdIHx8IHt9KS5wcm90b3R5cGU7XG4gIH1cbiAgaWYgKHRhcmdldCkgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgc291cmNlUHJvcGVydHkgPSBzb3VyY2Vba2V5XTtcbiAgICBpZiAob3B0aW9ucy5kb250Q2FsbEdldFNldCkge1xuICAgICAgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxKHRhcmdldCwga2V5KTtcbiAgICAgIHRhcmdldFByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH0gZWxzZSB0YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFtrZXldO1xuICAgIEZPUkNFRCA9IGlzRm9yY2VkJDEoR0xPQkFMID8ga2V5IDogVEFSR0VUICsgKFNUQVRJQyA/ICcuJyA6ICcjJykgKyBrZXksIG9wdGlvbnMuZm9yY2VkKTtcbiAgICAvLyBjb250YWluZWQgaW4gdGFyZ2V0XG4gICAgaWYgKCFGT1JDRUQgJiYgdGFyZ2V0UHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBzb3VyY2VQcm9wZXJ0eSA9PSB0eXBlb2YgdGFyZ2V0UHJvcGVydHkpIGNvbnRpbnVlO1xuICAgICAgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyQxKHNvdXJjZVByb3BlcnR5LCB0YXJnZXRQcm9wZXJ0eSk7XG4gICAgfVxuICAgIC8vIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgICBpZiAob3B0aW9ucy5zaGFtIHx8ICh0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDIoc291cmNlUHJvcGVydHksICdzaGFtJywgdHJ1ZSk7XG4gICAgfVxuICAgIGRlZmluZUJ1aWx0SW4kNSh0YXJnZXQsIGtleSwgc291cmNlUHJvcGVydHksIG9wdGlvbnMpO1xuICB9XG59O1xuXG52YXIgZmFpbHMkOCA9IGZhaWxzJGg7XG5cbnZhciBjb3JyZWN0UHJvdG90eXBlR2V0dGVyID0gIWZhaWxzJDgoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGKCkgeyAvKiBlbXB0eSAqLyB9XG4gIEYucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbnVsbDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IEYoKSkgIT09IEYucHJvdG90eXBlO1xufSk7XG5cbnZhciBoYXNPd24kNCA9IGhhc093blByb3BlcnR5XzE7XG52YXIgaXNDYWxsYWJsZSRhID0gaXNDYWxsYWJsZSRsO1xudmFyIHRvT2JqZWN0JDMgPSB0b09iamVjdCQ1O1xudmFyIHNoYXJlZEtleSA9IHNoYXJlZEtleSQzO1xudmFyIENPUlJFQ1RfUFJPVE9UWVBFX0dFVFRFUiA9IGNvcnJlY3RQcm90b3R5cGVHZXR0ZXI7XG5cbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcbnZhciAkT2JqZWN0JDEgPSBPYmplY3Q7XG52YXIgT2JqZWN0UHJvdG90eXBlID0gJE9iamVjdCQxLnByb3RvdHlwZTtcblxuLy8gYE9iamVjdC5nZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRwcm90b3R5cGVvZlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHNhZmVcbnZhciBvYmplY3RHZXRQcm90b3R5cGVPZiA9IENPUlJFQ1RfUFJPVE9UWVBFX0dFVFRFUiA/ICRPYmplY3QkMS5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIChPKSB7XG4gIHZhciBvYmplY3QgPSB0b09iamVjdCQzKE8pO1xuICBpZiAoaGFzT3duJDQob2JqZWN0LCBJRV9QUk9UTykpIHJldHVybiBvYmplY3RbSUVfUFJPVE9dO1xuICB2YXIgY29uc3RydWN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gIGlmIChpc0NhbGxhYmxlJGEoY29uc3RydWN0b3IpICYmIG9iamVjdCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgJE9iamVjdCQxID8gT2JqZWN0UHJvdG90eXBlIDogbnVsbDtcbn07XG5cbnZhciBmYWlscyQ3ID0gZmFpbHMkaDtcbnZhciBpc0NhbGxhYmxlJDkgPSBpc0NhbGxhYmxlJGw7XG52YXIgZ2V0UHJvdG90eXBlT2YkMSA9IG9iamVjdEdldFByb3RvdHlwZU9mO1xudmFyIGRlZmluZUJ1aWx0SW4kNCA9IGRlZmluZUJ1aWx0SW4kNjtcbnZhciB3ZWxsS25vd25TeW1ib2wkZCA9IHdlbGxLbm93blN5bWJvbCRnO1xuXG52YXIgSVRFUkFUT1IkNSA9IHdlbGxLbm93blN5bWJvbCRkKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMkMSA9IGZhbHNlO1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJWAgb2JqZWN0XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVpdGVyYXRvcnByb3RvdHlwZSUtb2JqZWN0XG52YXIgSXRlcmF0b3JQcm90b3R5cGUkMiwgUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlLCBhcnJheUl0ZXJhdG9yO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLWFycmF5LXByb3RvdHlwZS1rZXlzIC0tIHNhZmUgKi9cbmlmIChbXS5rZXlzKSB7XG4gIGFycmF5SXRlcmF0b3IgPSBbXS5rZXlzKCk7XG4gIC8vIFNhZmFyaSA4IGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICBpZiAoISgnbmV4dCcgaW4gYXJyYXlJdGVyYXRvcikpIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMkMSA9IHRydWU7XG4gIGVsc2Uge1xuICAgIFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mJDEoZ2V0UHJvdG90eXBlT2YkMShhcnJheUl0ZXJhdG9yKSk7XG4gICAgaWYgKFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkgSXRlcmF0b3JQcm90b3R5cGUkMiA9IFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxufVxuXG52YXIgTkVXX0lURVJBVE9SX1BST1RPVFlQRSA9IEl0ZXJhdG9yUHJvdG90eXBlJDIgPT0gdW5kZWZpbmVkIHx8IGZhaWxzJDcoZnVuY3Rpb24gKCkge1xuICB2YXIgdGVzdCA9IHt9O1xuICAvLyBGRjQ0LSBsZWdhY3kgaXRlcmF0b3JzIGNhc2VcbiAgcmV0dXJuIEl0ZXJhdG9yUHJvdG90eXBlJDJbSVRFUkFUT1IkNV0uY2FsbCh0ZXN0KSAhPT0gdGVzdDtcbn0pO1xuXG5pZiAoTkVXX0lURVJBVE9SX1BST1RPVFlQRSkgSXRlcmF0b3JQcm90b3R5cGUkMiA9IHt9O1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1AQGl0ZXJhdG9yXG5pZiAoIWlzQ2FsbGFibGUkOShJdGVyYXRvclByb3RvdHlwZSQyW0lURVJBVE9SJDVdKSkge1xuICBkZWZpbmVCdWlsdEluJDQoSXRlcmF0b3JQcm90b3R5cGUkMiwgSVRFUkFUT1IkNSwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbn1cblxudmFyIGl0ZXJhdG9yc0NvcmUgPSB7XG4gIEl0ZXJhdG9yUHJvdG90eXBlOiBJdGVyYXRvclByb3RvdHlwZSQyLFxuICBCVUdHWV9TQUZBUklfSVRFUkFUT1JTOiBCVUdHWV9TQUZBUklfSVRFUkFUT1JTJDFcbn07XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSQzID0gb2JqZWN0RGVmaW5lUHJvcGVydHkuZjtcbnZhciBoYXNPd24kMyA9IGhhc093blByb3BlcnR5XzE7XG52YXIgd2VsbEtub3duU3ltYm9sJGMgPSB3ZWxsS25vd25TeW1ib2wkZztcblxudmFyIFRPX1NUUklOR19UQUckMyA9IHdlbGxLbm93blN5bWJvbCRjKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgc2V0VG9TdHJpbmdUYWckMyA9IGZ1bmN0aW9uICh0YXJnZXQsIFRBRywgU1RBVElDKSB7XG4gIGlmICh0YXJnZXQgJiYgIVNUQVRJQykgdGFyZ2V0ID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgaWYgKHRhcmdldCAmJiAhaGFzT3duJDModGFyZ2V0LCBUT19TVFJJTkdfVEFHJDMpKSB7XG4gICAgZGVmaW5lUHJvcGVydHkkMyh0YXJnZXQsIFRPX1NUUklOR19UQUckMywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBUQUcgfSk7XG4gIH1cbn07XG5cbnZhciBJdGVyYXRvclByb3RvdHlwZSQxID0gaXRlcmF0b3JzQ29yZS5JdGVyYXRvclByb3RvdHlwZTtcbnZhciBjcmVhdGUgPSBvYmplY3RDcmVhdGU7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDEgPSBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNDtcbnZhciBzZXRUb1N0cmluZ1RhZyQyID0gc2V0VG9TdHJpbmdUYWckMztcbnZhciBJdGVyYXRvcnMkNCA9IGl0ZXJhdG9ycztcblxudmFyIHJldHVyblRoaXMkMSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yJDEgPSBmdW5jdGlvbiAoSXRlcmF0b3JDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCwgRU5VTUVSQUJMRV9ORVhUKSB7XG4gIHZhciBUT19TVFJJTkdfVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICBJdGVyYXRvckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSQxLCB7IG5leHQ6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQxKCshRU5VTUVSQUJMRV9ORVhULCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWckMihJdGVyYXRvckNvbnN0cnVjdG9yLCBUT19TVFJJTkdfVEFHLCBmYWxzZSk7XG4gIEl0ZXJhdG9ycyQ0W1RPX1NUUklOR19UQUddID0gcmV0dXJuVGhpcyQxO1xuICByZXR1cm4gSXRlcmF0b3JDb25zdHJ1Y3Rvcjtcbn07XG5cbnZhciBpc0NhbGxhYmxlJDggPSBpc0NhbGxhYmxlJGw7XG5cbnZhciAkU3RyaW5nJDEgPSBTdHJpbmc7XG52YXIgJFR5cGVFcnJvciQ4ID0gVHlwZUVycm9yO1xuXG52YXIgYVBvc3NpYmxlUHJvdG90eXBlJDEgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKHR5cGVvZiBhcmd1bWVudCA9PSAnb2JqZWN0JyB8fCBpc0NhbGxhYmxlJDgoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93ICRUeXBlRXJyb3IkOChcIkNhbid0IHNldCBcIiArICRTdHJpbmckMShhcmd1bWVudCkgKyAnIGFzIGEgcHJvdG90eXBlJyk7XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAtLSBzYWZlICovXG5cbnZhciB1bmN1cnJ5VGhpcyQ3ID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbnZhciBhbk9iamVjdCQ3ID0gYW5PYmplY3QkYztcbnZhciBhUG9zc2libGVQcm90b3R5cGUgPSBhUG9zc2libGVQcm90b3R5cGUkMTtcblxuLy8gYE9iamVjdC5zZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5zZXRwcm90b3R5cGVvZlxuLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3Qtc2V0cHJvdG90eXBlb2YgLS0gc2FmZVxudmFyIG9iamVjdFNldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IGZ1bmN0aW9uICgpIHtcbiAgdmFyIENPUlJFQ1RfU0VUVEVSID0gZmFsc2U7XG4gIHZhciB0ZXN0ID0ge307XG4gIHZhciBzZXR0ZXI7XG4gIHRyeSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG4gICAgc2V0dGVyID0gdW5jdXJyeVRoaXMkNyhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQpO1xuICAgIHNldHRlcih0ZXN0LCBbXSk7XG4gICAgQ09SUkVDVF9TRVRURVIgPSB0ZXN0IGluc3RhbmNlb2YgQXJyYXk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgYW5PYmplY3QkNyhPKTtcbiAgICBhUG9zc2libGVQcm90b3R5cGUocHJvdG8pO1xuICAgIGlmIChDT1JSRUNUX1NFVFRFUikgc2V0dGVyKE8sIHByb3RvKTtcbiAgICBlbHNlIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgcmV0dXJuIE87XG4gIH07XG59KCkgOiB1bmRlZmluZWQpO1xuXG52YXIgJCRjID0gX2V4cG9ydDtcbnZhciBjYWxsJGEgPSBmdW5jdGlvbkNhbGw7XG52YXIgRnVuY3Rpb25OYW1lID0gZnVuY3Rpb25OYW1lO1xudmFyIGlzQ2FsbGFibGUkNyA9IGlzQ2FsbGFibGUkbDtcbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvciQxO1xudmFyIGdldFByb3RvdHlwZU9mID0gb2JqZWN0R2V0UHJvdG90eXBlT2Y7XG52YXIgc2V0UHJvdG90eXBlT2YkMSA9IG9iamVjdFNldFByb3RvdHlwZU9mO1xudmFyIHNldFRvU3RyaW5nVGFnJDEgPSBzZXRUb1N0cmluZ1RhZyQzO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQxID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQ7XG52YXIgZGVmaW5lQnVpbHRJbiQzID0gZGVmaW5lQnVpbHRJbiQ2O1xudmFyIHdlbGxLbm93blN5bWJvbCRiID0gd2VsbEtub3duU3ltYm9sJGc7XG52YXIgSXRlcmF0b3JzJDMgPSBpdGVyYXRvcnM7XG52YXIgSXRlcmF0b3JzQ29yZSA9IGl0ZXJhdG9yc0NvcmU7XG5cbnZhciBQUk9QRVJfRlVOQ1RJT05fTkFNRSQxID0gRnVuY3Rpb25OYW1lLlBST1BFUjtcbnZhciBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSA9IEZ1bmN0aW9uTmFtZS5DT05GSUdVUkFCTEU7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSBJdGVyYXRvcnNDb3JlLkl0ZXJhdG9yUHJvdG90eXBlO1xudmFyIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSBJdGVyYXRvcnNDb3JlLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlM7XG52YXIgSVRFUkFUT1IkNCA9IHdlbGxLbm93blN5bWJvbCRiKCdpdGVyYXRvcicpO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG52YXIgRU5UUklFUyA9ICdlbnRyaWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG52YXIgZGVmaW5lSXRlcmF0b3IkMSA9IGZ1bmN0aW9uIChJdGVyYWJsZSwgTkFNRSwgSXRlcmF0b3JDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvcihJdGVyYXRvckNvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblxuICB2YXIgZ2V0SXRlcmF0aW9uTWV0aG9kID0gZnVuY3Rpb24gKEtJTkQpIHtcbiAgICBpZiAoS0lORCA9PT0gREVGQVVMVCAmJiBkZWZhdWx0SXRlcmF0b3IpIHJldHVybiBkZWZhdWx0SXRlcmF0b3I7XG4gICAgaWYgKCFCVUdHWV9TQUZBUklfSVRFUkFUT1JTICYmIEtJTkQgaW4gSXRlcmFibGVQcm90b3R5cGUpIHJldHVybiBJdGVyYWJsZVByb3RvdHlwZVtLSU5EXTtcbiAgICBzd2l0Y2ggKEtJTkQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgICBjYXNlIEVOVFJJRVM6IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcyk7IH07XG4gIH07XG5cbiAgdmFyIFRPX1NUUklOR19UQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgPSBmYWxzZTtcbiAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICB2YXIgbmF0aXZlSXRlcmF0b3IgPSBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUiQ0XVxuICAgIHx8IEl0ZXJhYmxlUHJvdG90eXBlWydAQGl0ZXJhdG9yJ11cbiAgICB8fCBERUZBVUxUICYmIEl0ZXJhYmxlUHJvdG90eXBlW0RFRkFVTFRdO1xuICB2YXIgZGVmYXVsdEl0ZXJhdG9yID0gIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgbmF0aXZlSXRlcmF0b3IgfHwgZ2V0SXRlcmF0aW9uTWV0aG9kKERFRkFVTFQpO1xuICB2YXIgYW55TmF0aXZlSXRlcmF0b3IgPSBOQU1FID09ICdBcnJheScgPyBJdGVyYWJsZVByb3RvdHlwZS5lbnRyaWVzIHx8IG5hdGl2ZUl0ZXJhdG9yIDogbmF0aXZlSXRlcmF0b3I7XG4gIHZhciBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIG1ldGhvZHMsIEtFWTtcblxuICAvLyBmaXggbmF0aXZlXG4gIGlmIChhbnlOYXRpdmVJdGVyYXRvcikge1xuICAgIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKGFueU5hdGl2ZUl0ZXJhdG9yLmNhbGwobmV3IEl0ZXJhYmxlKCkpKTtcbiAgICBpZiAoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICBpZiAoZ2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlKSAhPT0gSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKHNldFByb3RvdHlwZU9mJDEpIHtcbiAgICAgICAgICBzZXRQcm90b3R5cGVPZiQxKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgSXRlcmF0b3JQcm90b3R5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc0NhbGxhYmxlJDcoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SJDRdKSkge1xuICAgICAgICAgIGRlZmluZUJ1aWx0SW4kMyhDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SJDQsIHJldHVyblRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyQxKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRywgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZml4IEFycmF5LnByb3RvdHlwZS57IHZhbHVlcywgQEBpdGVyYXRvciB9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoUFJPUEVSX0ZVTkNUSU9OX05BTUUkMSAmJiBERUZBVUxUID09IFZBTFVFUyAmJiBuYXRpdmVJdGVyYXRvciAmJiBuYXRpdmVJdGVyYXRvci5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBpZiAoQ09ORklHVVJBQkxFX0ZVTkNUSU9OX05BTUUpIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQxKEl0ZXJhYmxlUHJvdG90eXBlLCAnbmFtZScsIFZBTFVFUyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIElOQ09SUkVDVF9WQUxVRVNfTkFNRSA9IHRydWU7XG4gICAgICBkZWZhdWx0SXRlcmF0b3IgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBjYWxsJGEobmF0aXZlSXRlcmF0b3IsIHRoaXMpOyB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIGV4cG9ydCBhZGRpdGlvbmFsIG1ldGhvZHNcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBnZXRJdGVyYXRpb25NZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/IGRlZmF1bHRJdGVyYXRvciA6IGdldEl0ZXJhdGlvbk1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6IGdldEl0ZXJhdGlvbk1ldGhvZChFTlRSSUVTKVxuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChLRVkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIHx8ICEoS0VZIGluIEl0ZXJhYmxlUHJvdG90eXBlKSkge1xuICAgICAgICBkZWZpbmVCdWlsdEluJDMoSXRlcmFibGVQcm90b3R5cGUsIEtFWSwgbWV0aG9kc1tLRVldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgJCRjKHsgdGFyZ2V0OiBOQU1FLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBCVUdHWV9TQUZBUklfSVRFUkFUT1JTIHx8IElOQ09SUkVDVF9WQUxVRVNfTkFNRSB9LCBtZXRob2RzKTtcbiAgfVxuXG4gIC8vIGRlZmluZSBpdGVyYXRvclxuICBpZiAoSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1IkNF0gIT09IGRlZmF1bHRJdGVyYXRvcikge1xuICAgIGRlZmluZUJ1aWx0SW4kMyhJdGVyYWJsZVByb3RvdHlwZSwgSVRFUkFUT1IkNCwgZGVmYXVsdEl0ZXJhdG9yLCB7IG5hbWU6IERFRkFVTFQgfSk7XG4gIH1cbiAgSXRlcmF0b3JzJDNbTkFNRV0gPSBkZWZhdWx0SXRlcmF0b3I7XG5cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG52YXIgdG9JbmRleGVkT2JqZWN0ID0gdG9JbmRleGVkT2JqZWN0JDU7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyQxID0gYWRkVG9VbnNjb3BhYmxlcyQyO1xudmFyIEl0ZXJhdG9ycyQyID0gaXRlcmF0b3JzO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUkMSA9IGludGVybmFsU3RhdGU7XG52YXIgZGVmaW5lUHJvcGVydHkkMiA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG52YXIgZGVmaW5lSXRlcmF0b3IgPSBkZWZpbmVJdGVyYXRvciQxO1xudmFyIERFU0NSSVBUT1JTJDMgPSBkZXNjcmlwdG9ycztcblxudmFyIEFSUkFZX0lURVJBVE9SID0gJ0FycmF5IEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlJDEgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDEuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDEuZ2V0dGVyRm9yKEFSUkFZX0lURVJBVE9SKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5lbnRyaWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmVudHJpZXNcbi8vIGBBcnJheS5wcm90b3R5cGUua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5rZXlzXG4vLyBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS52YWx1ZXNcbi8vIGBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEBpdGVyYXRvclxuLy8gYENyZWF0ZUFycmF5SXRlcmF0b3JgIGludGVybmFsIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVhcnJheWl0ZXJhdG9yXG52YXIgZXNfYXJyYXlfaXRlcmF0b3IgPSBkZWZpbmVJdGVyYXRvcihBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gIHNldEludGVybmFsU3RhdGUkMSh0aGlzLCB7XG4gICAgdHlwZTogQVJSQVlfSVRFUkFUT1IsXG4gICAgdGFyZ2V0OiB0b0luZGV4ZWRPYmplY3QoaXRlcmF0ZWQpLCAvLyB0YXJnZXRcbiAgICBpbmRleDogMCwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgICBraW5kOiBraW5kICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtpbmRcbiAgfSk7XG4vLyBgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICB2YXIgdGFyZ2V0ID0gc3RhdGUudGFyZ2V0O1xuICB2YXIga2luZCA9IHN0YXRlLmtpbmQ7XG4gIHZhciBpbmRleCA9IHN0YXRlLmluZGV4Kys7XG4gIGlmICghdGFyZ2V0IHx8IGluZGV4ID49IHRhcmdldC5sZW5ndGgpIHtcbiAgICBzdGF0ZS50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG4gIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHsgdmFsdWU6IGluZGV4LCBkb25lOiBmYWxzZSB9O1xuICBpZiAoa2luZCA9PSAndmFsdWVzJykgcmV0dXJuIHsgdmFsdWU6IHRhcmdldFtpbmRleF0sIGRvbmU6IGZhbHNlIH07XG4gIHJldHVybiB7IHZhbHVlOiBbaW5kZXgsIHRhcmdldFtpbmRleF1dLCBkb25lOiBmYWxzZSB9O1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyVcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRldW5tYXBwZWRhcmd1bWVudHNvYmplY3Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlbWFwcGVkYXJndW1lbnRzb2JqZWN0XG52YXIgdmFsdWVzID0gSXRlcmF0b3JzJDIuQXJndW1lbnRzID0gSXRlcmF0b3JzJDIuQXJyYXk7XG5cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmFkZFRvVW5zY29wYWJsZXMkMSgna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcyQxKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMkMSgnZW50cmllcycpO1xuXG4vLyBWOCB+IENocm9tZSA0NS0gYnVnXG5pZiAoREVTQ1JJUFRPUlMkMyAmJiB2YWx1ZXMubmFtZSAhPT0gJ3ZhbHVlcycpIHRyeSB7XG4gIGRlZmluZVByb3BlcnR5JDIodmFsdWVzLCAnbmFtZScsIHsgdmFsdWU6ICd2YWx1ZXMnIH0pO1xufSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuXG4vLyBpdGVyYWJsZSBET00gY29sbGVjdGlvbnNcbi8vIGZsYWcgLSBgaXRlcmFibGVgIGludGVyZmFjZSAtICdlbnRyaWVzJywgJ2tleXMnLCAndmFsdWVzJywgJ2ZvckVhY2gnIG1ldGhvZHNcbnZhciBkb21JdGVyYWJsZXMgPSB7XG4gIENTU1J1bGVMaXN0OiAwLFxuICBDU1NTdHlsZURlY2xhcmF0aW9uOiAwLFxuICBDU1NWYWx1ZUxpc3Q6IDAsXG4gIENsaWVudFJlY3RMaXN0OiAwLFxuICBET01SZWN0TGlzdDogMCxcbiAgRE9NU3RyaW5nTGlzdDogMCxcbiAgRE9NVG9rZW5MaXN0OiAxLFxuICBEYXRhVHJhbnNmZXJJdGVtTGlzdDogMCxcbiAgRmlsZUxpc3Q6IDAsXG4gIEhUTUxBbGxDb2xsZWN0aW9uOiAwLFxuICBIVE1MQ29sbGVjdGlvbjogMCxcbiAgSFRNTEZvcm1FbGVtZW50OiAwLFxuICBIVE1MU2VsZWN0RWxlbWVudDogMCxcbiAgTWVkaWFMaXN0OiAwLFxuICBNaW1lVHlwZUFycmF5OiAwLFxuICBOYW1lZE5vZGVNYXA6IDAsXG4gIE5vZGVMaXN0OiAxLFxuICBQYWludFJlcXVlc3RMaXN0OiAwLFxuICBQbHVnaW46IDAsXG4gIFBsdWdpbkFycmF5OiAwLFxuICBTVkdMZW5ndGhMaXN0OiAwLFxuICBTVkdOdW1iZXJMaXN0OiAwLFxuICBTVkdQYXRoU2VnTGlzdDogMCxcbiAgU1ZHUG9pbnRMaXN0OiAwLFxuICBTVkdTdHJpbmdMaXN0OiAwLFxuICBTVkdUcmFuc2Zvcm1MaXN0OiAwLFxuICBTb3VyY2VCdWZmZXJMaXN0OiAwLFxuICBTdHlsZVNoZWV0TGlzdDogMCxcbiAgVGV4dFRyYWNrQ3VlTGlzdDogMCxcbiAgVGV4dFRyYWNrTGlzdDogMCxcbiAgVG91Y2hMaXN0OiAwXG59O1xuXG4vLyBpbiBvbGQgV2ViS2l0IHZlcnNpb25zLCBgZWxlbWVudC5jbGFzc0xpc3RgIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBnbG9iYWwgYERPTVRva2VuTGlzdGBcbnZhciBkb2N1bWVudENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMjtcblxudmFyIGNsYXNzTGlzdCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCgnc3BhbicpLmNsYXNzTGlzdDtcbnZhciBET01Ub2tlbkxpc3RQcm90b3R5cGUkMSA9IGNsYXNzTGlzdCAmJiBjbGFzc0xpc3QuY29uc3RydWN0b3IgJiYgY2xhc3NMaXN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxudmFyIGRvbVRva2VuTGlzdFByb3RvdHlwZSA9IERPTVRva2VuTGlzdFByb3RvdHlwZSQxID09PSBPYmplY3QucHJvdG90eXBlID8gdW5kZWZpbmVkIDogRE9NVG9rZW5MaXN0UHJvdG90eXBlJDE7XG5cbnZhciBnbG9iYWwkYSA9IGdsb2JhbCRrO1xudmFyIERPTUl0ZXJhYmxlcyA9IGRvbUl0ZXJhYmxlcztcbnZhciBET01Ub2tlbkxpc3RQcm90b3R5cGUgPSBkb21Ub2tlbkxpc3RQcm90b3R5cGU7XG52YXIgQXJyYXlJdGVyYXRvck1ldGhvZHMgPSBlc19hcnJheV9pdGVyYXRvcjtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNDtcbnZhciB3ZWxsS25vd25TeW1ib2wkYSA9IHdlbGxLbm93blN5bWJvbCRnO1xuXG52YXIgSVRFUkFUT1IkMyA9IHdlbGxLbm93blN5bWJvbCRhKCdpdGVyYXRvcicpO1xudmFyIFRPX1NUUklOR19UQUckMiA9IHdlbGxLbm93blN5bWJvbCRhKCd0b1N0cmluZ1RhZycpO1xudmFyIEFycmF5VmFsdWVzID0gQXJyYXlJdGVyYXRvck1ldGhvZHMudmFsdWVzO1xuXG52YXIgaGFuZGxlUHJvdG90eXBlID0gZnVuY3Rpb24gKENvbGxlY3Rpb25Qcm90b3R5cGUsIENPTExFQ1RJT05fTkFNRSkge1xuICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZSkge1xuICAgIC8vIHNvbWUgQ2hyb21lIHZlcnNpb25zIGhhdmUgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2RzIG9uIERPTVRva2VuTGlzdFxuICAgIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlW0lURVJBVE9SJDNdICE9PSBBcnJheVZhbHVlcykgdHJ5IHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBJVEVSQVRPUiQzLCBBcnJheVZhbHVlcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIENvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1IkM10gPSBBcnJheVZhbHVlcztcbiAgICB9XG4gICAgaWYgKCFDb2xsZWN0aW9uUHJvdG90eXBlW1RPX1NUUklOR19UQUckMl0pIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBUT19TVFJJTkdfVEFHJDIsIENPTExFQ1RJT05fTkFNRSk7XG4gICAgfVxuICAgIGlmIChET01JdGVyYWJsZXNbQ09MTEVDVElPTl9OQU1FXSkgZm9yICh2YXIgTUVUSE9EX05BTUUgaW4gQXJyYXlJdGVyYXRvck1ldGhvZHMpIHtcbiAgICAgIC8vIHNvbWUgQ2hyb21lIHZlcnNpb25zIGhhdmUgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2RzIG9uIERPTVRva2VuTGlzdFxuICAgICAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGVbTUVUSE9EX05BTUVdICE9PSBBcnJheUl0ZXJhdG9yTWV0aG9kc1tNRVRIT0RfTkFNRV0pIHRyeSB7XG4gICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBNRVRIT0RfTkFNRSwgQXJyYXlJdGVyYXRvck1ldGhvZHNbTUVUSE9EX05BTUVdKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIENvbGxlY3Rpb25Qcm90b3R5cGVbTUVUSE9EX05BTUVdID0gQXJyYXlJdGVyYXRvck1ldGhvZHNbTUVUSE9EX05BTUVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcykge1xuICBoYW5kbGVQcm90b3R5cGUoZ2xvYmFsJGFbQ09MTEVDVElPTl9OQU1FXSAmJiBnbG9iYWwkYVtDT0xMRUNUSU9OX05BTUVdLnByb3RvdHlwZSwgQ09MTEVDVElPTl9OQU1FKTtcbn1cblxuaGFuZGxlUHJvdG90eXBlKERPTVRva2VuTGlzdFByb3RvdHlwZSwgJ0RPTVRva2VuTGlzdCcpO1xuXG52YXIgREVTQ1JJUFRPUlMkMiA9IGRlc2NyaXB0b3JzO1xudmFyIHVuY3VycnlUaGlzJDYgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xudmFyIGNhbGwkOSA9IGZ1bmN0aW9uQ2FsbDtcbnZhciBmYWlscyQ2ID0gZmFpbHMkaDtcbnZhciBvYmplY3RLZXlzID0gb2JqZWN0S2V5cyQyO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSA9IG9iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIHRvT2JqZWN0JDIgPSB0b09iamVjdCQ1O1xudmFyIEluZGV4ZWRPYmplY3QkMSA9IGluZGV4ZWRPYmplY3Q7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1hc3NpZ24gLS0gc2FmZVxudmFyICRhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG52YXIgZGVmaW5lUHJvcGVydHkkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBjb25jYXQgPSB1bmN1cnJ5VGhpcyQ2KFtdLmNvbmNhdCk7XG5cbi8vIGBPYmplY3QuYXNzaWduYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmFzc2lnblxudmFyIG9iamVjdEFzc2lnbiA9ICEkYXNzaWduIHx8IGZhaWxzJDYoZnVuY3Rpb24gKCkge1xuICAvLyBzaG91bGQgaGF2ZSBjb3JyZWN0IG9yZGVyIG9mIG9wZXJhdGlvbnMgKEVkZ2UgYnVnKVxuICBpZiAoREVTQ1JJUFRPUlMkMiAmJiAkYXNzaWduKHsgYjogMSB9LCAkYXNzaWduKGRlZmluZVByb3BlcnR5JDEoe30sICdhJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSQxKHRoaXMsICdiJywge1xuICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSksIHsgYjogMiB9KSkuYiAhPT0gMSkgcmV0dXJuIHRydWU7XG4gIC8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxuICB2YXIgQSA9IHt9O1xuICB2YXIgQiA9IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1zeW1ib2wgLS0gc2FmZVxuICB2YXIgc3ltYm9sID0gU3ltYm9sKCk7XG4gIHZhciBhbHBoYWJldCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbc3ltYm9sXSA9IDc7XG4gIGFscGhhYmV0LnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChjaHIpIHsgQltjaHJdID0gY2hyOyB9KTtcbiAgcmV0dXJuICRhc3NpZ24oe30sIEEpW3N5bWJvbF0gIT0gNyB8fCBvYmplY3RLZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBhbHBoYWJldDtcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICB2YXIgVCA9IHRvT2JqZWN0JDIodGFyZ2V0KTtcbiAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZjtcbiAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZjtcbiAgd2hpbGUgKGFyZ3VtZW50c0xlbmd0aCA+IGluZGV4KSB7XG4gICAgdmFyIFMgPSBJbmRleGVkT2JqZWN0JDEoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5U3ltYm9scyA/IGNvbmNhdChvYmplY3RLZXlzKFMpLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoUykpIDogb2JqZWN0S2V5cyhTKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgIGtleSA9IGtleXNbaisrXTtcbiAgICAgIGlmICghREVTQ1JJUFRPUlMkMiB8fCBjYWxsJDkocHJvcGVydHlJc0VudW1lcmFibGUsIFMsIGtleSkpIFRba2V5XSA9IFNba2V5XTtcbiAgICB9XG4gIH0gcmV0dXJuIFQ7XG59IDogJGFzc2lnbjtcblxudmFyICQkYiA9IF9leHBvcnQ7XG52YXIgYXNzaWduID0gb2JqZWN0QXNzaWduO1xuXG4vLyBgT2JqZWN0LmFzc2lnbmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5hc3NpZ25cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1hc3NpZ24gLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiQkYih7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGFyaXR5OiAyLCBmb3JjZWQ6IE9iamVjdC5hc3NpZ24gIT09IGFzc2lnbiB9LCB7XG4gIGFzc2lnbjogYXNzaWduXG59KTtcblxuY29uc3QgQ2xvc2VJY29uID0gKCkgPT4ge1xuICByZXR1cm4ganN4cyhcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGhlaWdodDogXCIyNFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgd2lkdGg6IFwiMjRcIixcbiAgICBmaWxsOiBcIiNDMUMxQzFcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IFtqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTAgMGgyNHYyNEgwelwiLFxuICAgICAgZmlsbDogXCJub25lXCJcbiAgICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xOSA2LjQxTDE3LjU5IDUgMTIgMTAuNTkgNi40MSA1IDUgNi40MSAxMC41OSAxMiA1IDE3LjU5IDYuNDEgMTkgMTIgMTMuNDEgMTcuNTkgMTkgMTkgMTcuNTkgMTMuNDEgMTJ6XCJcbiAgICB9KV1cbiAgfSkpO1xufTtcblxuY29uc3QgQ2xvc2VCdXR0b24gPSAoe1xuICBvbkNsaWNrXG59KSA9PiB7XG4gIHJldHVybiBqc3goXCJidXR0b25cIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgb25DbGljazogb25DbGljayxcbiAgICBjbGFzc05hbWU6IFwiY2xvc2UtYnV0dG9uXCJcbiAgfSwge1xuICAgIGNoaWxkcmVuOiBqc3goQ2xvc2VJY29uLCB7fSlcbiAgfSkpO1xufTtcblxuY29uc3QgTW9kYWxIZWFkZXIgPSAoe1xuICB0aXRsZSxcbiAgb25DbG9zZU1vZGFsXG59KSA9PiB7XG4gIGNvbnN0IGFkZGl0aW9uYWxDbGFzc2VzID0gdGl0bGUgPT09IFwiR2V0IGEgV2FsbGV0XCIgPyBcIiAtb3BlblwiIDogXCJcIjtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBcIm53cy1tb2RhbC1oZWFkZXJcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IFtqc3goXCJoM1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogYG1pZGRsZVRpdGxlICR7YWRkaXRpb25hbENsYXNzZXN9YFxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiB0aXRsZVxuICAgIH0pKSwganN4KENsb3NlQnV0dG9uLCB7XG4gICAgICBvbkNsaWNrOiBvbkNsb3NlTW9kYWxcbiAgICB9KV1cbiAgfSkpO1xufTtcblxuY29uc3QgQmFja0Fycm93SWNvbiA9ICgpID0+IHtcbiAgcmV0dXJuIGpzeChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB3aWR0aDogXCI4XCIsXG4gICAgaGVpZ2h0OiBcIjE0XCIsXG4gICAgdmlld0JveDogXCIwIDAgOCAxNFwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwge1xuICAgIGNoaWxkcmVuOiBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTcgMTNMMSA3TDcgMVwiLFxuICAgICAgc3Ryb2tlOiBcIiM2NDk0RUVcIixcbiAgICAgIHN0cm9rZVdpZHRoOiBcIjEuNVwiLFxuICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgIH0pXG4gIH0pKTtcbn07XG5cbmNvbnN0IEJhY2tBcnJvdyA9ICh7XG4gIG9uQ2xpY2tcbn0pID0+IHtcbiAgcmV0dXJuIGpzeChcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgIGNsYXNzTmFtZTogXCJiYWNrLWJ1dHRvblwiXG4gIH0sIHtcbiAgICBjaGlsZHJlbjoganN4KEJhY2tBcnJvd0ljb24sIHt9KVxuICB9KSk7XG59O1xuXG5jb25zdCBXYWxsZXROZXR3b3JrQ2hhbmdlZCA9ICh7XG4gIHNlbGVjdG9yLFxuICBvbkJhY2ssXG4gIG9uQ2xvc2VNb2RhbFxufSkgPT4ge1xuICByZXR1cm4ganN4cyhGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJud3MtbW9kYWwtaGVhZGVyLXdyYXBwZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBbanN4KEJhY2tBcnJvdywge1xuICAgICAgICBvbkNsaWNrOiBvbkJhY2tcbiAgICAgIH0pLCBqc3goTW9kYWxIZWFkZXIsIHtcbiAgICAgICAgdGl0bGU6IFwiWW91IE11c3QgQ2hhbmdlIHRoZSBOZXR3b3JrXCIsXG4gICAgICAgIG9uQ2xvc2VNb2RhbDogb25DbG9zZU1vZGFsXG4gICAgICB9KV1cbiAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJzd2l0Y2gtbmV0d29yay1tZXNzYWdlLXdyYXBwZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudFwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4cyhcInBcIiwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbXCJXZSd2ZSBkZXRlY3RlZCB0aGF0IHlvdSBuZWVkIHRvIGNoYW5nZSB5b3VyIHdhbGxldCdzIG5ldHdvcmsgdG9cIiwganN4KFwic3Ryb25nXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5ldHdvcmstaWRcIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBgICR7c2VsZWN0b3Iub3B0aW9ucy5uZXR3b3JrLm5ldHdvcmtJZH1gXG4gICAgICAgICAgfSkpLCBcIiBcIiwgXCJmb3IgdGhpcyBkQXBwLlwiXVxuICAgICAgICB9KSwganN4KFwicFwiLCB7XG4gICAgICAgICAgY2hpbGRyZW46IFwiU29tZSB3YWxsZXRzIG1heSBub3Qgc3VwcG9ydCBjaGFuZ2luZyBuZXR3b3Jrcy4gSWYgeW91IGNhbiBub3QgY2hhbmdlIG5ldHdvcmtzIHlvdSBtYXkgY29uc2lkZXIgc3dpdGNoaW5nIHRvIGFub3RoZXIgd2FsbGV0LlwiXG4gICAgICAgIH0pXVxuICAgICAgfSkpXG4gICAgfSkpXVxuICB9KTtcbn07XG5cbnZhciB0cnlUb1N0cmluZyQzID0gdHJ5VG9TdHJpbmckNTtcblxudmFyICRUeXBlRXJyb3IkNyA9IFR5cGVFcnJvcjtcblxudmFyIGRlbGV0ZVByb3BlcnR5T3JUaHJvdyQxID0gZnVuY3Rpb24gKE8sIFApIHtcbiAgaWYgKCFkZWxldGUgT1tQXSkgdGhyb3cgJFR5cGVFcnJvciQ3KCdDYW5ub3QgZGVsZXRlIHByb3BlcnR5ICcgKyB0cnlUb1N0cmluZyQzKFApICsgJyBvZiAnICsgdHJ5VG9TdHJpbmckMyhPKSk7XG59O1xuXG52YXIgd2VsbEtub3duU3ltYm9sJDkgPSB3ZWxsS25vd25TeW1ib2wkZztcblxudmFyIFRPX1NUUklOR19UQUckMSA9IHdlbGxLbm93blN5bWJvbCQ5KCd0b1N0cmluZ1RhZycpO1xudmFyIHRlc3QkMSA9IHt9O1xuXG50ZXN0JDFbVE9fU1RSSU5HX1RBRyQxXSA9ICd6JztcblxudmFyIHRvU3RyaW5nVGFnU3VwcG9ydCA9IFN0cmluZyh0ZXN0JDEpID09PSAnW29iamVjdCB6XSc7XG5cbnZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPSB0b1N0cmluZ1RhZ1N1cHBvcnQ7XG52YXIgaXNDYWxsYWJsZSQ2ID0gaXNDYWxsYWJsZSRsO1xudmFyIGNsYXNzb2ZSYXcgPSBjbGFzc29mUmF3JDE7XG52YXIgd2VsbEtub3duU3ltYm9sJDggPSB3ZWxsS25vd25TeW1ib2wkZztcblxudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2wkOCgndG9TdHJpbmdUYWcnKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIENPUlJFQ1RfQVJHVU1FTlRTID0gY2xhc3NvZlJhdyhmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxufTtcblxuLy8gZ2V0dGluZyB0YWcgZnJvbSBFUzYrIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYFxudmFyIGNsYXNzb2YkNSA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCA/IGNsYXNzb2ZSYXcgOiBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIHRhZywgcmVzdWx0O1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAodGFnID0gdHJ5R2V0KE8gPSAkT2JqZWN0KGl0KSwgVE9fU1RSSU5HX1RBRykpID09ICdzdHJpbmcnID8gdGFnXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBDT1JSRUNUX0FSR1VNRU5UUyA/IGNsYXNzb2ZSYXcoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAocmVzdWx0ID0gY2xhc3NvZlJhdyhPKSkgPT0gJ09iamVjdCcgJiYgaXNDYWxsYWJsZSQ2KE8uY2FsbGVlKSA/ICdBcmd1bWVudHMnIDogcmVzdWx0O1xufTtcblxudmFyIGNsYXNzb2YkNCA9IGNsYXNzb2YkNTtcblxudmFyICRTdHJpbmcgPSBTdHJpbmc7XG5cbnZhciB0b1N0cmluZyQzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChjbGFzc29mJDQoYXJndW1lbnQpID09PSAnU3ltYm9sJykgdGhyb3cgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZycpO1xuICByZXR1cm4gJFN0cmluZyhhcmd1bWVudCk7XG59O1xuXG52YXIgdG9Qcm9wZXJ0eUtleSA9IHRvUHJvcGVydHlLZXkkMztcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQxID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDQ7XG5cbnZhciBjcmVhdGVQcm9wZXJ0eSQxID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgcHJvcGVydHlLZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChwcm9wZXJ0eUtleSBpbiBvYmplY3QpIGRlZmluZVByb3BlcnR5TW9kdWxlJDEuZihvYmplY3QsIHByb3BlcnR5S2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbcHJvcGVydHlLZXldID0gdmFsdWU7XG59O1xuXG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gdG9BYnNvbHV0ZUluZGV4JDI7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UkMyA9IGxlbmd0aE9mQXJyYXlMaWtlJDU7XG52YXIgY3JlYXRlUHJvcGVydHkgPSBjcmVhdGVQcm9wZXJ0eSQxO1xuXG52YXIgJEFycmF5ID0gQXJyYXk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG5cbnZhciBhcnJheVNsaWNlU2ltcGxlID0gZnVuY3Rpb24gKE8sIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlJDMoTyk7XG4gIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW5ndGgpO1xuICB2YXIgZmluID0gdG9BYnNvbHV0ZUluZGV4KGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICB2YXIgcmVzdWx0ID0gJEFycmF5KG1heChmaW4gLSBrLCAwKSk7XG4gIGZvciAodmFyIG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBuLCBPW2tdKTtcbiAgcmVzdWx0Lmxlbmd0aCA9IG47XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgYXJyYXlTbGljZSQyID0gYXJyYXlTbGljZVNpbXBsZTtcblxudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxudmFyIG1lcmdlU29ydCA9IGZ1bmN0aW9uIChhcnJheSwgY29tcGFyZWZuKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBtaWRkbGUgPSBmbG9vcihsZW5ndGggLyAyKTtcbiAgcmV0dXJuIGxlbmd0aCA8IDggPyBpbnNlcnRpb25Tb3J0KGFycmF5LCBjb21wYXJlZm4pIDogbWVyZ2UoXG4gICAgYXJyYXksXG4gICAgbWVyZ2VTb3J0KGFycmF5U2xpY2UkMihhcnJheSwgMCwgbWlkZGxlKSwgY29tcGFyZWZuKSxcbiAgICBtZXJnZVNvcnQoYXJyYXlTbGljZSQyKGFycmF5LCBtaWRkbGUpLCBjb21wYXJlZm4pLFxuICAgIGNvbXBhcmVmblxuICApO1xufTtcblxudmFyIGluc2VydGlvblNvcnQgPSBmdW5jdGlvbiAoYXJyYXksIGNvbXBhcmVmbikge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgaSA9IDE7XG4gIHZhciBlbGVtZW50LCBqO1xuXG4gIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgaiA9IGk7XG4gICAgZWxlbWVudCA9IGFycmF5W2ldO1xuICAgIHdoaWxlIChqICYmIGNvbXBhcmVmbihhcnJheVtqIC0gMV0sIGVsZW1lbnQpID4gMCkge1xuICAgICAgYXJyYXlbal0gPSBhcnJheVstLWpdO1xuICAgIH1cbiAgICBpZiAoaiAhPT0gaSsrKSBhcnJheVtqXSA9IGVsZW1lbnQ7XG4gIH0gcmV0dXJuIGFycmF5O1xufTtcblxudmFyIG1lcmdlID0gZnVuY3Rpb24gKGFycmF5LCBsZWZ0LCByaWdodCwgY29tcGFyZWZuKSB7XG4gIHZhciBsbGVuZ3RoID0gbGVmdC5sZW5ndGg7XG4gIHZhciBybGVuZ3RoID0gcmlnaHQubGVuZ3RoO1xuICB2YXIgbGluZGV4ID0gMDtcbiAgdmFyIHJpbmRleCA9IDA7XG5cbiAgd2hpbGUgKGxpbmRleCA8IGxsZW5ndGggfHwgcmluZGV4IDwgcmxlbmd0aCkge1xuICAgIGFycmF5W2xpbmRleCArIHJpbmRleF0gPSAobGluZGV4IDwgbGxlbmd0aCAmJiByaW5kZXggPCBybGVuZ3RoKVxuICAgICAgPyBjb21wYXJlZm4obGVmdFtsaW5kZXhdLCByaWdodFtyaW5kZXhdKSA8PSAwID8gbGVmdFtsaW5kZXgrK10gOiByaWdodFtyaW5kZXgrK11cbiAgICAgIDogbGluZGV4IDwgbGxlbmd0aCA/IGxlZnRbbGluZGV4KytdIDogcmlnaHRbcmluZGV4KytdO1xuICB9IHJldHVybiBhcnJheTtcbn07XG5cbnZhciBhcnJheVNvcnQgPSBtZXJnZVNvcnQ7XG5cbnZhciBmYWlscyQ1ID0gZmFpbHMkaDtcblxudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QkMiA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSwgYXJndW1lbnQpIHtcbiAgdmFyIG1ldGhvZCA9IFtdW01FVEhPRF9OQU1FXTtcbiAgcmV0dXJuICEhbWV0aG9kICYmIGZhaWxzJDUoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhbGwgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgICBtZXRob2QuY2FsbChudWxsLCBhcmd1bWVudCB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9LCAxKTtcbiAgfSk7XG59O1xuXG52YXIgdXNlckFnZW50JDQgPSBlbmdpbmVVc2VyQWdlbnQ7XG5cbnZhciBmaXJlZm94ID0gdXNlckFnZW50JDQubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSk7XG5cbnZhciBlbmdpbmVGZlZlcnNpb24gPSAhIWZpcmVmb3ggJiYgK2ZpcmVmb3hbMV07XG5cbnZhciBVQSA9IGVuZ2luZVVzZXJBZ2VudDtcblxudmFyIGVuZ2luZUlzSWVPckVkZ2UgPSAvTVNJRXxUcmlkZW50Ly50ZXN0KFVBKTtcblxudmFyIHVzZXJBZ2VudCQzID0gZW5naW5lVXNlckFnZW50O1xuXG52YXIgd2Via2l0ID0gdXNlckFnZW50JDMubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLyk7XG5cbnZhciBlbmdpbmVXZWJraXRWZXJzaW9uID0gISF3ZWJraXQgJiYgK3dlYmtpdFsxXTtcblxudmFyICQkYSA9IF9leHBvcnQ7XG52YXIgdW5jdXJyeVRoaXMkNSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG52YXIgYUNhbGxhYmxlJDcgPSBhQ2FsbGFibGUkOTtcbnZhciB0b09iamVjdCQxID0gdG9PYmplY3QkNTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSQyID0gbGVuZ3RoT2ZBcnJheUxpa2UkNTtcbnZhciBkZWxldGVQcm9wZXJ0eU9yVGhyb3cgPSBkZWxldGVQcm9wZXJ0eU9yVGhyb3ckMTtcbnZhciB0b1N0cmluZyQyID0gdG9TdHJpbmckMztcbnZhciBmYWlscyQ0ID0gZmFpbHMkaDtcbnZhciBpbnRlcm5hbFNvcnQgPSBhcnJheVNvcnQ7XG52YXIgYXJyYXlNZXRob2RJc1N0cmljdCQxID0gYXJyYXlNZXRob2RJc1N0cmljdCQyO1xudmFyIEZGID0gZW5naW5lRmZWZXJzaW9uO1xudmFyIElFX09SX0VER0UgPSBlbmdpbmVJc0llT3JFZGdlO1xudmFyIFY4ID0gZW5naW5lVjhWZXJzaW9uO1xudmFyIFdFQktJVCA9IGVuZ2luZVdlYmtpdFZlcnNpb247XG5cbnZhciB0ZXN0ID0gW107XG52YXIgdW4kU29ydCA9IHVuY3VycnlUaGlzJDUodGVzdC5zb3J0KTtcbnZhciBwdXNoID0gdW5jdXJyeVRoaXMkNSh0ZXN0LnB1c2gpO1xuXG4vLyBJRTgtXG52YXIgRkFJTFNfT05fVU5ERUZJTkVEID0gZmFpbHMkNChmdW5jdGlvbiAoKSB7XG4gIHRlc3Quc29ydCh1bmRlZmluZWQpO1xufSk7XG4vLyBWOCBidWdcbnZhciBGQUlMU19PTl9OVUxMID0gZmFpbHMkNChmdW5jdGlvbiAoKSB7XG4gIHRlc3Quc29ydChudWxsKTtcbn0pO1xuLy8gT2xkIFdlYktpdFxudmFyIFNUUklDVF9NRVRIT0QkMSA9IGFycmF5TWV0aG9kSXNTdHJpY3QkMSgnc29ydCcpO1xuXG52YXIgU1RBQkxFX1NPUlQgPSAhZmFpbHMkNChmdW5jdGlvbiAoKSB7XG4gIC8vIGZlYXR1cmUgZGV0ZWN0aW9uIGNhbiBiZSB0b28gc2xvdywgc28gY2hlY2sgZW5naW5lcyB2ZXJzaW9uc1xuICBpZiAoVjgpIHJldHVybiBWOCA8IDcwO1xuICBpZiAoRkYgJiYgRkYgPiAzKSByZXR1cm47XG4gIGlmIChJRV9PUl9FREdFKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFdFQktJVCkgcmV0dXJuIFdFQktJVCA8IDYwMztcblxuICB2YXIgcmVzdWx0ID0gJyc7XG4gIHZhciBjb2RlLCBjaHIsIHZhbHVlLCBpbmRleDtcblxuICAvLyBnZW5lcmF0ZSBhbiBhcnJheSB3aXRoIG1vcmUgNTEyIGVsZW1lbnRzIChDaGFrcmEgYW5kIG9sZCBWOCBmYWlscyBvbmx5IGluIHRoaXMgY2FzZSlcbiAgZm9yIChjb2RlID0gNjU7IGNvZGUgPCA3NjsgY29kZSsrKSB7XG4gICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblxuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgY2FzZSA2NjogY2FzZSA2OTogY2FzZSA3MDogY2FzZSA3MjogdmFsdWUgPSAzOyBicmVhaztcbiAgICAgIGNhc2UgNjg6IGNhc2UgNzE6IHZhbHVlID0gNDsgYnJlYWs7XG4gICAgICBkZWZhdWx0OiB2YWx1ZSA9IDI7XG4gICAgfVxuXG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgNDc7IGluZGV4KyspIHtcbiAgICAgIHRlc3QucHVzaCh7IGs6IGNociArIGluZGV4LCB2OiB2YWx1ZSB9KTtcbiAgICB9XG4gIH1cblxuICB0ZXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGIudiAtIGEudjsgfSk7XG5cbiAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGVzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjaHIgPSB0ZXN0W2luZGV4XS5rLmNoYXJBdCgwKTtcbiAgICBpZiAocmVzdWx0LmNoYXJBdChyZXN1bHQubGVuZ3RoIC0gMSkgIT09IGNocikgcmVzdWx0ICs9IGNocjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQgIT09ICdER0JFRkhBQ0lKSyc7XG59KTtcblxudmFyIEZPUkNFRCA9IEZBSUxTX09OX1VOREVGSU5FRCB8fCAhRkFJTFNfT05fTlVMTCB8fCAhU1RSSUNUX01FVEhPRCQxIHx8ICFTVEFCTEVfU09SVDtcblxudmFyIGdldFNvcnRDb21wYXJlID0gZnVuY3Rpb24gKGNvbXBhcmVmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gLTE7XG4gICAgaWYgKHggPT09IHVuZGVmaW5lZCkgcmV0dXJuIDE7XG4gICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gK2NvbXBhcmVmbih4LCB5KSB8fCAwO1xuICAgIHJldHVybiB0b1N0cmluZyQyKHgpID4gdG9TdHJpbmckMih5KSA/IDEgOiAtMTtcbiAgfTtcbn07XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuc29ydGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb3J0XG4kJGEoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCB9LCB7XG4gIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoY29tcGFyZWZuKSB7XG4gICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSBhQ2FsbGFibGUkNyhjb21wYXJlZm4pO1xuXG4gICAgdmFyIGFycmF5ID0gdG9PYmplY3QkMSh0aGlzKTtcblxuICAgIGlmIChTVEFCTEVfU09SVCkgcmV0dXJuIGNvbXBhcmVmbiA9PT0gdW5kZWZpbmVkID8gdW4kU29ydChhcnJheSkgOiB1biRTb3J0KGFycmF5LCBjb21wYXJlZm4pO1xuXG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdmFyIGFycmF5TGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UkMihhcnJheSk7XG4gICAgdmFyIGl0ZW1zTGVuZ3RoLCBpbmRleDtcblxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGFycmF5TGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAoaW5kZXggaW4gYXJyYXkpIHB1c2goaXRlbXMsIGFycmF5W2luZGV4XSk7XG4gICAgfVxuXG4gICAgaW50ZXJuYWxTb3J0KGl0ZW1zLCBnZXRTb3J0Q29tcGFyZShjb21wYXJlZm4pKTtcblxuICAgIGl0ZW1zTGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuICAgIGluZGV4ID0gMDtcblxuICAgIHdoaWxlIChpbmRleCA8IGl0ZW1zTGVuZ3RoKSBhcnJheVtpbmRleF0gPSBpdGVtc1tpbmRleCsrXTtcbiAgICB3aGlsZSAoaW5kZXggPCBhcnJheUxlbmd0aCkgZGVsZXRlUHJvcGVydHlPclRocm93KGFycmF5LCBpbmRleCsrKTtcblxuICAgIHJldHVybiBhcnJheTtcbiAgfVxufSk7XG5cbnZhciAkJDkgPSBfZXhwb3J0O1xudmFyICRpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMuaW5jbHVkZXM7XG52YXIgZmFpbHMkMyA9IGZhaWxzJGg7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IGFkZFRvVW5zY29wYWJsZXMkMjtcblxuLy8gRkY5OSsgYnVnXG52YXIgQlJPS0VOX09OX1NQQVJTRSA9IGZhaWxzJDMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gIUFycmF5KDEpLmluY2x1ZGVzKCk7XG59KTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuJCQ5KHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBCUk9LRU5fT05fU1BBUlNFIH0sIHtcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKGVsIC8qICwgZnJvbUluZGV4ID0gMCAqLykge1xuICAgIHJldHVybiAkaW5jbHVkZXModGhpcywgZWwsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmFkZFRvVW5zY29wYWJsZXMoJ2luY2x1ZGVzJyk7XG5cbnZhciBpc09iamVjdCQyID0gaXNPYmplY3QkODtcbnZhciBjbGFzc29mJDMgPSBjbGFzc29mUmF3JDE7XG52YXIgd2VsbEtub3duU3ltYm9sJDcgPSB3ZWxsS25vd25TeW1ib2wkZztcblxudmFyIE1BVENIJDEgPSB3ZWxsS25vd25TeW1ib2wkNygnbWF0Y2gnKTtcblxuLy8gYElzUmVnRXhwYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNyZWdleHBcbnZhciBpc1JlZ2V4cCA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXNSZWdFeHA7XG4gIHJldHVybiBpc09iamVjdCQyKGl0KSAmJiAoKGlzUmVnRXhwID0gaXRbTUFUQ0gkMV0pICE9PSB1bmRlZmluZWQgPyAhIWlzUmVnRXhwIDogY2xhc3NvZiQzKGl0KSA9PSAnUmVnRXhwJyk7XG59O1xuXG52YXIgaXNSZWdFeHAgPSBpc1JlZ2V4cDtcblxudmFyICRUeXBlRXJyb3IkNiA9IFR5cGVFcnJvcjtcblxudmFyIG5vdEFSZWdleHAgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGlzUmVnRXhwKGl0KSkge1xuICAgIHRocm93ICRUeXBlRXJyb3IkNihcIlRoZSBtZXRob2QgZG9lc24ndCBhY2NlcHQgcmVndWxhciBleHByZXNzaW9uc1wiKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG52YXIgd2VsbEtub3duU3ltYm9sJDYgPSB3ZWxsS25vd25TeW1ib2wkZztcblxudmFyIE1BVENIID0gd2VsbEtub3duU3ltYm9sJDYoJ21hdGNoJyk7XG5cbnZhciBjb3JyZWN0SXNSZWdleHBMb2dpYyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICB2YXIgcmVnZXhwID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICB0cnkge1xuICAgICAgcmVnZXhwW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICAgIH0gY2F0Y2ggKGVycm9yMikgeyAvKiBlbXB0eSAqLyB9XG4gIH0gcmV0dXJuIGZhbHNlO1xufTtcblxudmFyICQkOCA9IF9leHBvcnQ7XG52YXIgdW5jdXJyeVRoaXMkNCA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG52YXIgbm90QVJlZ0V4cCA9IG5vdEFSZWdleHA7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUkMztcbnZhciB0b1N0cmluZyQxID0gdG9TdHJpbmckMztcbnZhciBjb3JyZWN0SXNSZWdFeHBMb2dpYyA9IGNvcnJlY3RJc1JlZ2V4cExvZ2ljO1xuXG52YXIgc3RyaW5nSW5kZXhPZiA9IHVuY3VycnlUaGlzJDQoJycuaW5kZXhPZik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1xuJCQ4KHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogIWNvcnJlY3RJc1JlZ0V4cExvZ2ljKCdpbmNsdWRlcycpIH0sIHtcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZyAvKiAsIHBvc2l0aW9uID0gMCAqLykge1xuICAgIHJldHVybiAhIX5zdHJpbmdJbmRleE9mKFxuICAgICAgdG9TdHJpbmckMShyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKHRoaXMpKSxcbiAgICAgIHRvU3RyaW5nJDEobm90QVJlZ0V4cChzZWFyY2hTdHJpbmcpKSxcbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBhQ2FsbGFibGUkNiA9IGFDYWxsYWJsZSQ5O1xudmFyIHRvT2JqZWN0ID0gdG9PYmplY3QkNTtcbnZhciBJbmRleGVkT2JqZWN0ID0gaW5kZXhlZE9iamVjdDtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSQxID0gbGVuZ3RoT2ZBcnJheUxpa2UkNTtcblxudmFyICRUeXBlRXJyb3IkNSA9IFR5cGVFcnJvcjtcblxuLy8gYEFycmF5LnByb3RvdHlwZS57IHJlZHVjZSwgcmVkdWNlUmlnaHQgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChJU19SSUdIVCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIGNhbGxiYWNrZm4sIGFyZ3VtZW50c0xlbmd0aCwgbWVtbykge1xuICAgIGFDYWxsYWJsZSQ2KGNhbGxiYWNrZm4pO1xuICAgIHZhciBPID0gdG9PYmplY3QodGhhdCk7XG4gICAgdmFyIHNlbGYgPSBJbmRleGVkT2JqZWN0KE8pO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQxKE8pO1xuICAgIHZhciBpbmRleCA9IElTX1JJR0hUID8gbGVuZ3RoIC0gMSA6IDA7XG4gICAgdmFyIGkgPSBJU19SSUdIVCA/IC0xIDogMTtcbiAgICBpZiAoYXJndW1lbnRzTGVuZ3RoIDwgMikgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChpbmRleCBpbiBzZWxmKSB7XG4gICAgICAgIG1lbW8gPSBzZWxmW2luZGV4XTtcbiAgICAgICAgaW5kZXggKz0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpbmRleCArPSBpO1xuICAgICAgaWYgKElTX1JJR0hUID8gaW5kZXggPCAwIDogbGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgIHRocm93ICRUeXBlRXJyb3IkNSgnUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKDtJU19SSUdIVCA/IGluZGV4ID49IDAgOiBsZW5ndGggPiBpbmRleDsgaW5kZXggKz0gaSkgaWYgKGluZGV4IGluIHNlbGYpIHtcbiAgICAgIG1lbW8gPSBjYWxsYmFja2ZuKG1lbW8sIHNlbGZbaW5kZXhdLCBpbmRleCwgTyk7XG4gICAgfVxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufTtcblxudmFyIGFycmF5UmVkdWNlID0ge1xuICAvLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuICBsZWZ0OiBjcmVhdGVNZXRob2QoZmFsc2UpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlcmlnaHRcbiAgcmlnaHQ6IGNyZWF0ZU1ldGhvZCh0cnVlKVxufTtcblxudmFyIGNsYXNzb2YkMiA9IGNsYXNzb2ZSYXckMTtcbnZhciBnbG9iYWwkOSA9IGdsb2JhbCRrO1xuXG52YXIgZW5naW5lSXNOb2RlID0gY2xhc3NvZiQyKGdsb2JhbCQ5LnByb2Nlc3MpID09ICdwcm9jZXNzJztcblxudmFyICQkNyA9IF9leHBvcnQ7XG52YXIgJHJlZHVjZSA9IGFycmF5UmVkdWNlLmxlZnQ7XG52YXIgYXJyYXlNZXRob2RJc1N0cmljdCA9IGFycmF5TWV0aG9kSXNTdHJpY3QkMjtcbnZhciBDSFJPTUVfVkVSU0lPTiA9IGVuZ2luZVY4VmVyc2lvbjtcbnZhciBJU19OT0RFJDMgPSBlbmdpbmVJc05vZGU7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgncmVkdWNlJyk7XG4vLyBDaHJvbWUgODAtODIgaGFzIGEgY3JpdGljYWwgYnVnXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMDQ5OTgyXG52YXIgQ0hST01FX0JVRyA9ICFJU19OT0RFJDMgJiYgQ0hST01FX1ZFUlNJT04gPiA3OSAmJiBDSFJPTUVfVkVSU0lPTiA8IDgzO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5yZWR1Y2VcbiQkNyh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfHwgQ0hST01FX0JVRyB9LCB7XG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxudmFyICQkNiA9IF9leHBvcnQ7XG52YXIgREVTQ1JJUFRPUlMkMSA9IGRlc2NyaXB0b3JzO1xudmFyIGdsb2JhbCQ4ID0gZ2xvYmFsJGs7XG52YXIgdW5jdXJyeVRoaXMkMyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG52YXIgaGFzT3duJDIgPSBoYXNPd25Qcm9wZXJ0eV8xO1xudmFyIGlzQ2FsbGFibGUkNSA9IGlzQ2FsbGFibGUkbDtcbnZhciBpc1Byb3RvdHlwZU9mJDMgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xudmFyIHRvU3RyaW5nID0gdG9TdHJpbmckMztcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG52YXIgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyA9IGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMkMjtcblxudmFyIE5hdGl2ZVN5bWJvbCA9IGdsb2JhbCQ4LlN5bWJvbDtcbnZhciBTeW1ib2xQcm90b3R5cGUgPSBOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnByb3RvdHlwZTtcblxuaWYgKERFU0NSSVBUT1JTJDEgJiYgaXNDYWxsYWJsZSQ1KE5hdGl2ZVN5bWJvbCkgJiYgKCEoJ2Rlc2NyaXB0aW9uJyBpbiBTeW1ib2xQcm90b3R5cGUpIHx8XG4gIC8vIFNhZmFyaSAxMiBidWdcbiAgTmF0aXZlU3ltYm9sKCkuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZFxuKSkge1xuICB2YXIgRW1wdHlTdHJpbmdEZXNjcmlwdGlvblN0b3JlID0ge307XG4gIC8vIHdyYXAgU3ltYm9sIGNvbnN0cnVjdG9yIGZvciBjb3JyZWN0IHdvcmsgd2l0aCB1bmRlZmluZWQgZGVzY3JpcHRpb25cbiAgdmFyIFN5bWJvbFdyYXBwZXIgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8IDEgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiB0b1N0cmluZyhhcmd1bWVudHNbMF0pO1xuICAgIHZhciByZXN1bHQgPSBpc1Byb3RvdHlwZU9mJDMoU3ltYm9sUHJvdG90eXBlLCB0aGlzKVxuICAgICAgPyBuZXcgTmF0aXZlU3ltYm9sKGRlc2NyaXB0aW9uKVxuICAgICAgLy8gaW4gRWRnZSAxMywgU3RyaW5nKFN5bWJvbCh1bmRlZmluZWQpKSA9PT0gJ1N5bWJvbCh1bmRlZmluZWQpJ1xuICAgICAgOiBkZXNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkID8gTmF0aXZlU3ltYm9sKCkgOiBOYXRpdmVTeW1ib2woZGVzY3JpcHRpb24pO1xuICAgIGlmIChkZXNjcmlwdGlvbiA9PT0gJycpIEVtcHR5U3RyaW5nRGVzY3JpcHRpb25TdG9yZVtyZXN1bHRdID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMoU3ltYm9sV3JhcHBlciwgTmF0aXZlU3ltYm9sKTtcbiAgU3ltYm9sV3JhcHBlci5wcm90b3R5cGUgPSBTeW1ib2xQcm90b3R5cGU7XG4gIFN5bWJvbFByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN5bWJvbFdyYXBwZXI7XG5cbiAgdmFyIE5BVElWRV9TWU1CT0wgPSBTdHJpbmcoTmF0aXZlU3ltYm9sKCd0ZXN0JykpID09ICdTeW1ib2wodGVzdCknO1xuICB2YXIgc3ltYm9sVG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyQzKFN5bWJvbFByb3RvdHlwZS50b1N0cmluZyk7XG4gIHZhciBzeW1ib2xWYWx1ZU9mID0gdW5jdXJyeVRoaXMkMyhTeW1ib2xQcm90b3R5cGUudmFsdWVPZik7XG4gIHZhciByZWdleHAgPSAvXlN5bWJvbFxcKCguKilcXClbXildKyQvO1xuICB2YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzJDMoJycucmVwbGFjZSk7XG4gIHZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzJDMoJycuc2xpY2UpO1xuXG4gIGRlZmluZVByb3BlcnR5KFN5bWJvbFByb3RvdHlwZSwgJ2Rlc2NyaXB0aW9uJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGRlc2NyaXB0aW9uKCkge1xuICAgICAgdmFyIHN5bWJvbCA9IHN5bWJvbFZhbHVlT2YodGhpcyk7XG4gICAgICB2YXIgc3RyaW5nID0gc3ltYm9sVG9TdHJpbmcoc3ltYm9sKTtcbiAgICAgIGlmIChoYXNPd24kMihFbXB0eVN0cmluZ0Rlc2NyaXB0aW9uU3RvcmUsIHN5bWJvbCkpIHJldHVybiAnJztcbiAgICAgIHZhciBkZXNjID0gTkFUSVZFX1NZTUJPTCA/IHN0cmluZ1NsaWNlKHN0cmluZywgNywgLTEpIDogcmVwbGFjZShzdHJpbmcsIHJlZ2V4cCwgJyQxJyk7XG4gICAgICByZXR1cm4gZGVzYyA9PT0gJycgPyB1bmRlZmluZWQgOiBkZXNjO1xuICAgIH1cbiAgfSk7XG5cbiAgJCQ2KHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgZm9yY2VkOiB0cnVlIH0sIHtcbiAgICBTeW1ib2w6IFN5bWJvbFdyYXBwZXJcbiAgfSk7XG59XG5cbmNvbnN0IFdhcm5pbmdJY29uID0gKCkgPT4ge1xuICByZXR1cm4ganN4cyhcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB3aWR0aDogXCIxOFwiLFxuICAgIGhlaWdodDogXCIxOFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IFtqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTQuOTUyMTUgMTYuMzUzNkwxMC4yMTUyIDUuODU2NTdDMTAuOTUzMSA0LjM4NDgxIDEzLjA1MzggNC4zODUxOSAxMy43OTEyIDUuODU3MjNMMTkuMDQ5NCAxNi4zNTQzQzE5LjcxNTYgMTcuNjg0MSAxOC43NDg2IDE5LjI1IDE3LjI2MTIgMTkuMjVINi43NDAwMUM1LjI1MjI4IDE5LjI1IDQuMjg1MzUgMTcuNjgzNSA0Ljk1MjE1IDE2LjM1MzZaXCIsXG4gICAgICBzdHJva2U6IFwiI0U2QjczRVwiLFxuICAgICAgc3Ryb2tlV2lkdGg6IFwiMS41XCIsXG4gICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMTIgMTBWMTJcIixcbiAgICAgIHN0cm9rZTogXCIjRTZCNzNFXCIsXG4gICAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMTIuNSAxNkMxMi41IDE2LjI3NjEgMTIuMjc2MSAxNi41IDEyIDE2LjVDMTEuNzIzOSAxNi41IDExLjUgMTYuMjc2MSAxMS41IDE2QzExLjUgMTUuNzIzOSAxMS43MjM5IDE1LjUgMTIgMTUuNUMxMi4yNzYxIDE1LjUgMTIuNSAxNS43MjM5IDEyLjUgMTZaXCIsXG4gICAgICBzdHJva2U6IFwiI0U2QjczRVwiXG4gICAgfSldXG4gIH0pKTtcbn07XG5cbmNvbnN0IFdhbGxldE9wdGlvbnMgPSAoe1xuICBzZWxlY3RvcixcbiAgaGFuZGxlV2FsbGV0Q2xpY2tcbn0pID0+IHtcbiAgY29uc3QgW21vZHVsZXMsIHNldE1vZHVsZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbcmVjZW50TW9kdWxlcywgc2V0UmVjZW50TW9kdWxlc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb3JlTW9kdWxlcywgc2V0TW9yZU1vZHVsZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbYWN0aXZlV2FsbGV0SWQsIHNldEFjdGl2ZVdhbGxldElkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHNlbGVjdG9yLnN0b3JlLm9ic2VydmFibGUuc3Vic2NyaWJlKHN0YXRlID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2VsZWN0ZWRXYWxsZXRJZFxuICAgICAgfSA9IHNlbGVjdG9yLnN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBpZiAoc2VsZWN0ZWRXYWxsZXRJZCkge1xuICAgICAgICBzZXRBY3RpdmVXYWxsZXRJZChzZWxlY3RlZFdhbGxldElkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHdhbGxldHMgPSBzdGF0ZS5tb2R1bGVzLmZpbHRlcihtb2R1bGUgPT4gIShtb2R1bGUudHlwZSA9PT0gXCJpbnN0YW50LWxpbmtcIiAmJiBzZWxlY3RlZFdhbGxldElkICE9PSBtb2R1bGUuaWQpKTtcbiAgICAgIGlmIChzZWxlY3Rvci5vcHRpb25zLm9wdGltaXplV2FsbGV0T3JkZXIpIHtcbiAgICAgICAgc3RhdGUubW9kdWxlcy5zb3J0KChjdXJyZW50LCBuZXh0KSA9PiB7XG4gICAgICAgICAgaWYgKGN1cnJlbnQubWV0YWRhdGEuZGVwcmVjYXRlZCA9PT0gbmV4dC5tZXRhZGF0YS5kZXByZWNhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQubWV0YWRhdGEuZGVwcmVjYXRlZCA/IDEgOiAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRlLm1vZHVsZXMuc29ydCgoY3VycmVudCwgbmV4dCkgPT4ge1xuICAgICAgICAgIGlmIChuZXh0Lm1ldGFkYXRhLmF2YWlsYWJsZSA9PT0gY3VycmVudC5tZXRhZGF0YS5hdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV4dC5tZXRhZGF0YS5hdmFpbGFibGUgPyAxIDogLTE7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3JlV2FsbGV0cyA9IFtdO1xuICAgICAgICBjb25zdCByZWNlbnRseVNpZ25lZEluV2FsbGV0cyA9IFtdO1xuICAgICAgICB3YWxsZXRzLmZvckVhY2gobW9kdWxlID0+IHtcbiAgICAgICAgICBpZiAoc2VsZWN0b3Iuc3RvcmUuZ2V0U3RhdGUoKS5yZWNlbnRseVNpZ25lZEluV2FsbGV0cy5pbmNsdWRlcyhtb2R1bGUuaWQpKSB7XG4gICAgICAgICAgICByZWNlbnRseVNpZ25lZEluV2FsbGV0cy5wdXNoKG1vZHVsZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vcmVXYWxsZXRzLnB1c2gobW9kdWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRSZWNlbnRNb2R1bGVzKHJlY2VudGx5U2lnbmVkSW5XYWxsZXRzKTtcbiAgICAgICAgc2V0TW9yZU1vZHVsZXMobW9yZVdhbGxldHMpO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdG9yLm9wdGlvbnMucmFuZG9taXplV2FsbGV0T3JkZXIpIHtcbiAgICAgICAgc2V0TW9kdWxlcyh3YWxsZXRzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0TW9kdWxlcyh3YWxsZXRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG4gIGZ1bmN0aW9uIHJlbmRlck9wdGlvbnNMaXN0KG1vZHVsZXNUb1JlbmRlcikge1xuICAgIHJldHVybiBtb2R1bGVzVG9SZW5kZXIucmVkdWNlKChyZXN1bHQsIG1vZHVsZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2VsZWN0ZWRXYWxsZXRJZFxuICAgICAgfSA9IHNlbGVjdG9yLnN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBpY29uVXJsLFxuICAgICAgICBkZXByZWNhdGVkXG4gICAgICB9ID0gbW9kdWxlLm1ldGFkYXRhO1xuICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBtb2R1bGUuaWQgPT09IHNlbGVjdGVkV2FsbGV0SWQ7XG4gICAgICByZXN1bHQucHVzaChqc3hzKFwibGlcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgICBjbGFzc05hbWU6IGBzaW5nbGUtd2FsbGV0ICR7YWN0aXZlV2FsbGV0SWQgPT09IG1vZHVsZS5pZCA/IFwic2VsZWN0ZWQtd2FsbGV0XCIgOiBcIlwifSAke3NlbGVjdGVkID8gXCJjb25uZWN0ZWQtd2FsbGV0XCIgOiBcIlwifSAke2RlcHJlY2F0ZWQgPyBcImRlcHJlY2F0ZWQtd2FsbGV0XCIgOiBcIlwifSBzaWRlYmFyICR7bW9kdWxlLmlkfWAsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBpZiAobW9kdWxlLmlkID09PSBtb2R1bGVzVG9SZW5kZXJbaW5kZXhdLmlkKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVXYWxsZXRJZChtb2R1bGUuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaGFuZGxlV2FsbGV0Q2xpY2sobW9kdWxlKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiaWNvblwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjoganN4KFwiaW1nXCIsIHtcbiAgICAgICAgICAgIHNyYzogaWNvblVybCxcbiAgICAgICAgICAgIGFsdDogbmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pKSwganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ0aXRsZVwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IG5hbWVcbiAgICAgICAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IGRlc2NyaXB0aW9uXG4gICAgICAgICAgfSkpXVxuICAgICAgICB9KSksIGRlcHJlY2F0ZWQgJiYganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJ3YXJuaW5nLXRyaWFuZ2xlXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBqc3goV2FybmluZ0ljb24sIHt9KVxuICAgICAgICB9KSldXG4gICAgICB9KSwgbW9kdWxlLmlkKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIFtdKTtcbiAgfVxuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjaGlsZHJlbjogc2VsZWN0b3Iub3B0aW9ucy5vcHRpbWl6ZVdhbGxldE9yZGVyICYmIHNlbGVjdG9yLnN0b3JlLmdldFN0YXRlKCkucmVjZW50bHlTaWduZWRJbldhbGxldHMubGVuZ3RoID4gMCA/IGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICBjbGFzc05hbWU6IFwid2FsbGV0LW9wdGlvbnMtd3JhcHBlclwiXG4gICAgfSwge1xuICAgICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwib3B0aW9ucy1saXN0LXNlY3Rpb25cIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwib3B0aW9ucy1saXN0LXNlY3Rpb24taGVhZGVyXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBcIlJlY2VudFwiXG4gICAgICAgIH0pKSwganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJvcHRpb25zLWxpc3QgbW9yZS1vcHRpb25zLWxpc3QtY29udGVudFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogcmVuZGVyT3B0aW9uc0xpc3QocmVjZW50TW9kdWxlcylcbiAgICAgICAgfSkpXVxuICAgICAgfSkpLCBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwib3B0aW9ucy1saXN0LXNlY3Rpb25cIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwib3B0aW9ucy1saXN0LXNlY3Rpb24taGVhZGVyXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBcIk1vcmVcIlxuICAgICAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwib3B0aW9ucy1saXN0IG1vcmUtb3B0aW9ucy1saXN0LWNvbnRlbnRcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IHJlbmRlck9wdGlvbnNMaXN0KG1vcmVNb2R1bGVzKVxuICAgICAgICB9KSldXG4gICAgICB9KSldXG4gICAgfSkpIDoganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcIndhbGxldC1vcHRpb25zLXdyYXBwZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJvcHRpb25zLWxpc3RcIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogcmVuZGVyT3B0aW9uc0xpc3QobW9kdWxlcylcbiAgICAgIH0pKVxuICAgIH0pKVxuICB9KTtcbn07XG5cbmNvbnN0IENvbm5lY3Rpb25FcnJvckljb24gPSAoKSA9PiB7XG4gIHJldHVybiBqc3hzKFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjIxXCIsXG4gICAgaGVpZ2h0OiBcIjIwXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjEgMjBcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gIH0sIHtcbiAgICBjaGlsZHJlbjogW2pzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMTAuNTAwMSAxOC4zMzMzQzE1LjEwMjUgMTguMzMzMyAxOC44MzM0IDE0LjYwMjMgMTguODMzNCA5Ljk5OTk2QzE4LjgzMzQgNS4zOTc1OSAxNS4xMDI1IDEuNjY2NjMgMTAuNTAwMSAxLjY2NjYzQzUuODk3NzEgMS42NjY2MyAyLjE2Njc1IDUuMzk3NTkgMi4xNjY3NSA5Ljk5OTk2QzIuMTY2NzUgMTQuNjAyMyA1Ljg5NzcxIDE4LjMzMzMgMTAuNTAwMSAxOC4zMzMzWlwiLFxuICAgICAgc3Ryb2tlOiBcIiNDRTVBNkZcIixcbiAgICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xMyA3LjVMOCAxMi41XCIsXG4gICAgICBzdHJva2U6IFwiI0NFNUE2RlwiLFxuICAgICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTggNy41TDEzIDEyLjVcIixcbiAgICAgIHN0cm9rZTogXCIjQ0U1QTZGXCIsXG4gICAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgfSldXG4gIH0pKTtcbn07XG5cbmNvbnN0IENvbm5lY3Rpb25TdWNjZXNzSWNvbiA9ICgpID0+IHtcbiAgcmV0dXJuIGpzeHMoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgd2lkdGg6IFwiMjFcIixcbiAgICBoZWlnaHQ6IFwiMjBcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyMSAyMFwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgfSwge1xuICAgIGNoaWxkcmVuOiBbanN4KFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xOC44MzMzIDkuMjMzM1Y5Ljk5OTk3QzE4LjgzMjMgMTEuNzk3IDE4LjI1MDQgMTMuNTQ1NSAxNy4xNzQ0IDE0Ljk4NDhDMTYuMDk4NCAxNi40MjQxIDE0LjU4NiAxNy40NzcgMTIuODYyOCAxNy45ODY2QzExLjEzOTUgMTguNDk2MSA5LjI5NzY4IDE4LjQzNDkgNy42MTIwMiAxNy44MTIxQzUuOTI2MzYgMTcuMTg5NCA0LjQ4NzE3IDE2LjAzODQgMy41MDkwOSAxNC41MzA5QzIuNTMxMDEgMTMuMDIzMyAyLjA2NjQ1IDExLjI0IDIuMTg0NjkgOS40NDY5QzIuMzAyOTMgNy42NTM3NyAyLjk5NzYzIDUuOTQ2OTEgNC4xNjUxOSA0LjU4MDg2QzUuMzMyNzUgMy4yMTQ4MiA2LjkxMDYxIDIuMjYyNzkgOC42NjM0NSAxLjg2Njc2QzEwLjQxNjMgMS40NzA3MyAxMi4yNTAyIDEuNjUxOTIgMTMuODkxNiAyLjM4MzNcIixcbiAgICAgIHN0cm9rZTogXCIjNEZEOThGXCIsXG4gICAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMTguODMzMyAzLjMzMzM3TDEwLjUgMTEuNjc1TDggOS4xNzUwNFwiLFxuICAgICAgc3Ryb2tlOiBcIiM0RkQ5OEZcIixcbiAgICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICB9KV1cbiAgfSkpO1xufTtcblxuY29uc3QgQ29ubmVjdGlvblJlc3VsdCA9ICh7XG4gIG1vZHVsZSxcbiAgbWVzc2FnZSxcbiAgZXJyLFxuICBvblJldHJ5XG59KSA9PiB7XG4gIHJldHVybiBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBcImNvbm5lY3Rpb24gY29ubmVjdGluZy1kZXRhaWxzXCJcbiAgfSwge1xuICAgIGNoaWxkcmVuOiBlcnIgPyBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcImVycm9yLXdyYXBwZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImVycm9yXCJcbiAgICAgIH0sIHtcbiAgICAgICAgY2hpbGRyZW46IFtqc3goQ29ubmVjdGlvbkVycm9ySWNvbiwge30pLCB0cmFuc2xhdGUoXCJtb2RhbC53YWxsZXQuY29ubmVjdGlvbkZhaWxlZFwiKV1cbiAgICAgIH0pKSwganN4KFwicFwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBtZXNzYWdlXG4gICAgICB9KSwgKG1vZHVsZSA9PT0gbnVsbCB8fCBtb2R1bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZHVsZS5tZXRhZGF0YS5hdmFpbGFibGUpICYmIGpzeChcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgb25DbGljazogb25SZXRyeVxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogdHJhbnNsYXRlKFwibW9kYWwubGVkZ2VyLnJldHJ5XCIpXG4gICAgICB9KSldXG4gICAgfSkpIDoganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJzdWNjZXNzXCJcbiAgICB9LCB7XG4gICAgICBjaGlsZHJlbjogW2pzeChDb25uZWN0aW9uU3VjY2Vzc0ljb24sIHt9KSwgdHJhbnNsYXRlKFwibW9kYWwud2FsbGV0LmNvbm5lY3Rpb25TdWNjZXNzZnVsXCIpXVxuICAgIH0pKVxuICB9KSk7XG59O1xuXG5jb25zdCBBbGVydE1lc3NhZ2UgPSAoe1xuICBtZXNzYWdlLFxuICBtb2R1bGUsXG4gIG9uQmFjayxcbiAgb25DbG9zZU1vZGFsXG59KSA9PiB7XG4gIHJldHVybiBqc3hzKEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFtqc3goTW9kYWxIZWFkZXIsIHtcbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgb25DbG9zZU1vZGFsOiBvbkNsb3NlTW9kYWxcbiAgICB9KSwganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcImFsZXJ0LW1lc3NhZ2UgY29ubmVjdGluZy13cmFwcGVyIGNvbm5lY3Rpbmctd3JhcHBlci1lcnJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudFwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJpY29uXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJpbWdcIiwge1xuICAgICAgICAgICAgc3JjOiBtb2R1bGUgPT09IG51bGwgfHwgbW9kdWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtb2R1bGUubWV0YWRhdGEuaWNvblVybCxcbiAgICAgICAgICAgIGFsdDogbW9kdWxlID09PSBudWxsIHx8IG1vZHVsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kdWxlLm1ldGFkYXRhLm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICB9KSksIGpzeChcImgzXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJjb25uZWN0aW5nLW5hbWVcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IG1vZHVsZSA9PT0gbnVsbCB8fCBtb2R1bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZHVsZS5tZXRhZGF0YS5uYW1lXG4gICAgICAgIH0pKSwganN4KENvbm5lY3Rpb25SZXN1bHQsIHtcbiAgICAgICAgICBtb2R1bGU6IG1vZHVsZSxcbiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgIGVycjogbWVzc2FnZSAhPT0gbnVsbCxcbiAgICAgICAgICBvblJldHJ5OiAoKSA9PiB7XG4gICAgICAgICAgICBvbkJhY2sodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KV1cbiAgICAgIH0pKVxuICAgIH0pKV1cbiAgfSk7XG59O1xuXG52YXIgZ2V0QnVpbHRJbiQzID0gZ2V0QnVpbHRJbiQ4O1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG52YXIgd2VsbEtub3duU3ltYm9sJDUgPSB3ZWxsS25vd25TeW1ib2wkZztcbnZhciBERVNDUklQVE9SUyA9IGRlc2NyaXB0b3JzO1xuXG52YXIgU1BFQ0lFUyQyID0gd2VsbEtub3duU3ltYm9sJDUoJ3NwZWNpZXMnKTtcblxudmFyIHNldFNwZWNpZXMkMSA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUl9OQU1FKSB7XG4gIHZhciBDb25zdHJ1Y3RvciA9IGdldEJ1aWx0SW4kMyhDT05TVFJVQ1RPUl9OQU1FKTtcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgQ29uc3RydWN0b3IgJiYgIUNvbnN0cnVjdG9yW1NQRUNJRVMkMl0pIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgU1BFQ0lFUyQyLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICB9KTtcbiAgfVxufTtcblxudmFyIGlzUHJvdG90eXBlT2YkMiA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG5cbnZhciAkVHlwZUVycm9yJDQgPSBUeXBlRXJyb3I7XG5cbnZhciBhbkluc3RhbmNlJDEgPSBmdW5jdGlvbiAoaXQsIFByb3RvdHlwZSkge1xuICBpZiAoaXNQcm90b3R5cGVPZiQyKFByb3RvdHlwZSwgaXQpKSByZXR1cm4gaXQ7XG4gIHRocm93ICRUeXBlRXJyb3IkNCgnSW5jb3JyZWN0IGludm9jYXRpb24nKTtcbn07XG5cbnZhciB1bmN1cnJ5VGhpcyQyID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbnZhciBmYWlscyQyID0gZmFpbHMkaDtcbnZhciBpc0NhbGxhYmxlJDQgPSBpc0NhbGxhYmxlJGw7XG52YXIgY2xhc3NvZiQxID0gY2xhc3NvZiQ1O1xudmFyIGdldEJ1aWx0SW4kMiA9IGdldEJ1aWx0SW4kODtcbnZhciBpbnNwZWN0U291cmNlJDEgPSBpbnNwZWN0U291cmNlJDQ7XG5cbnZhciBub29wID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIGVtcHR5ID0gW107XG52YXIgY29uc3RydWN0ID0gZ2V0QnVpbHRJbiQyKCdSZWZsZWN0JywgJ2NvbnN0cnVjdCcpO1xudmFyIGNvbnN0cnVjdG9yUmVnRXhwID0gL15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLztcbnZhciBleGVjID0gdW5jdXJyeVRoaXMkMihjb25zdHJ1Y3RvclJlZ0V4cC5leGVjKTtcbnZhciBJTkNPUlJFQ1RfVE9fU1RSSU5HID0gIWNvbnN0cnVjdG9yUmVnRXhwLmV4ZWMobm9vcCk7XG5cbnZhciBpc0NvbnN0cnVjdG9yTW9kZXJuID0gZnVuY3Rpb24gaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICBpZiAoIWlzQ2FsbGFibGUkNChhcmd1bWVudCkpIHJldHVybiBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdHJ1Y3Qobm9vcCwgZW1wdHksIGFyZ3VtZW50KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBpc0NvbnN0cnVjdG9yTGVnYWN5ID0gZnVuY3Rpb24gaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICBpZiAoIWlzQ2FsbGFibGUkNChhcmd1bWVudCkpIHJldHVybiBmYWxzZTtcbiAgc3dpdGNoIChjbGFzc29mJDEoYXJndW1lbnQpKSB7XG4gICAgY2FzZSAnQXN5bmNGdW5jdGlvbic6XG4gICAgY2FzZSAnR2VuZXJhdG9yRnVuY3Rpb24nOlxuICAgIGNhc2UgJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nOiByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyB3ZSBjYW4ndCBjaGVjayAucHJvdG90eXBlIHNpbmNlIGNvbnN0cnVjdG9ycyBwcm9kdWNlZCBieSAuYmluZCBoYXZlbid0IGl0XG4gICAgLy8gYEZ1bmN0aW9uI3RvU3RyaW5nYCB0aHJvd3Mgb24gc29tZSBidWlsdC1pdCBmdW5jdGlvbiBpbiBzb21lIGxlZ2FjeSBlbmdpbmVzXG4gICAgLy8gKGZvciBleGFtcGxlLCBgRE9NUXVhZGAgYW5kIHNpbWlsYXIgaW4gRkY0MS0pXG4gICAgcmV0dXJuIElOQ09SUkVDVF9UT19TVFJJTkcgfHwgISFleGVjKGNvbnN0cnVjdG9yUmVnRXhwLCBpbnNwZWN0U291cmNlJDEoYXJndW1lbnQpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuaXNDb25zdHJ1Y3RvckxlZ2FjeS5zaGFtID0gdHJ1ZTtcblxuLy8gYElzQ29uc3RydWN0b3JgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2NvbnN0cnVjdG9yXG52YXIgaXNDb25zdHJ1Y3RvciQxID0gIWNvbnN0cnVjdCB8fCBmYWlscyQyKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhbGxlZDtcbiAgcmV0dXJuIGlzQ29uc3RydWN0b3JNb2Rlcm4oaXNDb25zdHJ1Y3Rvck1vZGVybi5jYWxsKVxuICAgIHx8ICFpc0NvbnN0cnVjdG9yTW9kZXJuKE9iamVjdClcbiAgICB8fCAhaXNDb25zdHJ1Y3Rvck1vZGVybihmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWU7IH0pXG4gICAgfHwgY2FsbGVkO1xufSkgPyBpc0NvbnN0cnVjdG9yTGVnYWN5IDogaXNDb25zdHJ1Y3Rvck1vZGVybjtcblxudmFyIGlzQ29uc3RydWN0b3IgPSBpc0NvbnN0cnVjdG9yJDE7XG52YXIgdHJ5VG9TdHJpbmckMiA9IHRyeVRvU3RyaW5nJDU7XG5cbnZhciAkVHlwZUVycm9yJDMgPSBUeXBlRXJyb3I7XG5cbi8vIGBBc3NlcnQ6IElzQ29uc3RydWN0b3IoYXJndW1lbnQpIGlzIHRydWVgXG52YXIgYUNvbnN0cnVjdG9yJDEgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKGlzQ29uc3RydWN0b3IoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93ICRUeXBlRXJyb3IkMyh0cnlUb1N0cmluZyQyKGFyZ3VtZW50KSArICcgaXMgbm90IGEgY29uc3RydWN0b3InKTtcbn07XG5cbnZhciBhbk9iamVjdCQ2ID0gYW5PYmplY3QkYztcbnZhciBhQ29uc3RydWN0b3IgPSBhQ29uc3RydWN0b3IkMTtcbnZhciB3ZWxsS25vd25TeW1ib2wkNCA9IHdlbGxLbm93blN5bWJvbCRnO1xuXG52YXIgU1BFQ0lFUyQxID0gd2VsbEtub3duU3ltYm9sJDQoJ3NwZWNpZXMnKTtcblxuLy8gYFNwZWNpZXNDb25zdHJ1Y3RvcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNwZWNpZXNjb25zdHJ1Y3RvclxudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciQxID0gZnVuY3Rpb24gKE8sIGRlZmF1bHRDb25zdHJ1Y3Rvcikge1xuICB2YXIgQyA9IGFuT2JqZWN0JDYoTykuY29uc3RydWN0b3I7XG4gIHZhciBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QkNihDKVtTUEVDSUVTJDFdKSA9PSB1bmRlZmluZWQgPyBkZWZhdWx0Q29uc3RydWN0b3IgOiBhQ29uc3RydWN0b3IoUyk7XG59O1xuXG52YXIgTkFUSVZFX0JJTkQkMSA9IGZ1bmN0aW9uQmluZE5hdGl2ZTtcblxudmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xudmFyIGFwcGx5JDEgPSBGdW5jdGlvblByb3RvdHlwZS5hcHBseTtcbnZhciBjYWxsJDggPSBGdW5jdGlvblByb3RvdHlwZS5jYWxsO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1yZWZsZWN0IC0tIHNhZmVcbnZhciBmdW5jdGlvbkFwcGx5ID0gdHlwZW9mIFJlZmxlY3QgPT0gJ29iamVjdCcgJiYgUmVmbGVjdC5hcHBseSB8fCAoTkFUSVZFX0JJTkQkMSA/IGNhbGwkOC5iaW5kKGFwcGx5JDEpIDogZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY2FsbCQ4LmFwcGx5KGFwcGx5JDEsIGFyZ3VtZW50cyk7XG59KTtcblxudmFyIHVuY3VycnlUaGlzJDEgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xudmFyIGFDYWxsYWJsZSQ1ID0gYUNhbGxhYmxlJDk7XG52YXIgTkFUSVZFX0JJTkQgPSBmdW5jdGlvbkJpbmROYXRpdmU7XG5cbnZhciBiaW5kJDQgPSB1bmN1cnJ5VGhpcyQxKHVuY3VycnlUaGlzJDEuYmluZCk7XG5cbi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGZ1bmN0aW9uQmluZENvbnRleHQgPSBmdW5jdGlvbiAoZm4sIHRoYXQpIHtcbiAgYUNhbGxhYmxlJDUoZm4pO1xuICByZXR1cm4gdGhhdCA9PT0gdW5kZWZpbmVkID8gZm4gOiBOQVRJVkVfQklORCA/IGJpbmQkNChmbiwgdGhhdCkgOiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxudmFyIHVuY3VycnlUaGlzID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcblxudmFyIGFycmF5U2xpY2UkMSA9IHVuY3VycnlUaGlzKFtdLnNsaWNlKTtcblxudmFyICRUeXBlRXJyb3IkMiA9IFR5cGVFcnJvcjtcblxudmFyIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoJDEgPSBmdW5jdGlvbiAocGFzc2VkLCByZXF1aXJlZCkge1xuICBpZiAocGFzc2VkIDwgcmVxdWlyZWQpIHRocm93ICRUeXBlRXJyb3IkMignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcbiAgcmV0dXJuIHBhc3NlZDtcbn07XG5cbnZhciB1c2VyQWdlbnQkMiA9IGVuZ2luZVVzZXJBZ2VudDtcblxudmFyIGVuZ2luZUlzSW9zID0gLyg/OmlwYWR8aXBob25lfGlwb2QpLiphcHBsZXdlYmtpdC9pLnRlc3QodXNlckFnZW50JDIpO1xuXG52YXIgZ2xvYmFsJDcgPSBnbG9iYWwkaztcbnZhciBhcHBseSA9IGZ1bmN0aW9uQXBwbHk7XG52YXIgYmluZCQzID0gZnVuY3Rpb25CaW5kQ29udGV4dDtcbnZhciBpc0NhbGxhYmxlJDMgPSBpc0NhbGxhYmxlJGw7XG52YXIgaGFzT3duJDEgPSBoYXNPd25Qcm9wZXJ0eV8xO1xudmFyIGZhaWxzJDEgPSBmYWlscyRoO1xudmFyIGh0bWwgPSBodG1sJDI7XG52YXIgYXJyYXlTbGljZSA9IGFycmF5U2xpY2UkMTtcbnZhciBjcmVhdGVFbGVtZW50ID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50JDI7XG52YXIgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGggPSB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aCQxO1xudmFyIElTX0lPUyQxID0gZW5naW5lSXNJb3M7XG52YXIgSVNfTk9ERSQyID0gZW5naW5lSXNOb2RlO1xuXG52YXIgc2V0ID0gZ2xvYmFsJDcuc2V0SW1tZWRpYXRlO1xudmFyIGNsZWFyID0gZ2xvYmFsJDcuY2xlYXJJbW1lZGlhdGU7XG52YXIgcHJvY2VzcyQyID0gZ2xvYmFsJDcucHJvY2VzcztcbnZhciBEaXNwYXRjaCA9IGdsb2JhbCQ3LkRpc3BhdGNoO1xudmFyIEZ1bmN0aW9uJDEgPSBnbG9iYWwkNy5GdW5jdGlvbjtcbnZhciBNZXNzYWdlQ2hhbm5lbCA9IGdsb2JhbCQ3Lk1lc3NhZ2VDaGFubmVsO1xudmFyIFN0cmluZyQxID0gZ2xvYmFsJDcuU3RyaW5nO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIHF1ZXVlJDEgPSB7fTtcbnZhciBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbnZhciBsb2NhdGlvbiwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG5cbnRyeSB7XG4gIC8vIERlbm8gdGhyb3dzIGEgUmVmZXJlbmNlRXJyb3Igb24gYGxvY2F0aW9uYCBhY2Nlc3Mgd2l0aG91dCBgLS1sb2NhdGlvbmAgZmxhZ1xuICBsb2NhdGlvbiA9IGdsb2JhbCQ3LmxvY2F0aW9uO1xufSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuXG52YXIgcnVuID0gZnVuY3Rpb24gKGlkKSB7XG4gIGlmIChoYXNPd24kMShxdWV1ZSQxLCBpZCkpIHtcbiAgICB2YXIgZm4gPSBxdWV1ZSQxW2lkXTtcbiAgICBkZWxldGUgcXVldWUkMVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcblxudmFyIHJ1bm5lciA9IGZ1bmN0aW9uIChpZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJ1bihpZCk7XG4gIH07XG59O1xuXG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgcnVuKGV2ZW50LmRhdGEpO1xufTtcblxudmFyIHBvc3QgPSBmdW5jdGlvbiAoaWQpIHtcbiAgLy8gb2xkIGVuZ2luZXMgaGF2ZSBub3QgbG9jYXRpb24ub3JpZ2luXG4gIGdsb2JhbCQ3LnBvc3RNZXNzYWdlKFN0cmluZyQxKGlkKSwgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCk7XG59O1xuXG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldCB8fCAhY2xlYXIpIHtcbiAgc2V0ID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGhhbmRsZXIpIHtcbiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICB2YXIgZm4gPSBpc0NhbGxhYmxlJDMoaGFuZGxlcikgPyBoYW5kbGVyIDogRnVuY3Rpb24kMShoYW5kbGVyKTtcbiAgICB2YXIgYXJncyA9IGFycmF5U2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICBxdWV1ZSQxWysrY291bnRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBhcHBseShmbiwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhciA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgZGVsZXRlIHF1ZXVlJDFbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYgKElTX05PREUkMikge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBwcm9jZXNzJDIubmV4dFRpY2socnVubmVyKGlkKSk7XG4gICAgfTtcbiAgLy8gU3BoZXJlIChKUyBnYW1lIGVuZ2luZSkgRGlzcGF0Y2ggQVBJXG4gIH0gZWxzZSBpZiAoRGlzcGF0Y2ggJiYgRGlzcGF0Y2gubm93KSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIERpc3BhdGNoLm5vdyhydW5uZXIoaWQpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIC8vIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjI0XG4gIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwgJiYgIUlTX0lPUyQxKSB7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBiaW5kJDMocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYgKFxuICAgIGdsb2JhbCQ3LmFkZEV2ZW50TGlzdGVuZXIgJiZcbiAgICBpc0NhbGxhYmxlJDMoZ2xvYmFsJDcucG9zdE1lc3NhZ2UpICYmXG4gICAgIWdsb2JhbCQ3LmltcG9ydFNjcmlwdHMgJiZcbiAgICBsb2NhdGlvbiAmJiBsb2NhdGlvbi5wcm90b2NvbCAhPT0gJ2ZpbGU6JyAmJlxuICAgICFmYWlscyQxKHBvc3QpXG4gICkge1xuICAgIGRlZmVyID0gcG9zdDtcbiAgICBnbG9iYWwkNy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjcmVhdGVFbGVtZW50KCdzY3JpcHQnKSkge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4oaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBzZXRUaW1lb3V0KHJ1bm5lcihpZCksIDApO1xuICAgIH07XG4gIH1cbn1cblxudmFyIHRhc2skMSA9IHtcbiAgc2V0OiBzZXQsXG4gIGNsZWFyOiBjbGVhclxufTtcblxudmFyIHVzZXJBZ2VudCQxID0gZW5naW5lVXNlckFnZW50O1xudmFyIGdsb2JhbCQ2ID0gZ2xvYmFsJGs7XG5cbnZhciBlbmdpbmVJc0lvc1BlYmJsZSA9IC9pcGFkfGlwaG9uZXxpcG9kL2kudGVzdCh1c2VyQWdlbnQkMSkgJiYgZ2xvYmFsJDYuUGViYmxlICE9PSB1bmRlZmluZWQ7XG5cbnZhciB1c2VyQWdlbnQgPSBlbmdpbmVVc2VyQWdlbnQ7XG5cbnZhciBlbmdpbmVJc1dlYm9zV2Via2l0ID0gL3dlYjBzKD8hLipjaHJvbWUpL2kudGVzdCh1c2VyQWdlbnQpO1xuXG52YXIgZ2xvYmFsJDUgPSBnbG9iYWwkaztcbnZhciBiaW5kJDIgPSBmdW5jdGlvbkJpbmRDb250ZXh0O1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvci5mO1xudmFyIG1hY3JvdGFzayA9IHRhc2skMS5zZXQ7XG52YXIgSVNfSU9TID0gZW5naW5lSXNJb3M7XG52YXIgSVNfSU9TX1BFQkJMRSA9IGVuZ2luZUlzSW9zUGViYmxlO1xudmFyIElTX1dFQk9TX1dFQktJVCA9IGVuZ2luZUlzV2Vib3NXZWJraXQ7XG52YXIgSVNfTk9ERSQxID0gZW5naW5lSXNOb2RlO1xuXG52YXIgTXV0YXRpb25PYnNlcnZlciA9IGdsb2JhbCQ1Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsJDUuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBkb2N1bWVudCQyID0gZ2xvYmFsJDUuZG9jdW1lbnQ7XG52YXIgcHJvY2VzcyQxID0gZ2xvYmFsJDUucHJvY2VzcztcbnZhciBQcm9taXNlJDEgPSBnbG9iYWwkNS5Qcm9taXNlO1xuLy8gTm9kZS5qcyAxMSBzaG93cyBFeHBlcmltZW50YWxXYXJuaW5nIG9uIGdldHRpbmcgYHF1ZXVlTWljcm90YXNrYFxudmFyIHF1ZXVlTWljcm90YXNrRGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWwkNSwgJ3F1ZXVlTWljcm90YXNrJyk7XG52YXIgcXVldWVNaWNyb3Rhc2sgPSBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IgJiYgcXVldWVNaWNyb3Rhc2tEZXNjcmlwdG9yLnZhbHVlO1xuXG52YXIgZmx1c2gsIGhlYWQsIGxhc3QsIG5vdGlmeSQxLCB0b2dnbGUsIG5vZGUsIHByb21pc2UsIHRoZW47XG5cbi8vIG1vZGVybiBlbmdpbmVzIGhhdmUgcXVldWVNaWNyb3Rhc2sgbWV0aG9kXG5pZiAoIXF1ZXVlTWljcm90YXNrKSB7XG4gIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmIChJU19OT0RFJDEgJiYgKHBhcmVudCA9IHByb2Nlc3MkMS5kb21haW4pKSBwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlIChoZWFkKSB7XG4gICAgICBmbiA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChoZWFkKSBub3RpZnkkMSgpO1xuICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocGFyZW50KSBwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXIsIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5XG4gIC8vIGFsc28gZXhjZXB0IFdlYk9TIFdlYmtpdCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODk4XG4gIGlmICghSVNfSU9TICYmICFJU19OT0RFJDEgJiYgIUlTX1dFQk9TX1dFQktJVCAmJiBNdXRhdGlvbk9ic2VydmVyICYmIGRvY3VtZW50JDIpIHtcbiAgICB0b2dnbGUgPSB0cnVlO1xuICAgIG5vZGUgPSBkb2N1bWVudCQyLmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG4gICAgbm90aWZ5JDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZiAoIUlTX0lPU19QRUJCTEUgJiYgUHJvbWlzZSQxICYmIFByb21pc2UkMS5yZXNvbHZlKSB7XG4gICAgLy8gUHJvbWlzZS5yZXNvbHZlIHdpdGhvdXQgYW4gYXJndW1lbnQgdGhyb3dzIGFuIGVycm9yIGluIExHIFdlYk9TIDJcbiAgICBwcm9taXNlID0gUHJvbWlzZSQxLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAvLyB3b3JrYXJvdW5kIG9mIFdlYktpdCB+IGlPUyBTYWZhcmkgMTAuMSBidWdcbiAgICBwcm9taXNlLmNvbnN0cnVjdG9yID0gUHJvbWlzZSQxO1xuICAgIHRoZW4gPSBiaW5kJDIocHJvbWlzZS50aGVuLCBwcm9taXNlKTtcbiAgICBub3RpZnkkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoZW4oZmx1c2gpO1xuICAgIH07XG4gIC8vIE5vZGUuanMgd2l0aG91dCBwcm9taXNlc1xuICB9IGVsc2UgaWYgKElTX05PREUkMSkge1xuICAgIG5vdGlmeSQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2VzcyQxLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdlXG4gIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gIC8vIC0gc2V0VGltZW91dFxuICB9IGVsc2Uge1xuICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5iaW5kKGdsb2JhbClcbiAgICBtYWNyb3Rhc2sgPSBiaW5kJDIobWFjcm90YXNrLCBnbG9iYWwkNSk7XG4gICAgbm90aWZ5JDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBtYWNyb3Rhc2soZmx1c2gpO1xuICAgIH07XG4gIH1cbn1cblxudmFyIG1pY3JvdGFzayQxID0gcXVldWVNaWNyb3Rhc2sgfHwgZnVuY3Rpb24gKGZuKSB7XG4gIHZhciB0YXNrID0geyBmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCB9O1xuICBpZiAobGFzdCkgbGFzdC5uZXh0ID0gdGFzaztcbiAgaWYgKCFoZWFkKSB7XG4gICAgaGVhZCA9IHRhc2s7XG4gICAgbm90aWZ5JDEoKTtcbiAgfSBsYXN0ID0gdGFzaztcbn07XG5cbnZhciBnbG9iYWwkNCA9IGdsb2JhbCRrO1xuXG52YXIgaG9zdFJlcG9ydEVycm9ycyQxID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgdmFyIGNvbnNvbGUgPSBnbG9iYWwkNC5jb25zb2xlO1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgYXJndW1lbnRzLmxlbmd0aCA9PSAxID8gY29uc29sZS5lcnJvcihhKSA6IGNvbnNvbGUuZXJyb3IoYSwgYik7XG4gIH1cbn07XG5cbnZhciBwZXJmb3JtJDMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiB7IGVycm9yOiBmYWxzZSwgdmFsdWU6IGV4ZWMoKSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yOiB0cnVlLCB2YWx1ZTogZXJyb3IgfTtcbiAgfVxufTtcblxudmFyIFF1ZXVlJDEgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaGVhZCA9IG51bGw7XG4gIHRoaXMudGFpbCA9IG51bGw7XG59O1xuXG5RdWV1ZSQxLnByb3RvdHlwZSA9IHtcbiAgYWRkOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHZhciBlbnRyeSA9IHsgaXRlbTogaXRlbSwgbmV4dDogbnVsbCB9O1xuICAgIGlmICh0aGlzLmhlYWQpIHRoaXMudGFpbC5uZXh0ID0gZW50cnk7XG4gICAgZWxzZSB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5oZWFkO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgdGhpcy5oZWFkID0gZW50cnkubmV4dDtcbiAgICAgIGlmICh0aGlzLnRhaWwgPT09IGVudHJ5KSB0aGlzLnRhaWwgPSBudWxsO1xuICAgICAgcmV0dXJuIGVudHJ5Lml0ZW07XG4gICAgfVxuICB9XG59O1xuXG52YXIgcXVldWUgPSBRdWV1ZSQxO1xuXG52YXIgZ2xvYmFsJDMgPSBnbG9iYWwkaztcblxudmFyIHByb21pc2VOYXRpdmVDb25zdHJ1Y3RvciA9IGdsb2JhbCQzLlByb21pc2U7XG5cbnZhciBlbmdpbmVJc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHR5cGVvZiBEZW5vICE9ICdvYmplY3QnO1xuXG52YXIgZ2xvYmFsJDIgPSBnbG9iYWwkaztcbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IkMyA9IHByb21pc2VOYXRpdmVDb25zdHJ1Y3RvcjtcbnZhciBpc0NhbGxhYmxlJDIgPSBpc0NhbGxhYmxlJGw7XG52YXIgaXNGb3JjZWQgPSBpc0ZvcmNlZF8xO1xudmFyIGluc3BlY3RTb3VyY2UgPSBpbnNwZWN0U291cmNlJDQ7XG52YXIgd2VsbEtub3duU3ltYm9sJDMgPSB3ZWxsS25vd25TeW1ib2wkZztcbnZhciBJU19CUk9XU0VSID0gZW5naW5lSXNCcm93c2VyO1xudmFyIFY4X1ZFUlNJT04gPSBlbmdpbmVWOFZlcnNpb247XG5cbk5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQzICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQzLnByb3RvdHlwZTtcbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sJDMoJ3NwZWNpZXMnKTtcbnZhciBTVUJDTEFTU0lORyA9IGZhbHNlO1xudmFyIE5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCQxID0gaXNDYWxsYWJsZSQyKGdsb2JhbCQyLlByb21pc2VSZWplY3Rpb25FdmVudCk7XG5cbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQ1ID0gaXNGb3JjZWQoJ1Byb21pc2UnLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBQUk9NSVNFX0NPTlNUUlVDVE9SX1NPVVJDRSA9IGluc3BlY3RTb3VyY2UoTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yJDMpO1xuICB2YXIgR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSA9IFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFICE9PSBTdHJpbmcoTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yJDMpO1xuICAvLyBWOCA2LjYgKE5vZGUgMTAgYW5kIENocm9tZSA2NikgaGF2ZSBhIGJ1ZyB3aXRoIHJlc29sdmluZyBjdXN0b20gdGhlbmFibGVzXG4gIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTgzMDU2NVxuICAvLyBXZSBjYW4ndCBkZXRlY3QgaXQgc3luY2hyb25vdXNseSwgc28ganVzdCBjaGVjayB2ZXJzaW9uc1xuICBpZiAoIUdMT0JBTF9DT1JFX0pTX1BST01JU0UgJiYgVjhfVkVSU0lPTiA9PT0gNjYpIHJldHVybiB0cnVlO1xuICAvLyBXZSBjYW4ndCB1c2UgQEBzcGVjaWVzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3OVxuICBpZiAoVjhfVkVSU0lPTiA+PSA1MSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoUFJPTUlTRV9DT05TVFJVQ1RPUl9TT1VSQ0UpKSByZXR1cm4gZmFsc2U7XG4gIC8vIERldGVjdCBjb3JyZWN0bmVzcyBvZiBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gIHZhciBwcm9taXNlID0gbmV3IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQzKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUoMSk7IH0pO1xuICB2YXIgRmFrZVByb21pc2UgPSBmdW5jdGlvbiAoZXhlYykge1xuICAgIGV4ZWMoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xuICB9O1xuICB2YXIgY29uc3RydWN0b3IgPSBwcm9taXNlLmNvbnN0cnVjdG9yID0ge307XG4gIGNvbnN0cnVjdG9yW1NQRUNJRVNdID0gRmFrZVByb21pc2U7XG4gIFNVQkNMQVNTSU5HID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcbiAgaWYgKCFTVUJDTEFTU0lORykgcmV0dXJuIHRydWU7XG4gIC8vIFVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgcmV0dXJuICFHTE9CQUxfQ09SRV9KU19QUk9NSVNFICYmIElTX0JST1dTRVIgJiYgIU5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCQxO1xufSk7XG5cbnZhciBwcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24gPSB7XG4gIENPTlNUUlVDVE9SOiBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQ1LFxuICBSRUpFQ1RJT05fRVZFTlQ6IE5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCQxLFxuICBTVUJDTEFTU0lORzogU1VCQ0xBU1NJTkdcbn07XG5cbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSQyID0ge307XG5cbnZhciBhQ2FsbGFibGUkNCA9IGFDYWxsYWJsZSQ5O1xuXG52YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoQykge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUNhbGxhYmxlJDQocmVzb2x2ZSk7XG4gIHRoaXMucmVqZWN0ID0gYUNhbGxhYmxlJDQocmVqZWN0KTtcbn07XG5cbi8vIGBOZXdQcm9taXNlQ2FwYWJpbGl0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW5ld3Byb21pc2VjYXBhYmlsaXR5XG5uZXdQcm9taXNlQ2FwYWJpbGl0eSQyLmYgPSBmdW5jdGlvbiAoQykge1xuICByZXR1cm4gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpO1xufTtcblxudmFyICQkNSA9IF9leHBvcnQ7XG52YXIgSVNfTk9ERSA9IGVuZ2luZUlzTm9kZTtcbnZhciBnbG9iYWwkMSA9IGdsb2JhbCRrO1xudmFyIGNhbGwkNyA9IGZ1bmN0aW9uQ2FsbDtcbnZhciBkZWZpbmVCdWlsdEluJDIgPSBkZWZpbmVCdWlsdEluJDY7XG52YXIgc2V0UHJvdG90eXBlT2YgPSBvYmplY3RTZXRQcm90b3R5cGVPZjtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHNldFRvU3RyaW5nVGFnJDM7XG52YXIgc2V0U3BlY2llcyA9IHNldFNwZWNpZXMkMTtcbnZhciBhQ2FsbGFibGUkMyA9IGFDYWxsYWJsZSQ5O1xudmFyIGlzQ2FsbGFibGUkMSA9IGlzQ2FsbGFibGUkbDtcbnZhciBpc09iamVjdCQxID0gaXNPYmplY3QkODtcbnZhciBhbkluc3RhbmNlID0gYW5JbnN0YW5jZSQxO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHNwZWNpZXNDb25zdHJ1Y3RvciQxO1xudmFyIHRhc2sgPSB0YXNrJDEuc2V0O1xudmFyIG1pY3JvdGFzayA9IG1pY3JvdGFzayQxO1xudmFyIGhvc3RSZXBvcnRFcnJvcnMgPSBob3N0UmVwb3J0RXJyb3JzJDE7XG52YXIgcGVyZm9ybSQyID0gcGVyZm9ybSQzO1xudmFyIFF1ZXVlID0gcXVldWU7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IGludGVybmFsU3RhdGU7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yJDIgPSBwcm9taXNlTmF0aXZlQ29uc3RydWN0b3I7XG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uID0gcHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlJDMgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSQyO1xuXG52YXIgUFJPTUlTRSA9ICdQcm9taXNlJztcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQ0ID0gUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xudmFyIE5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCA9IFByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5SRUpFQ1RJT05fRVZFTlQ7XG52YXIgTkFUSVZFX1BST01JU0VfU1VCQ0xBU1NJTkcgPSBQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24uU1VCQ0xBU1NJTkc7XG52YXIgZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihQUk9NSVNFKTtcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSQxID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yJDIgJiYgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yJDIucHJvdG90eXBlO1xudmFyIFByb21pc2VDb25zdHJ1Y3RvciA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQyO1xudmFyIFByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlUHJvdG90eXBlJDE7XG52YXIgVHlwZUVycm9yJDEgPSBnbG9iYWwkMS5UeXBlRXJyb3I7XG52YXIgZG9jdW1lbnQkMSA9IGdsb2JhbCQxLmRvY3VtZW50O1xudmFyIHByb2Nlc3MgPSBnbG9iYWwkMS5wcm9jZXNzO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5JDEgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSQzLmY7XG52YXIgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMTtcblxudmFyIERJU1BBVENIX0VWRU5UID0gISEoZG9jdW1lbnQkMSAmJiBkb2N1bWVudCQxLmNyZWF0ZUV2ZW50ICYmIGdsb2JhbCQxLmRpc3BhdGNoRXZlbnQpO1xudmFyIFVOSEFORExFRF9SRUpFQ1RJT04gPSAndW5oYW5kbGVkcmVqZWN0aW9uJztcbnZhciBSRUpFQ1RJT05fSEFORExFRCA9ICdyZWplY3Rpb25oYW5kbGVkJztcbnZhciBQRU5ESU5HID0gMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcbnZhciBIQU5ETEVEID0gMTtcbnZhciBVTkhBTkRMRUQgPSAyO1xuXG52YXIgSW50ZXJuYWwsIE93blByb21pc2VDYXBhYmlsaXR5LCBQcm9taXNlV3JhcHBlciwgbmF0aXZlVGhlbjtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdCQxKGl0KSAmJiBpc0NhbGxhYmxlJDEodGhlbiA9IGl0LnRoZW4pID8gdGhlbiA6IGZhbHNlO1xufTtcblxudmFyIGNhbGxSZWFjdGlvbiA9IGZ1bmN0aW9uIChyZWFjdGlvbiwgc3RhdGUpIHtcbiAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG4gIHZhciBvayA9IHN0YXRlLnN0YXRlID09IEZVTEZJTExFRDtcbiAgdmFyIGhhbmRsZXIgPSBvayA/IHJlYWN0aW9uLm9rIDogcmVhY3Rpb24uZmFpbDtcbiAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICB2YXIgcmVqZWN0ID0gcmVhY3Rpb24ucmVqZWN0O1xuICB2YXIgZG9tYWluID0gcmVhY3Rpb24uZG9tYWluO1xuICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gIHRyeSB7XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIGlmICghb2spIHtcbiAgICAgICAgaWYgKHN0YXRlLnJlamVjdGlvbiA9PT0gVU5IQU5ETEVEKSBvbkhhbmRsZVVuaGFuZGxlZChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnJlamVjdGlvbiA9IEhBTkRMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoaGFuZGxlciA9PT0gdHJ1ZSkgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmVudGVyKCk7XG4gICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpOyAvLyBjYW4gdGhyb3dcbiAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgZXhpdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICByZWplY3QoVHlwZUVycm9yJDEoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICB9IGVsc2UgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgY2FsbCQ3KHRoZW4sIHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGRvbWFpbiAmJiAhZXhpdGVkKSBkb21haW4uZXhpdCgpO1xuICAgIHJlamVjdChlcnJvcik7XG4gIH1cbn07XG5cbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoc3RhdGUsIGlzUmVqZWN0KSB7XG4gIGlmIChzdGF0ZS5ub3RpZmllZCkgcmV0dXJuO1xuICBzdGF0ZS5ub3RpZmllZCA9IHRydWU7XG4gIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlYWN0aW9ucyA9IHN0YXRlLnJlYWN0aW9ucztcbiAgICB2YXIgcmVhY3Rpb247XG4gICAgd2hpbGUgKHJlYWN0aW9uID0gcmVhY3Rpb25zLmdldCgpKSB7XG4gICAgICBjYWxsUmVhY3Rpb24ocmVhY3Rpb24sIHN0YXRlKTtcbiAgICB9XG4gICAgc3RhdGUubm90aWZpZWQgPSBmYWxzZTtcbiAgICBpZiAoaXNSZWplY3QgJiYgIXN0YXRlLnJlamVjdGlvbikgb25VbmhhbmRsZWQoc3RhdGUpO1xuICB9KTtcbn07XG5cbnZhciBkaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIHByb21pc2UsIHJlYXNvbikge1xuICB2YXIgZXZlbnQsIGhhbmRsZXI7XG4gIGlmIChESVNQQVRDSF9FVkVOVCkge1xuICAgIGV2ZW50ID0gZG9jdW1lbnQkMS5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldmVudC5wcm9taXNlID0gcHJvbWlzZTtcbiAgICBldmVudC5yZWFzb24gPSByZWFzb247XG4gICAgZXZlbnQuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCB0cnVlKTtcbiAgICBnbG9iYWwkMS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSBlbHNlIGV2ZW50ID0geyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHJlYXNvbiB9O1xuICBpZiAoIU5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCAmJiAoaGFuZGxlciA9IGdsb2JhbCQxWydvbicgKyBuYW1lXSkpIGhhbmRsZXIoZXZlbnQpO1xuICBlbHNlIGlmIChuYW1lID09PSBVTkhBTkRMRURfUkVKRUNUSU9OKSBob3N0UmVwb3J0RXJyb3JzKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCByZWFzb24pO1xufTtcblxudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGNhbGwkNyh0YXNrLCBnbG9iYWwkMSwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gc3RhdGUuZmFjYWRlO1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuICAgIHZhciBJU19VTkhBTkRMRUQgPSBpc1VuaGFuZGxlZChzdGF0ZSk7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoSVNfVU5IQU5ETEVEKSB7XG4gICAgICByZXN1bHQgPSBwZXJmb3JtJDIoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoSVNfTk9ERSkge1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgZGlzcGF0Y2hFdmVudChVTkhBTkRMRURfUkVKRUNUSU9OLCBwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBzdGF0ZS5yZWplY3Rpb24gPSBJU19OT0RFIHx8IGlzVW5oYW5kbGVkKHN0YXRlKSA/IFVOSEFORExFRCA6IEhBTkRMRUQ7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSB0aHJvdyByZXN1bHQudmFsdWU7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUucmVqZWN0aW9uICE9PSBIQU5ETEVEICYmICFzdGF0ZS5wYXJlbnQ7XG59O1xuXG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY2FsbCQ3KHRhc2ssIGdsb2JhbCQxLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBzdGF0ZS5mYWNhZGU7XG4gICAgaWYgKElTX05PREUpIHtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBkaXNwYXRjaEV2ZW50KFJFSkVDVElPTl9IQU5ETEVELCBwcm9taXNlLCBzdGF0ZS52YWx1ZSk7XG4gIH0pO1xufTtcblxudmFyIGJpbmQkMSA9IGZ1bmN0aW9uIChmbiwgc3RhdGUsIHVud3JhcCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgZm4oc3RhdGUsIHZhbHVlLCB1bndyYXApO1xuICB9O1xufTtcblxudmFyIGludGVybmFsUmVqZWN0ID0gZnVuY3Rpb24gKHN0YXRlLCB2YWx1ZSwgdW53cmFwKSB7XG4gIGlmIChzdGF0ZS5kb25lKSByZXR1cm47XG4gIHN0YXRlLmRvbmUgPSB0cnVlO1xuICBpZiAodW53cmFwKSBzdGF0ZSA9IHVud3JhcDtcbiAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgc3RhdGUuc3RhdGUgPSBSRUpFQ1RFRDtcbiAgbm90aWZ5KHN0YXRlLCB0cnVlKTtcbn07XG5cbnZhciBpbnRlcm5hbFJlc29sdmUgPSBmdW5jdGlvbiAoc3RhdGUsIHZhbHVlLCB1bndyYXApIHtcbiAgaWYgKHN0YXRlLmRvbmUpIHJldHVybjtcbiAgc3RhdGUuZG9uZSA9IHRydWU7XG4gIGlmICh1bndyYXApIHN0YXRlID0gdW53cmFwO1xuICB0cnkge1xuICAgIGlmIChzdGF0ZS5mYWNhZGUgPT09IHZhbHVlKSB0aHJvdyBUeXBlRXJyb3IkMShcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIHZhciB0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSk7XG4gICAgaWYgKHRoZW4pIHtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0geyBkb25lOiBmYWxzZSB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGwkNyh0aGVuLCB2YWx1ZSxcbiAgICAgICAgICAgIGJpbmQkMShpbnRlcm5hbFJlc29sdmUsIHdyYXBwZXIsIHN0YXRlKSxcbiAgICAgICAgICAgIGJpbmQkMShpbnRlcm5hbFJlamVjdCwgd3JhcHBlciwgc3RhdGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpbnRlcm5hbFJlamVjdCh3cmFwcGVyLCBlcnJvciwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHN0YXRlLnN0YXRlID0gRlVMRklMTEVEO1xuICAgICAgbm90aWZ5KHN0YXRlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGludGVybmFsUmVqZWN0KHsgZG9uZTogZmFsc2UgfSwgZXJyb3IsIHN0YXRlKTtcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmIChGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQ0KSB7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gIFByb21pc2VDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBhbkluc3RhbmNlKHRoaXMsIFByb21pc2VQcm90b3R5cGUpO1xuICAgIGFDYWxsYWJsZSQzKGV4ZWN1dG9yKTtcbiAgICBjYWxsJDcoSW50ZXJuYWwsIHRoaXMpO1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUHJvbWlzZVN0YXRlKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihiaW5kJDEoaW50ZXJuYWxSZXNvbHZlLCBzdGF0ZSksIGJpbmQkMShpbnRlcm5hbFJlamVjdCwgc3RhdGUpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaW50ZXJuYWxSZWplY3Qoc3RhdGUsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgUHJvbWlzZVByb3RvdHlwZSA9IFByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgICB0eXBlOiBQUk9NSVNFLFxuICAgICAgZG9uZTogZmFsc2UsXG4gICAgICBub3RpZmllZDogZmFsc2UsXG4gICAgICBwYXJlbnQ6IGZhbHNlLFxuICAgICAgcmVhY3Rpb25zOiBuZXcgUXVldWUoKSxcbiAgICAgIHJlamVjdGlvbjogZmFsc2UsXG4gICAgICBzdGF0ZTogUEVORElORyxcbiAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfTtcblxuICAvLyBgUHJvbWlzZS5wcm90b3R5cGUudGhlbmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5wcm90b3R5cGUudGhlblxuICBJbnRlcm5hbC5wcm90b3R5cGUgPSBkZWZpbmVCdWlsdEluJDIoUHJvbWlzZVByb3RvdHlwZSwgJ3RoZW4nLCBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUodGhpcyk7XG4gICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMShzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgUHJvbWlzZUNvbnN0cnVjdG9yKSk7XG4gICAgc3RhdGUucGFyZW50ID0gdHJ1ZTtcbiAgICByZWFjdGlvbi5vayA9IGlzQ2FsbGFibGUkMShvbkZ1bGZpbGxlZCkgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgcmVhY3Rpb24uZmFpbCA9IGlzQ2FsbGFibGUkMShvblJlamVjdGVkKSAmJiBvblJlamVjdGVkO1xuICAgIHJlYWN0aW9uLmRvbWFpbiA9IElTX05PREUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICBpZiAoc3RhdGUuc3RhdGUgPT0gUEVORElORykgc3RhdGUucmVhY3Rpb25zLmFkZChyZWFjdGlvbik7XG4gICAgZWxzZSBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbFJlYWN0aW9uKHJlYWN0aW9uLCBzdGF0ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG4gIH0pO1xuXG4gIE93blByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gbmV3IEludGVybmFsKCk7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUocHJvbWlzZSk7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB0aGlzLnJlc29sdmUgPSBiaW5kJDEoaW50ZXJuYWxSZXNvbHZlLCBzdGF0ZSk7XG4gICAgdGhpcy5yZWplY3QgPSBiaW5kJDEoaW50ZXJuYWxSZWplY3QsIHN0YXRlKTtcbiAgfTtcblxuICBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSQzLmYgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSQxID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gQyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yIHx8IEMgPT09IFByb21pc2VXcmFwcGVyXG4gICAgICA/IG5ldyBPd25Qcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgOiBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gIH07XG5cbiAgaWYgKGlzQ2FsbGFibGUkMShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IkMikgJiYgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSQxICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgbmF0aXZlVGhlbiA9IE5hdGl2ZVByb21pc2VQcm90b3R5cGUkMS50aGVuO1xuXG4gICAgaWYgKCFOQVRJVkVfUFJPTUlTRV9TVUJDTEFTU0lORykge1xuICAgICAgLy8gbWFrZSBgUHJvbWlzZSN0aGVuYCByZXR1cm4gYSBwb2x5ZmlsbGVkIGBQcm9taXNlYCBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgICAgZGVmaW5lQnVpbHRJbiQyKE5hdGl2ZVByb21pc2VQcm90b3R5cGUkMSwgJ3RoZW4nLCBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlQ29uc3RydWN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGNhbGwkNyhuYXRpdmVUaGVuLCB0aGF0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NDBcbiAgICAgIH0sIHsgdW5zYWZlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8vIG1ha2UgYC5jb25zdHJ1Y3RvciA9PT0gUHJvbWlzZWAgd29yayBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgIHRyeSB7XG4gICAgICBkZWxldGUgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSQxLmNvbnN0cnVjdG9yO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxuICAgIC8vIG1ha2UgYGluc3RhbmNlb2YgUHJvbWlzZWAgd29yayBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgICAgc2V0UHJvdG90eXBlT2YoTmF0aXZlUHJvbWlzZVByb3RvdHlwZSQxLCBQcm9taXNlUHJvdG90eXBlKTtcbiAgICB9XG4gIH1cbn1cblxuJCQ1KHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgd3JhcDogdHJ1ZSwgZm9yY2VkOiBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQ0IH0sIHtcbiAgUHJvbWlzZTogUHJvbWlzZUNvbnN0cnVjdG9yXG59KTtcblxuc2V0VG9TdHJpbmdUYWcoUHJvbWlzZUNvbnN0cnVjdG9yLCBQUk9NSVNFLCBmYWxzZSk7XG5zZXRTcGVjaWVzKFBST01JU0UpO1xuXG52YXIgd2VsbEtub3duU3ltYm9sJDIgPSB3ZWxsS25vd25TeW1ib2wkZztcbnZhciBJdGVyYXRvcnMkMSA9IGl0ZXJhdG9ycztcblxudmFyIElURVJBVE9SJDIgPSB3ZWxsS25vd25TeW1ib2wkMignaXRlcmF0b3InKTtcbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIGlzQXJyYXlJdGVyYXRvck1ldGhvZCQxID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMkMS5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b3R5cGVbSVRFUkFUT1IkMl0gPT09IGl0KTtcbn07XG5cbnZhciBjbGFzc29mID0gY2xhc3NvZiQ1O1xudmFyIGdldE1ldGhvZCQxID0gZ2V0TWV0aG9kJDM7XG52YXIgSXRlcmF0b3JzID0gaXRlcmF0b3JzO1xudmFyIHdlbGxLbm93blN5bWJvbCQxID0gd2VsbEtub3duU3ltYm9sJGc7XG5cbnZhciBJVEVSQVRPUiQxID0gd2VsbEtub3duU3ltYm9sJDEoJ2l0ZXJhdG9yJyk7XG5cbnZhciBnZXRJdGVyYXRvck1ldGhvZCQyID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCAhPSB1bmRlZmluZWQpIHJldHVybiBnZXRNZXRob2QkMShpdCwgSVRFUkFUT1IkMSlcbiAgICB8fCBnZXRNZXRob2QkMShpdCwgJ0BAaXRlcmF0b3InKVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuXG52YXIgY2FsbCQ2ID0gZnVuY3Rpb25DYWxsO1xudmFyIGFDYWxsYWJsZSQyID0gYUNhbGxhYmxlJDk7XG52YXIgYW5PYmplY3QkNSA9IGFuT2JqZWN0JGM7XG52YXIgdHJ5VG9TdHJpbmckMSA9IHRyeVRvU3RyaW5nJDU7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QkMSA9IGdldEl0ZXJhdG9yTWV0aG9kJDI7XG5cbnZhciAkVHlwZUVycm9yJDEgPSBUeXBlRXJyb3I7XG5cbnZhciBnZXRJdGVyYXRvciQxID0gZnVuY3Rpb24gKGFyZ3VtZW50LCB1c2luZ0l0ZXJhdG9yKSB7XG4gIHZhciBpdGVyYXRvck1ldGhvZCA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0SXRlcmF0b3JNZXRob2QkMShhcmd1bWVudCkgOiB1c2luZ0l0ZXJhdG9yO1xuICBpZiAoYUNhbGxhYmxlJDIoaXRlcmF0b3JNZXRob2QpKSByZXR1cm4gYW5PYmplY3QkNShjYWxsJDYoaXRlcmF0b3JNZXRob2QsIGFyZ3VtZW50KSk7XG4gIHRocm93ICRUeXBlRXJyb3IkMSh0cnlUb1N0cmluZyQxKGFyZ3VtZW50KSArICcgaXMgbm90IGl0ZXJhYmxlJyk7XG59O1xuXG52YXIgY2FsbCQ1ID0gZnVuY3Rpb25DYWxsO1xudmFyIGFuT2JqZWN0JDQgPSBhbk9iamVjdCRjO1xudmFyIGdldE1ldGhvZCA9IGdldE1ldGhvZCQzO1xuXG52YXIgaXRlcmF0b3JDbG9zZSQxID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBraW5kLCB2YWx1ZSkge1xuICB2YXIgaW5uZXJSZXN1bHQsIGlubmVyRXJyb3I7XG4gIGFuT2JqZWN0JDQoaXRlcmF0b3IpO1xuICB0cnkge1xuICAgIGlubmVyUmVzdWx0ID0gZ2V0TWV0aG9kKGl0ZXJhdG9yLCAncmV0dXJuJyk7XG4gICAgaWYgKCFpbm5lclJlc3VsdCkge1xuICAgICAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpbm5lclJlc3VsdCA9IGNhbGwkNShpbm5lclJlc3VsdCwgaXRlcmF0b3IpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlubmVyRXJyb3IgPSB0cnVlO1xuICAgIGlubmVyUmVzdWx0ID0gZXJyb3I7XG4gIH1cbiAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICBpZiAoaW5uZXJFcnJvcikgdGhyb3cgaW5uZXJSZXN1bHQ7XG4gIGFuT2JqZWN0JDQoaW5uZXJSZXN1bHQpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgYmluZCA9IGZ1bmN0aW9uQmluZENvbnRleHQ7XG52YXIgY2FsbCQ0ID0gZnVuY3Rpb25DYWxsO1xudmFyIGFuT2JqZWN0JDMgPSBhbk9iamVjdCRjO1xudmFyIHRyeVRvU3RyaW5nID0gdHJ5VG9TdHJpbmckNTtcbnZhciBpc0FycmF5SXRlcmF0b3JNZXRob2QgPSBpc0FycmF5SXRlcmF0b3JNZXRob2QkMTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSA9IGxlbmd0aE9mQXJyYXlMaWtlJDU7XG52YXIgaXNQcm90b3R5cGVPZiQxID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbnZhciBnZXRJdGVyYXRvciA9IGdldEl0ZXJhdG9yJDE7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSBnZXRJdGVyYXRvck1ldGhvZCQyO1xudmFyIGl0ZXJhdG9yQ2xvc2UgPSBpdGVyYXRvckNsb3NlJDE7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG52YXIgUmVzdWx0ID0gZnVuY3Rpb24gKHN0b3BwZWQsIHJlc3VsdCkge1xuICB0aGlzLnN0b3BwZWQgPSBzdG9wcGVkO1xuICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbn07XG5cbnZhciBSZXN1bHRQcm90b3R5cGUgPSBSZXN1bHQucHJvdG90eXBlO1xuXG52YXIgaXRlcmF0ZSQyID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCB1bmJvdW5kRnVuY3Rpb24sIG9wdGlvbnMpIHtcbiAgdmFyIHRoYXQgPSBvcHRpb25zICYmIG9wdGlvbnMudGhhdDtcbiAgdmFyIEFTX0VOVFJJRVMgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuQVNfRU5UUklFUyk7XG4gIHZhciBJU19JVEVSQVRPUiA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JU19JVEVSQVRPUik7XG4gIHZhciBJTlRFUlJVUFRFRCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JTlRFUlJVUFRFRCk7XG4gIHZhciBmbiA9IGJpbmQodW5ib3VuZEZ1bmN0aW9uLCB0aGF0KTtcbiAgdmFyIGl0ZXJhdG9yLCBpdGVyRm4sIGluZGV4LCBsZW5ndGgsIHJlc3VsdCwgbmV4dCwgc3RlcDtcblxuICB2YXIgc3RvcCA9IGZ1bmN0aW9uIChjb25kaXRpb24pIHtcbiAgICBpZiAoaXRlcmF0b3IpIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsICdub3JtYWwnLCBjb25kaXRpb24pO1xuICAgIHJldHVybiBuZXcgUmVzdWx0KHRydWUsIGNvbmRpdGlvbik7XG4gIH07XG5cbiAgdmFyIGNhbGxGbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChBU19FTlRSSUVTKSB7XG4gICAgICBhbk9iamVjdCQzKHZhbHVlKTtcbiAgICAgIHJldHVybiBJTlRFUlJVUFRFRCA/IGZuKHZhbHVlWzBdLCB2YWx1ZVsxXSwgc3RvcCkgOiBmbih2YWx1ZVswXSwgdmFsdWVbMV0pO1xuICAgIH0gcmV0dXJuIElOVEVSUlVQVEVEID8gZm4odmFsdWUsIHN0b3ApIDogZm4odmFsdWUpO1xuICB9O1xuXG4gIGlmIChJU19JVEVSQVRPUikge1xuICAgIGl0ZXJhdG9yID0gaXRlcmFibGU7XG4gIH0gZWxzZSB7XG4gICAgaXRlckZuID0gZ2V0SXRlcmF0b3JNZXRob2QoaXRlcmFibGUpO1xuICAgIGlmICghaXRlckZuKSB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGl0ZXJhYmxlKSArICcgaXMgbm90IGl0ZXJhYmxlJyk7XG4gICAgLy8gb3B0aW1pc2F0aW9uIGZvciBhcnJheSBpdGVyYXRvcnNcbiAgICBpZiAoaXNBcnJheUl0ZXJhdG9yTWV0aG9kKGl0ZXJGbikpIHtcbiAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShpdGVyYWJsZSk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHJlc3VsdCA9IGNhbGxGbihpdGVyYWJsZVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0ICYmIGlzUHJvdG90eXBlT2YkMShSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgICB9IHJldHVybiBuZXcgUmVzdWx0KGZhbHNlKTtcbiAgICB9XG4gICAgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihpdGVyYWJsZSwgaXRlckZuKTtcbiAgfVxuXG4gIG5leHQgPSBpdGVyYXRvci5uZXh0O1xuICB3aGlsZSAoIShzdGVwID0gY2FsbCQ0KG5leHQsIGl0ZXJhdG9yKSkuZG9uZSkge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBjYWxsRm4oc3RlcC52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsICd0aHJvdycsIGVycm9yKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ29iamVjdCcgJiYgcmVzdWx0ICYmIGlzUHJvdG90eXBlT2YkMShSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xufTtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IHdlbGxLbm93blN5bWJvbCRnO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciBjYWxsZWQgPSAwO1xuICB2YXIgaXRlcmF0b3JXaXRoUmV0dXJuID0ge1xuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IGRvbmU6ICEhY2FsbGVkKysgfTtcbiAgICB9LFxuICAgICdyZXR1cm4nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBTQUZFX0NMT1NJTkcgPSB0cnVlO1xuICAgIH1cbiAgfTtcbiAgaXRlcmF0b3JXaXRoUmV0dXJuW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tYXJyYXktZnJvbSwgbm8tdGhyb3ctbGl0ZXJhbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBBcnJheS5mcm9tKGl0ZXJhdG9yV2l0aFJldHVybiwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxudmFyIGNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbiQxID0gZnVuY3Rpb24gKGV4ZWMsIFNLSVBfQ0xPU0lORykge1xuICBpZiAoIVNLSVBfQ0xPU0lORyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBJVEVSQVRJT05fU1VQUE9SVCA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB7IGRvbmU6IElURVJBVElPTl9TVVBQT1JUID0gdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gICAgZXhlYyhvYmplY3QpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBJVEVSQVRJT05fU1VQUE9SVDtcbn07XG5cbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IkMSA9IHByb21pc2VOYXRpdmVDb25zdHJ1Y3RvcjtcbnZhciBjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24gPSBjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24kMTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQzID0gcHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xuXG52YXIgcHJvbWlzZVN0YXRpY3NJbmNvcnJlY3RJdGVyYXRpb24gPSBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQzIHx8ICFjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24oZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQxLmFsbChpdGVyYWJsZSkudGhlbih1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSk7XG59KTtcblxudmFyICQkNCA9IF9leHBvcnQ7XG52YXIgY2FsbCQzID0gZnVuY3Rpb25DYWxsO1xudmFyIGFDYWxsYWJsZSQxID0gYUNhbGxhYmxlJDk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkMiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5JDI7XG52YXIgcGVyZm9ybSQxID0gcGVyZm9ybSQzO1xudmFyIGl0ZXJhdGUkMSA9IGl0ZXJhdGUkMjtcbnZhciBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiQxID0gcHJvbWlzZVN0YXRpY3NJbmNvcnJlY3RJdGVyYXRpb247XG5cbi8vIGBQcm9taXNlLmFsbGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UuYWxsXG4kJDQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiQxIH0sIHtcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSQyLmYoQyk7XG4gICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtJDEoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRwcm9taXNlUmVzb2x2ZSA9IGFDYWxsYWJsZSQxKEMucmVzb2x2ZSk7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGl0ZXJhdGUkMShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gY291bnRlcisrO1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgY2FsbCQzKCRwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxudmFyICQkMyA9IF9leHBvcnQ7XG52YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IkMiA9IHByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5DT05TVFJVQ1RPUjtcbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSBwcm9taXNlTmF0aXZlQ29uc3RydWN0b3I7XG52YXIgZ2V0QnVpbHRJbiQxID0gZ2V0QnVpbHRJbiQ4O1xudmFyIGlzQ2FsbGFibGUgPSBpc0NhbGxhYmxlJGw7XG52YXIgZGVmaW5lQnVpbHRJbiQxID0gZGVmaW5lQnVpbHRJbiQ2O1xuXG52YXIgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciAmJiBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuXG4vLyBgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnByb3RvdHlwZS5jYXRjaFxuJCQzKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SJDIsIHJlYWw6IHRydWUgfSwge1xuICAnY2F0Y2gnOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgfVxufSk7XG5cbi8vIG1ha2VzIHN1cmUgdGhhdCBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzIGBQcm9taXNlI2NhdGNoYCBwcm9wZXJseSB3b3JrcyB3aXRoIHBhdGNoZWQgYFByb21pc2UjdGhlbmBcbmlmIChpc0NhbGxhYmxlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcikpIHtcbiAgdmFyIG1ldGhvZCA9IGdldEJ1aWx0SW4kMSgnUHJvbWlzZScpLnByb3RvdHlwZVsnY2F0Y2gnXTtcbiAgaWYgKE5hdGl2ZVByb21pc2VQcm90b3R5cGVbJ2NhdGNoJ10gIT09IG1ldGhvZCkge1xuICAgIGRlZmluZUJ1aWx0SW4kMShOYXRpdmVQcm9taXNlUHJvdG90eXBlLCAnY2F0Y2gnLCBtZXRob2QsIHsgdW5zYWZlOiB0cnVlIH0pO1xuICB9XG59XG5cbnZhciAkJDIgPSBfZXhwb3J0O1xudmFyIGNhbGwkMiA9IGZ1bmN0aW9uQ2FsbDtcbnZhciBhQ2FsbGFibGUgPSBhQ2FsbGFibGUkOTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSQxID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMjtcbnZhciBwZXJmb3JtID0gcGVyZm9ybSQzO1xudmFyIGl0ZXJhdGUgPSBpdGVyYXRlJDI7XG52YXIgUFJPTUlTRV9TVEFUSUNTX0lOQ09SUkVDVF9JVEVSQVRJT04gPSBwcm9taXNlU3RhdGljc0luY29ycmVjdEl0ZXJhdGlvbjtcblxuLy8gYFByb21pc2UucmFjZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmFjZVxuJCQyKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUsIGZvcmNlZDogUFJPTUlTRV9TVEFUSUNTX0lOQ09SUkVDVF9JVEVSQVRJT04gfSwge1xuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkMS5mKEMpO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHByb21pc2VSZXNvbHZlID0gYUNhbGxhYmxlKEMucmVzb2x2ZSk7XG4gICAgICBpdGVyYXRlKGl0ZXJhYmxlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICBjYWxsJDIoJHByb21pc2VSZXNvbHZlLCBDLCBwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZXJyb3IpIHJlamVjdChyZXN1bHQudmFsdWUpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuXG52YXIgJCQxID0gX2V4cG9ydDtcbnZhciBjYWxsJDEgPSBmdW5jdGlvbkNhbGw7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSQyO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SJDEgPSBwcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24uQ09OU1RSVUNUT1I7XG5cbi8vIGBQcm9taXNlLnJlamVjdGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmVqZWN0XG4kJDEoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQxIH0sIHtcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocikge1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZih0aGlzKTtcbiAgICBjYWxsJDEoY2FwYWJpbGl0eS5yZWplY3QsIHVuZGVmaW5lZCwgcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cbnZhciBhbk9iamVjdCQyID0gYW5PYmplY3QkYztcbnZhciBpc09iamVjdCA9IGlzT2JqZWN0JDg7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSQyO1xuXG52YXIgcHJvbWlzZVJlc29sdmUkMSA9IGZ1bmN0aW9uIChDLCB4KSB7XG4gIGFuT2JqZWN0JDIoQyk7XG4gIGlmIChpc09iamVjdCh4KSAmJiB4LmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4geDtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcbiAgdmFyIHJlc29sdmUgPSBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlO1xuICByZXNvbHZlKHgpO1xuICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbn07XG5cbnZhciAkID0gX2V4cG9ydDtcbnZhciBnZXRCdWlsdEluID0gZ2V0QnVpbHRJbiQ4O1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gcHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xudmFyIHByb21pc2VSZXNvbHZlID0gcHJvbWlzZVJlc29sdmUkMTtcblxuZ2V0QnVpbHRJbignUHJvbWlzZScpO1xuXG4vLyBgUHJvbWlzZS5yZXNvbHZlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5yZXNvbHZlXG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUsIGZvcmNlZDogRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgfSwge1xuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUodGhpcywgeCk7XG4gIH1cbn0pO1xuXG5jb25zdCBIYXJkd2FyZVdhbGxldEFjY291bnRzRm9ybSA9ICh7XG4gIGFjY291bnRzLFxuICBvblNlbGVjdGVkQ2hhbmdlZCxcbiAgb25TdWJtaXQsXG4gIG9uQ2hhbmdlUm91dGVcbn0pID0+IHtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBcImNob29zZS1sZWRnZXItYWNjb3VudC1mb3JtLXdyYXBwZXJcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IFtqc3hzKFwicFwiLCB7XG4gICAgICBjaGlsZHJlbjogW1wiV2UgZm91bmQgXCIsIGFjY291bnRzLmxlbmd0aCwgXCIgYWNjb3VudHMgb24geW91ciBkZXZpY2UuIFNlbGVjdCB0aGUgYWNjb3VudChzKSB5b3Ugd2lzaCB0byBjb25uZWN0LlwiXVxuICAgIH0pLCBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICBjbGFzc05hbWU6IFwiYnV0dG9uLXdyYXBwZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBqc3goXCJidXR0b25cIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBvbkNoYW5nZVJvdXRlKFwiU3BlY2lmeUhEUGF0aFwiKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogXCJIRC4uLi8wXCJcbiAgICAgIH0pKVxuICAgIH0pKSwganN4KFwiZm9ybVwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJmb3JtXCIsXG4gICAgICBvblN1Ym1pdDogZSA9PiB7XG4gICAgICAgIG9uU3VibWl0KGFjY291bnRzLCBlKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJud3MtZm9ybS1jb250cm9sXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBhY2NvdW50cy5tYXAoKGFjY291bnQsIGluZGV4KSA9PiBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImFjY291bnRcIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICAgICAgICAgICAgb25TZWxlY3RlZENoYW5nZWQoaW5kZXgsIGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGVja2VkOiBhY2NvdW50LnNlbGVjdGVkLFxuICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgIGlkOiBhY2NvdW50LmFjY291bnRJZCxcbiAgICAgICAgICAgICAgbmFtZTogYWNjb3VudC5hY2NvdW50SWQsXG4gICAgICAgICAgICAgIHZhbHVlOiBhY2NvdW50LmFjY291bnRJZFxuICAgICAgICAgICAgfSksIGpzeHMoXCJsYWJlbFwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgaHRtbEZvcjogYWNjb3VudC5hY2NvdW50SWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcIiBcIiwgYWNjb3VudC5hY2NvdW50SWRdXG4gICAgICAgICAgICB9KSksIGpzeChcImJyXCIsIHt9KV1cbiAgICAgICAgICB9KSwgaW5kZXgpKVxuICAgICAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiYWN0aW9uLWJ1dHRvbnNcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IGpzeChcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJtaWRkbGVCdXR0b25cIixcbiAgICAgICAgICAgIHR5cGU6IFwic3VibWl0XCIsXG4gICAgICAgICAgICBkaXNhYmxlZDogIWFjY291bnRzLnNvbWUoeCA9PiB4LnNlbGVjdGVkKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBcIkNvbm5lY3RcIlxuICAgICAgICAgIH0pKVxuICAgICAgICB9KSldXG4gICAgICB9KVxuICAgIH0pKV1cbiAgfSkpO1xufTtcblxudmFyIGltZyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCa0FBQUFaQ0FZQUFBREU2WVZqQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQVIzU1VSQlZIZ0JwVlo5YUpWVkdIK2U1NXozM2JpN3pZOWhNeit5TUFlTm9FSXE2QTlaUktRV0VzUU5GSUlwc2Y1WTlFK0dzRDlpQkVFRE1Va0RhNlNoUktLWllJV2lSa2FLYVVHVUdDS09UR01GODRQTk85OTc3M3ZPZWZxOTcyMHlLNVp6RC9kd1B0L25kMzdQMTdsRWs1UW51ejlyb1VrS1Q3VDViTmUrUWpUTkxDSHYyNGgxWGdoK09tdHdRWVBIMmpVWHdsblc5TlJvb3FlUGZMUzZNbW1RNTljZGVFR0psa0paQTVNR1ZlY29Bd2doQllaVFZZOWZ0dWFEU3k4eDh3OWZiRmw5NUpaQVh1dzlkbWVsa3ZSQXlYeFM3d01GcnlHNGJJeVdaaXF6UGdNaGFGZkdmbjNOWTNBWkc5c1BmL0R5OEhpZFp2eGtaYy9oMXBxblBsS2V5NnlzcE1xVWQ5alZBRVlZNlJDR0RRVHdqR0R3R1RnQWxid1JpalYxQzl2YW56NTc3dFQrNnIrWXJPejVybFhGclEvcVorRmJEeENmWFM1b09neGxuNHY0NzNmM3JiZ3dkbjdGSzUvTUNhSDJlQWc2WDhnM0syaUJNVGlCa05KVktib2QremU5bWdQWnNZL1VhaWNZekNFMUhncFpjNTU4b2xDVGpUdldMeHY5cDFuM2JWNDVpTzdUNXpxM1RVOWo5eFRPTHdRNUQ5dDQ4YUVZcnRHajJQLzJCcE5TNzhuWkpvUmRsRHNZZDh2cGh6MjczbHF5aFc1Um5sbnozaE9lNlNFd2dodnhQVU1UVmZZZTJycHVVT3FPa1plSXhkU2JzU0o4ZVRJQW1YeTV0ZnRyTVBremkwQzRCMlpETkhwK0lOdkxRVVJraFlpSjZnREdrbzM3NkRiRUo4azNtY25ZQlNlU00ycHRML1hHc3VyTm54Zm5ESVFOd0NLQURPMTg0NUVmNlRiazBNNTFnNGpvTWduY0R5Qm1rcnRzTkVNUW92Y0R4R1lzR0wyeUROQVV4UHYwVnlTczR5eGhmZVliYWJKZzBBd2crSUx5bEVCNm5LTXBTT3AwV0NSMStRU3VENEVMbGpOREVmeVJyZFhQQ1UxQlRFZ0Q3cHlPelZtQzJpQm0wS2dZQU1DRWVYb3ZvQ2xJamRLaVZkUTNGWWJ6bWF0eFdScU1QY05zREh5Zk5Xc2tXazVUa0poTkV3Vnl4QTZoTEw1Y2xMSnNXN3ZvRnhhNkxpUjVDQ09lV3pvM1hGeEt0eUVkeTN0bnA3VmFoQW9EcDZQRVZHdkp5ZTA5bDNQN0s5azlXUWlqWEJ2NEI2V0crMHB2RDB5YkZFQkhaNk9QaCsvT0dhQnNJdk5SQUdwL1pIdjFqSmVvbitvbXN6QmtGc3IzRmhzTEI3cmV2M0pMUUtWU3lmam1hVzJCSlNhdkRscVI3YzVWclIrNEFiTHR0YmtYTWVoSDdnakE4Z1ppRC90cStPci9BQlozZFVXL0o2MkxjUFVHY3JXOHBLU1ZGQWc2Y0h6M08wbDI1cVpIYS9YR3dXUGc5YUF3d3pkWkFhRFgrN3RiTnNNWWY1K2JwYVVTMGREUUVGOHJ0c1V4Q2JJNWU1S1J6R2hCTWlxTnhsbEtqdTdkOE5PWVhqc2VSQnl0UW5nY1ZETDN3RDlIKzd2ZjNZUzdtbm56cXJacHdTeHJ3a2gwNGNwTTVOVE15SmRIYklnYUVTeXhKNnRaNWNEYnczcWQwdHFWQ3AyNVNlLzR5WWRyNS96bS9laGp3dnB4WkhnTjBXbHViMC9ZdDdhd2R5a3FSWUZIeTZOVVFWckJkNG82cDZuZ3JWTDJCbzhrc3VKcW9YenE5TG45bTZyajlVNzRiNldqbzhPZVAwODJhWTVOVXhSc1l6d0RrZUZzVStNZFVVM1U0UEcwUXRiYWhxaGFkRE11SFR5NGZ2Uy85RXdJVXBkZXVXL1ppU2hPaXBGeFVSUmJOZFdFVEZNUlpyQ0ZsRVpHa3VQSGR5Y1RhZmdMRXhOaUk2WWZVcGNBQUFBQVNVVk9SSzVDWUlJPVwiO1xuXG5jb25zdCBXYWxsZXRDb25uZWN0aW5nID0gKHtcbiAgd2FsbGV0LFxuICBvbkNsb3NlTW9kYWxcbn0pID0+IHtcbiAgcmV0dXJuIGpzeHMoRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogW2pzeChNb2RhbEhlYWRlciwge1xuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBvbkNsb3NlTW9kYWw6IG9uQ2xvc2VNb2RhbFxuICAgIH0pLCBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICBjbGFzc05hbWU6IFwiY29ubmVjdGluZy13cmFwcGVyXCJcbiAgICB9LCB7XG4gICAgICBjaGlsZHJlbjoganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNvbnRlbnRcIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiaWNvblwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjoganN4KFwiaW1nXCIsIHtcbiAgICAgICAgICAgIHNyYzogd2FsbGV0ID09PSBudWxsIHx8IHdhbGxldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2FsbGV0Lm1ldGFkYXRhLmljb25VcmwsXG4gICAgICAgICAgICBhbHQ6IHdhbGxldCA9PT0gbnVsbCB8fCB3YWxsZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdhbGxldC5tZXRhZGF0YS5uYW1lXG4gICAgICAgICAgfSlcbiAgICAgICAgfSkpLCBqc3goXCJoM1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY29ubmVjdGluZy1uYW1lXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiB3YWxsZXQgPT09IG51bGwgfHwgd2FsbGV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3YWxsZXQubWV0YWRhdGEubmFtZVxuICAgICAgICB9KSksIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImNvbm5lY3RpbmctZGV0YWlsc1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzcGlubmVyXCJcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjaGlsZHJlbjoganN4KFwiaW1nXCIsIHtcbiAgICAgICAgICAgICAgc3JjOiBpbWcsXG4gICAgICAgICAgICAgIGFsdDogXCJsb2FkaW5nLWljb25cIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSksIGpzeHMoXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbdHJhbnNsYXRlKFwibW9kYWwud2FsbGV0LmNvbm5lY3RpbmdUb1wiKSwgXCIgXCIsIHdhbGxldCA9PT0gbnVsbCB8fCB3YWxsZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdhbGxldC5tZXRhZGF0YS5uYW1lLCBcIi4uLlwiXVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY29ubmVjdGluZy1tZXNzYWdlXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoYG1vZGFsLndhbGxldC5jb25uZWN0aW5nTWVzc2FnZS4ke3dhbGxldCA9PT0gbnVsbCB8fCB3YWxsZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdhbGxldC50eXBlfWApXG4gICAgICAgICAgfSlcbiAgICAgICAgfSkpXVxuICAgICAgfSkpXG4gICAgfSkpXVxuICB9KTtcbn07XG5cbmNvbnN0IExlZGdlckRldmljZUljb24gPSAoKSA9PiB7XG4gIHJldHVybiBqc3hzKFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjMxN1wiLFxuICAgIGhlaWdodDogXCIxNTdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMTcgMTU3XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IFtqc3goXCJwYXRoXCIsIHtcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGQ6IFwiTTI0OS45OSAxNi4wOTk0QzI3MC4wNjMgLTAuODY0MTU1IDI4OS43ODggMS41ODg3MyAzMDEuNDk3IDEwLjczNjVDMzA3LjQwMiAxNS4zNDk5IDMxMS4yNzggMjEuNjU3NSAzMTIuMjY3IDI4LjEyNThDMzEzLjI0NyAzNC41NDEyIDMxMS40MTMgNDEuMjIzMyAzMDUuNjkyIDQ2LjgwNDRDMjk3LjM2NiA1NC45MjczIDI4Ni4zNDMgNTUuMzM2MiAyNzMuMDE1IDUxLjUxMDlDMjYxLjY1NCA0OC4yNSAyNDkuMDU4IDQyLjAzNzcgMjM1LjcyNiAzNS40NjI3TDIzNS43MjYgMzUuNDYyNkwyMzUuNzE3IDM1LjQ1OEMyMzMuMzY3IDM0LjI5OTIgMjMwLjk5NSAzMy4xMjkgMjI4LjYwMiAzMS45NjE4QzIxMi43NDIgMjQuMjI1MyAxOTYuMDY3IDE2LjY1NzUgMTc5Ljg0MiAxMy44NTk1QzE2My41MzggMTEuMDQ3OSAxNDcuNTUyIDEzLjAzMTMgMTMzLjI2NiAyNC41MjJDMTI4LjAzMiAyOC43MzIgMTIzLjQ3OCAzNS4yMDg2IDEyMS43MTYgNDQuODIwNUMxMTkuOTYxIDU0LjM5NDcgMTIwLjk5MiA2Ni45NzcxIDEyNi43MDMgODMuNDMxMUMxMzUuNDMyIDEwOC41ODMgMTMyLjg5OSAxMjYuNjc3IDEyMy41NzUgMTM4LjA2M0MxMTQuMjE3IDE0OS40OTEgOTcuNTYxNCAxNTQuNzMzIDc2Ljc4ODcgMTUzLjEyMUM1NS4wMDQzIDE1MS40MyAyOS4wNjIxIDE0Mi4yMDYgMy4yOTg2NyAxMjUuMjI3TDAuODg3ODE3IDEyNy45NDJDMjcuMjQ3MiAxNDUuNDA1IDUzLjkyNTEgMTU0Ljk1MiA3Ni41MTA1IDE1Ni43MDVDOTcuOTAyOCAxNTguMzY1IDExNS45NiAxNTMuMDM1IDEyNi4zNTYgMTQwLjM0MUMxMzYuNzg1IDEyNy42MDYgMTM5LjA0NSAxMDguMDI5IDEzMC4wOTkgODIuMjUyNEMxMjQuNTIxIDY2LjE4MDEgMTIzLjY0MiA1NC4yNDkzIDEyNS4yNTIgNDUuNDY4N0MxMjYuODU0IDM2LjcyNTggMTMwLjk0IDMxLjAwNiAxMzUuNTE5IDI3LjMyMzJDMTQ4Ljc5NCAxNi42NDU4IDE2My42NDkgMTQuNzE1IDE3OS4yMzEgMTcuNDAyMUMxOTQuODkxIDIwLjEwMjcgMjExLjE0NiAyNy40NDYzIDIyNy4wMjYgMzUuMTkyOEMyMjkuMzgxIDM2LjM0MTUgMjMxLjcyOSAzNy41MDAxIDIzNC4wNjYgMzguNjUzMUwyMzQuMDczIDM4LjY1NjhDMjQ3LjM4MiA0NS4yMjMgMjYwLjMyNCA1MS42MDggMjcyLjAyNCA1NC45NjYyQzI4NS44MTkgNTguOTI1OCAyOTguNDkzIDU4Ljg1MDEgMzA4LjIwMiA0OS4zNzc2QzMxNC43NjQgNDIuOTc1OSAzMTYuOTc0IDM1LjEyODggMzE1LjgyIDI3LjU4MjZDMzE0LjY3NSAyMC4wODkzIDMxMC4yMzcgMTMuMDAyOSAzMDMuNzEgNy45MDM2M0MyOTAuNTU1IC0yLjM3MzgyIDI2OC45MzggLTQuNjIwMzggMjQ3LjY3IDEzLjM1MzdMMjQ5Ljk5IDE2LjA5OTRaXCIsXG4gICAgICBmaWxsOiBcInVybCgjcGFpbnQwX2xpbmVhcl8zXzY3MilcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTI2MC4yNjQgMTcuODc2N0wxNzcuNjA1IDg5LjQ2NDlMMTU3LjY3OSA3My45NjY0TDIzOS4yMyAzLjg1NDIzTDI2MC4yNjQgMTcuODc2N1pcIixcbiAgICAgIGZpbGw6IFwiIzZBNzA3NVwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMjA1LjkzOSA1NC40NTc3TDE5OS43NjQgNTAuMjYzNkwyMzMuMzE2IDIwLjkwNTNMMjM5LjkwNyAyNS44Mzk1TDIwNS45MzkgNTQuNDU3N1pcIixcbiAgICAgIGZpbGw6IFwiIzQ5NEU1MlwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMjYwLjI2NCAxNy44NzU3TDE3Ny42MDUgODkuNDYzOUwxODIuMDMzIDk4LjMyMDJMMjY0LjMyMyAyNi4zNjNMMjYwLjI2NCAxNy44NzU3WlwiLFxuICAgICAgZmlsbDogXCIjNDk0RTUyXCJcbiAgICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0xNzcuMjM2IDg5LjQ2NDZMMTgxLjI5NSA5OC4zMjA5TDE2NS4wNTkgODUuNzc0NUwxNzAuOTYzIDg1LjAzNjVMMTc3LjIzNiA4OS40NjQ2WlwiLFxuICAgICAgZmlsbDogXCJibGFja1wiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNOTMuNDcwOCA5OS42Mzg0TDkxLjk5NDggMTEwLjEzTDE3NC42NTMgOTIuODk0TDE2NC42OSA4NS43NzQ5TDkzLjQ3MDggOTkuNjM4NFpcIixcbiAgICAgIGZpbGw6IFwiI0RDREFEQVwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNOTMuMTE1NyAxMDQuMzIzTDk0LjMxNCAxMDAuMTI5TDE2NS42MTMgODYuMzQ4M0wxNjkuMjA4IDg5LjM0NEw5My4xMTU3IDEwNC4zMjNaXCIsXG4gICAgICBmaWxsOiBcIiNDMUMxQzFcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTk0LjIwODYgOTkuNzk2M0w4Ni4wOTAzIDEwMS4yNzJMOTIuMzYzNSAxMTAuMTI5TDk0LjIwODYgOTkuNzk2M1pcIixcbiAgICAgIGZpbGw6IFwiI0IzQUFBQVwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJNODYuMDkwMyAxMDAuOTA3TDg5LjAwMjcgNzQuMTMwNEwxNzguNDU1IDU1LjI0MTZDMTg0LjY5NSA1My45OTYyIDE5NS43NjYgNTQuNzY3NSAxOTcuMTc3IDYzLjcwNThDMTk4LjI4NCA3MC43MTcgMTk1LjUwNiA3My45OTQzIDE5MS42MjggNzcuMzU5MkMxODguNDk1IDgwLjA2NzEgMTgwLjE1MiA4Mi40NjQ2IDE3OC4zNDMgODIuODk0NEMxNzguMjkzIDgyLjkwNjQgMTc4LjI0MSA4Mi45MTg4IDE3OC4xODYgODIuOTMxOUMxNzcuMzggODMuMTI0NSAxNzYuMDA3IDgzLjQ1MjUgMTcwLjY0NCA4NC41MDg4QzE2OS4wODUgODQuODE1OCAxNjcuMzgyIDg1LjE1MDEgMTY1LjU1NyA4NS41MDc4TDE2NC45MzMgODUuNjNDMTQ2LjMxMiA4OS4yNzY0IDExNS41MjggOTUuMjI5NyA5My45ODQ0IDk5LjM4NDlDOTEuMTgwOCA5OS45MjU3IDg4LjUzMzcgMTAwLjQzNiA4Ni4wOTAzIDEwMC45MDdaTTE4NS4wNzYgNzUuNTU0QzE5MC43NDggNzMuMzUzNSAxOTMuOTkgNjguMDc0NSAxOTIuMzE4IDYzLjc2MzFDMTkwLjY0NSA1OS40NTE3IDE4NC42OTEgNTcuNzQwNSAxNzkuMDE5IDU5Ljk0MUMxNzMuMzQ3IDYyLjE0MTYgMTcwLjEwNSA2Ny40MjA2IDE3MS43NzggNzEuNzMyQzE3My40NSA3Ni4wNDM0IDE3OS40MDQgNzcuNzU0NiAxODUuMDc2IDc1LjU1NFpcIixcbiAgICAgIGZpbGw6IFwiI0Y0RjFFOFwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMTk5Ljc2NCA1MC4zOTk0TDE5Ni43NjggNDguMzA0M0wyMzIuMTk0IDE4LjA0NTRMMjMzLjMxNiAyMS42NDAzTDE5OS43NjQgNTAuMzk5NFpcIixcbiAgICAgIGZpbGw6IFwiYmxhY2tcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTIzOS45NjggMjUuOTk0M0wyMzIuNTg4IDIwLjQ1OTJWMTcuNTA3MUwyNDEuODEzIDI0LjUxODNMMjM5Ljk2OCAyNS45OTQzWlwiLFxuICAgICAgZmlsbDogXCJibGFja1wiXG4gICAgfSksIGpzeChcImVsbGlwc2VcIiwge1xuICAgICAgY3g6IFwiMTgyLjA4NFwiLFxuICAgICAgY3k6IFwiNjguMDgxMVwiLFxuICAgICAgcng6IFwiMTAuMjQyXCIsXG4gICAgICByeTogXCI3LjQ2NzcyXCIsXG4gICAgICB0cmFuc2Zvcm06IFwicm90YXRlKC0yMy43OTQ5IDE4Mi4wODQgNjguMDgxMSlcIixcbiAgICAgIGZpbGw6IFwiIzQ5NEU1MlwiXG4gICAgfSksIGpzeChcImVsbGlwc2VcIiwge1xuICAgICAgY3g6IFwiMTgyLjA4NFwiLFxuICAgICAgY3k6IFwiNjguMDgxNlwiLFxuICAgICAgcng6IFwiNi42ODQ2MlwiLFxuICAgICAgcnk6IFwiNC44NzM5NFwiLFxuICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZSgtMjMuNzk0OSAxODIuMDg0IDY4LjA4MTYpXCIsXG4gICAgICBmaWxsOiBcIiM0OTRFNTJcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGQ6IFwiTTIzOC43MjUgMi45MzA5NEwyNjAuMzY4IDE3LjI1NjRMMjY0Ljg2NSAyNi40NTU2TDE4MS42MTUgOTkuMDM0MUwxNzUuMTYgOTQuMzExTDkyLjAwMjggMTEwLjk0N0w4NS4zMjY3IDEwMS4zOTlMODguMzI2OSA3My44MTU3TDE3OC4xMTggNTQuODU1M0wyMzguNzI1IDIuOTMwOTRaTTE3OC41OTkgNTYuMjYyMkw4OS42Nzg2IDc1LjAzODhMODYuOTMyMSAxMDAuMjlDODkuMDk3OSA5OS44NzI1IDkxLjQxMjQgOTkuNDI2MyA5My44NDQ2IDk4Ljk1NzJDMTE1LjM4OCA5NC44MDE5IDE0Ni4xNzEgODguODQ4OCAxNjQuNzkxIDg1LjIwMjZMMTY1LjQxNSA4NS4wODA0QzE2Ny4yNCA4NC43MjI4IDE2OC45NDMgODQuMzg4NSAxNzAuNTAxIDg0LjA4MTZDMTc1Ljg1MyA4My4wMjc1IDE3Ny4yMTkgODIuNzAxIDE3OC4wMTUgODIuNTEwN0MxNzguMDcgODIuNDk3NiAxNzguMTIyIDgyLjQ4NTIgMTc4LjE3MyA4Mi40NzMyQzE3OS4wNDggODIuMjY1MiAxODEuNTU4IDgxLjU2NjkgMTg0LjIzNSA4MC41ODUxQzE4Ni43NDIgNzkuNjY1NSAxODkuMjg2IDc4LjUzNTQgMTkwLjgwMiA3Ny4zNzU4TDE5MS4xNTEgNzcuMDkyMkwxOTEuNjQ0IDc2LjY1OTVDMTkzLjM0MSA3NS4xNDcgMTk0LjcyMyA3My42NzM5IDE5NS42MSA3MS44NzFDMTk2LjU3MSA2OS45MTYgMTk2Ljk4MiA2Ny41MDI5IDE5Ni40NDggNjQuMTE3OEMxOTUuOCA2MC4wMTMxIDE5Mi45NTkgNTcuNzU3NCAxODkuNDA4IDU2LjY1NjZDMTg1LjgzMyA1NS41NDgzIDE4MS42MzcgNTUuNjU2NiAxNzguNjAzIDU2LjI2MTVDMTc4LjYwMSA1Ni4yNjE3IDE3OC42IDU2LjI2MiAxNzguNTk5IDU2LjI2MjJaTTE5Mi42MzEgNzcuNzU2NUwyNTkuNTU1IDE4Ljk1MzFMMjYzLjA0MiAyNi4wODY5TDE4MS44MDggOTYuOTA3OEwxNzguMTMyIDg5LjU3MTNMMTkxLjcyNCA3OC41MjlDMTkxLjg1OSA3OC40MjQ5IDE5MS45ODggNzguMzIgMTkyLjExIDc4LjIxNDRMMTkyLjExMSA3OC4yMTM2QzE5Mi4yODYgNzguMDYxNyAxOTIuNDYgNzcuOTA5NCAxOTIuNjMxIDc3Ljc1NjVaTTE4NS40OTEgODEuNjkwOEMxODUuMjQgODEuNzg2OCAxODQuOTkgODEuODgwMiAxODQuNzQzIDgxLjk3MDlDMTgyLjAxMyA4Mi45NzIzIDE3OS40NDcgODMuNjg3NSAxNzguNTE0IDgzLjkwOTNDMTc4LjQ2MyA4My45MjEzIDE3OC40MTEgODMuOTMzOCAxNzguMzU2IDgzLjk0NjhDMTc3LjYzNSA4NC4xMTkyIDE3Ni40NzIgODQuMzk3MSAxNzIuNDkxIDg1LjE5MTlMMTc3LjE3MiA4OC40NDkyTDE4NS40OTEgODEuNjkwOFpNMTc2LjYzMSA4OS44NzA3TDE3MC40NzkgODUuNTkwM0MxNjkuMzA2IDg1LjgyMTMgMTY4LjA1NCA4Ni4wNjczIDE2Ni43MzEgODYuMzI2NUwxNzUuNzY5IDkyLjkyNzZMMTc5LjU0OCA5NS42OTI0TDE3Ni42MzEgODkuODcwN1pNMTY0Ljc1OCA4Ni43MTMyQzE0Ni4yNTIgOTAuMzM2MiAxMTYuMDI3IDk2LjE4MTcgOTQuNjMyNCAxMDAuMzA4TDkzLjIyNTggMTA5LjE5N0wxNzMuNTQzIDkzLjEyOTNMMTY0Ljc1OCA4Ni43MTMyWk05MS44ODggMTA4LjIwN0w5My4wOTA5IDEwMC42MDZDOTEuMDg0OCAxMDAuOTkzIDg5LjE2NDIgMTAxLjM2MyA4Ny4zNDcxIDEwMS43MTNMOTEuODg4IDEwOC4yMDdaTTI1OC41ODEgMTcuODQzNkwxOTcuMzA2IDcxLjY4NDFDMTk4LjE0MiA2OS41Nzc5IDE5OC40MSA2Ny4wNzk1IDE5Ny45MDYgNjMuODg3NkMxOTcuMTQzIDU5LjA1MzkgMTkzLjc0MyA1Ni40NTQ5IDE4OS44NDUgNTUuMjQ2N0MxODYuOTIxIDU0LjM0MDIgMTgzLjY2MiA1NC4xOTE2IDE4MC44NjEgNTQuNDQ5TDIzOC44NCA0Ljc3NjY4TDI1OC41ODEgMTcuODQzNlpNMjMyLjUwNSAxNi44MkwyNDMuMDg5IDI0LjU2NDNMMjA1LjkxNSA1Ni41MTA2TDE5Ni4wNDIgNDguMDY2NUwyMzIuNTA1IDE2LjgyWk0yMzIuMTE4IDE5LjA5NkwxOTguMzEyIDQ4LjA2NTRMMTk5Ljc0NCA0OS4yOUwyMzIuNTg0IDIwLjk0MjRMMjMyLjExOCAxOS4wOTZaTTIzMy40NTYgMjIuMTM5NkwyMDAuODc4IDUwLjI2MDRMMjA1LjkxMyA1NC41NjY0TDIzOS4wNDEgMjYuMDk2OUwyMzMuNDU2IDIyLjEzOTZaTTI0MC4xOTUgMjUuMTA1NEwyNDAuNzE3IDI0LjY1NzFMMjMzLjc1OSAxOS41NjYzTDIzNC4wNiAyMC43NTg2TDI0MC4xOTUgMjUuMTA1NFpcIixcbiAgICAgIGZpbGw6IFwiYmxhY2tcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGQ6IFwiTTE5MC4xOTQgNjkuOTc0NEMxOTEuMzIgNjguMTQwOSAxOTEuNTc2IDY2LjIyNzEgMTkwLjk0MiA2NC41OTM3QzE5MC4zMDggNjIuOTYwMyAxODguODI5IDYxLjcxOTggMTg2Ljc2MSA2MS4xMjU0QzE4NC42OTEgNjAuNTMwNyAxODIuMTE2IDYwLjYxOTYgMTc5LjU1MyA2MS42MTM5QzE3Ni45OTEgNjIuNjA4MSAxNzUuMDI5IDY0LjI3OTQgMTczLjkwMiA2Ni4xMTQxQzE3Mi43NzYgNjcuOTQ3NyAxNzIuNTIgNjkuODYxNCAxNzMuMTU0IDcxLjQ5NDhDMTczLjc4OCA3My4xMjgyIDE3NS4yNjcgNzQuMzY4NyAxNzcuMzM1IDc0Ljk2MzFDMTc5LjQwNSA3NS41NTc4IDE4MS45OCA3NS40Njg5IDE4NC41NDMgNzQuNDc0NkMxODcuMTA1IDczLjQ4MDQgMTg5LjA2NyA3MS44MDkxIDE5MC4xOTQgNjkuOTc0NFpNMTg1LjA3NyA3NS44NTA4QzE5MC43NDkgNzMuNjUwMiAxOTMuOTkxIDY4LjM3MTIgMTkyLjMxOCA2NC4wNTk4QzE5MC42NDUgNTkuNzQ4NCAxODQuNjkxIDU4LjAzNzIgMTc5LjAxOSA2MC4yMzc4QzE3My4zNDcgNjIuNDM4MyAxNzAuMTA1IDY3LjcxNzMgMTcxLjc3OCA3Mi4wMjg3QzE3My40NTEgNzYuMzQwMSAxNzkuNDA1IDc4LjA1MTMgMTg1LjA3NyA3NS44NTA4WlwiLFxuICAgICAgZmlsbDogXCJibGFja1wiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJNMTg3LjM5MSA2OS4xNjlDMTg4LjEyNyA2Ny45NzEzIDE4OC4yNjYgNjYuNzcyMSAxODcuODgxIDY1Ljc4MTJDMTg3LjQ5NyA2NC43OTAzIDE4Ni41ODYgNjMuOTk4NCAxODUuMjM1IDYzLjYxMDJDMTgzLjg4MyA2My4yMjE2IDE4Mi4xNzMgNjMuMjc0MSAxODAuNDU2IDYzLjk0MDRDMTc4LjczOCA2NC42MDY4IDE3Ny40NDEgNjUuNzIwOCAxNzYuNzA1IDY2LjkxOTZDMTc1Ljk2OSA2OC4xMTcyIDE3NS44MyA2OS4zMTY1IDE3Ni4yMTUgNzAuMzA3NEMxNzYuNTk5IDcxLjI5ODMgMTc3LjUxMSA3Mi4wOTAxIDE3OC44NjEgNzIuNDc4M0MxODAuMjE0IDcyLjg2NjkgMTgxLjkyMyA3Mi44MTQ0IDE4My42NCA3Mi4xNDgxQzE4NS4zNTggNzEuNDgxOCAxODYuNjU1IDcwLjM2NzggMTg3LjM5MSA2OS4xNjlaTTE4NC4xNzQgNzMuNTI0MkMxODguMTU2IDcxLjk3OTUgMTkwLjQzMiA2OC4yNzM4IDE4OS4yNTcgNjUuMjQ3M0MxODguMDgzIDYyLjIyMDggMTgzLjkwNCA2MS4wMTk2IDE3OS45MjIgNjIuNTY0M0MxNzUuOTQgNjQuMTA5MSAxNzMuNjY1IDY3LjgxNDggMTc0LjgzOSA3MC44NDEyQzE3Ni4wMTMgNzMuODY3NyAxODAuMTkzIDc1LjA2ODkgMTg0LjE3NCA3My41MjQyWlwiLFxuICAgICAgZmlsbDogXCJibGFja1wiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMjQwLjQ5OSA0MS4yNDQxQzIzOS43NDQgNDAuMzY0OSAyMzkuODQ0IDM5LjA0IDI0MC43MjQgMzguMjg1TDI0OS43ODEgMzAuNTA2N0MyNTAuNjYgMjkuNzUxNiAyNTEuOTg1IDI5Ljg1MjMgMjUyLjc0IDMwLjczMTVWMzAuNzMxNUMyNTMuNDk1IDMxLjYxMDggMjUzLjM5NSAzMi45MzU2IDI1Mi41MTYgMzMuNjkwN0wyNDMuNDU4IDQxLjQ2OUMyNDIuNTc5IDQyLjIyNCAyNDEuMjU0IDQyLjEyMzQgMjQwLjQ5OSA0MS4yNDQxVjQxLjI0NDFaXCIsXG4gICAgICBmaWxsOiBcImJsYWNrXCJcbiAgICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICBkOiBcIk0yNTAuNzQzIDMxLjYyNjVMMjQxLjY4NSAzOS40MDQ4QzI0MS40MjQgMzkuNjI4NyAyNDEuMzk1IDQwLjAyMTcgMjQxLjYxOSA0MC4yODI1QzI0MS44NDIgNDAuNTQzMyAyNDIuMjM1IDQwLjU3MzEgMjQyLjQ5NiA0MC4zNDkyTDI1MS41NTQgMzIuNTcwOUMyNTEuODE1IDMyLjM0NjkgMjUxLjg0NSAzMS45NTQgMjUxLjYyMSAzMS42OTMyQzI1MS4zOTcgMzEuNDMyNCAyNTEuMDA0IDMxLjQwMjUgMjUwLjc0MyAzMS42MjY1Wk0yNDAuNzI0IDM4LjI4NUMyMzkuODQ0IDM5LjA0IDIzOS43NDQgNDAuMzY0OSAyNDAuNDk5IDQxLjI0NDFDMjQxLjI1NCA0Mi4xMjM0IDI0Mi41NzkgNDIuMjI0IDI0My40NTggNDEuNDY5TDI1Mi41MTYgMzMuNjkwN0MyNTMuMzk1IDMyLjkzNTYgMjUzLjQ5NSAzMS42MTA4IDI1Mi43NCAzMC43MzE1QzI1MS45ODUgMjkuODUyMyAyNTAuNjYgMjkuNzUxNiAyNDkuNzgxIDMwLjUwNjdMMjQwLjcyNCAzOC4yODVaXCIsXG4gICAgICBmaWxsOiBcImJsYWNrXCJcbiAgICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgICBkOiBcIk0yMDUuNzc5IDcxLjQ2NDdDMjA1LjAwNSA3MC41NjQyIDIwNS4xMDggNjkuMjA3MyAyMDYuMDA5IDY4LjQzMzlMMjE0Ljk4OSA2MC43MjE4QzIxNS44OSA1OS45NDg1IDIxNy4yNDcgNjAuMDUxNiAyMTguMDIgNjAuOTUyMVY2MC45NTIxQzIxOC43OTMgNjEuODUyNiAyMTguNjkgNjMuMjA5NSAyMTcuNzkgNjMuOTgyOUwyMDguODA5IDcxLjY5NUMyMDcuOTA5IDcyLjQ2ODMgMjA2LjU1MiA3Mi4zNjUyIDIwNS43NzkgNzEuNDY0N1Y3MS40NjQ3WlwiLFxuICAgICAgZmlsbDogXCJibGFja1wiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJNMjE1Ljk1MSA2MS44NDE2TDIwNi45NyA2OS41NTM3QzIwNi42ODggNjkuNzk2IDIwNi42NTYgNzAuMjIxIDIwNi44OTggNzAuNTAzMUMyMDcuMTQxIDcwLjc4NTEgMjA3LjU2NiA3MC44MTc0IDIwNy44NDggNzAuNTc1MkwyMTYuODI4IDYyLjg2M0MyMTcuMTEgNjIuNjIwOCAyMTcuMTQzIDYyLjE5NTggMjE2LjkgNjEuOTEzN0MyMTYuNjU4IDYxLjYzMTcgMjE2LjIzMyA2MS41OTk0IDIxNS45NTEgNjEuODQxNlpNMjA2LjAwOSA2OC40MzM5QzIwNS4xMDggNjkuMjA3MyAyMDUuMDA1IDcwLjU2NDIgMjA1Ljc3OSA3MS40NjQ3QzIwNi41NTIgNzIuMzY1MiAyMDcuOTA5IDcyLjQ2ODMgMjA4LjgwOSA3MS42OTVMMjE3Ljc5IDYzLjk4MjlDMjE4LjY5IDYzLjIwOTUgMjE4Ljc5MyA2MS44NTI2IDIxOC4wMiA2MC45NTIxQzIxNy4yNDcgNjAuMDUxNiAyMTUuODkgNTkuOTQ4NSAyMTQuOTg5IDYwLjcyMThMMjA2LjAwOSA2OC40MzM5WlwiLFxuICAgICAgZmlsbDogXCJibGFja1wiXG4gICAgfSksIGpzeChcImNpcmNsZVwiLCB7XG4gICAgICBjeDogXCIxNDEuMzU2XCIsXG4gICAgICBjeTogXCIxOS41MjVcIixcbiAgICAgIHI6IFwiMTAuMTg1NVwiLFxuICAgICAgZmlsbDogXCIjRkU4OUI0XCJcbiAgICB9KSwganN4KFwiZWxsaXBzZVwiLCB7XG4gICAgICBjeDogXCIxMzkuMDYyXCIsXG4gICAgICBjeTogXCIxNC43MDk0XCIsXG4gICAgICByeDogXCIyLjQyNTE5XCIsXG4gICAgICByeTogXCIxLjk0MDE1XCIsXG4gICAgICB0cmFuc2Zvcm06IFwicm90YXRlKC0zNC41NDQgMTM5LjA2MiAxNC43MDk0KVwiLFxuICAgICAgZmlsbDogXCIjRkRGN0ZGXCJcbiAgICB9KSwganN4KFwiY2lyY2xlXCIsIHtcbiAgICAgIGN4OiBcIjI1Mi40ODlcIixcbiAgICAgIGN5OiBcIjc5Ljc1NzdcIixcbiAgICAgIHI6IFwiNy43ODg5M1wiLFxuICAgICAgZmlsbDogXCIjRUM1MjM2XCJcbiAgICB9KSwganN4KFwiZWxsaXBzZVwiLCB7XG4gICAgICBjeDogXCIyNTAuNDM0XCIsXG4gICAgICBjeTogXCI3Ni4zNzAxXCIsXG4gICAgICByeDogXCIyLjYxMjcyXCIsXG4gICAgICByeTogXCIyLjA5MDE4XCIsXG4gICAgICB0cmFuc2Zvcm06IFwicm90YXRlKC0zNC41NDQgMjUwLjQzNCA3Ni4zNzAxKVwiLFxuICAgICAgZmlsbDogXCIjRURCNjlEXCJcbiAgICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgICBkOiBcIk0xMDAuNDM2IDc5LjkyNTRDMTAwLjQ2MSA3OS42NTY3IDEwMC43MzIgNzkuMzg5NyAxMDEuMDQyIDc5LjMyOUwxMDYuNjU3IDc4LjIyOTlDMTA3LjU4NyA3OC4wNDc4IDEwOC4yODEgNzguNTUzNiAxMDguMjA3IDc5LjM1OTZMMTA3Ljc1OSA4NC4yMjQzQzEwNy43MzQgODQuNDkzIDEwNy40NjMgODQuNzYgMTA3LjE1MyA4NC44MjA3TDEwMC40MTYgODYuMTM5NkMxMDAuMTA2IDg2LjIwMDMgOTkuODc0MiA4Ni4wMzE3IDk5Ljg5OSA4NS43NjMxTDEwMC40MzYgNzkuOTI1NFpcIixcbiAgICAgIGZpbGw6IFwiI0IzQUFBQVwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJNOTUuODU1MyA4MS43Nzc1Qzk1LjkyOTQgODAuOTcxNSA5Ni43NDM3IDgwLjE3MDQgOTcuNjczOSA3OS45ODgzTDk4Ljc5NjggNzkuNzY4NUM5OS4xMDY5IDc5LjcwNzggOTkuMzM4MiA3OS44NzY0IDk5LjMxMzUgODAuMTQ1MUw5OS4xMzQ0IDgyLjA5MUM5OS4xMDk2IDgyLjM1OTcgOTguODM4MiA4Mi42MjY3IDk4LjUyODIgODIuNjg3NEw5Ni4yODI0IDgzLjEyN0M5NS45NzIzIDgzLjE4NzcgOTUuNzQxIDgzLjAxOTEgOTUuNzY1NyA4Mi43NTA1TDk1Ljg1NTMgODEuNzc3NVpcIixcbiAgICAgIGZpbGw6IFwiI0IzQUFBQVwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJNOTUuNTg2NSA4NC42OTY1Qzk1LjYxMTIgODQuNDI3OCA5NS44ODI2IDg0LjE2MDggOTYuMTkyNyA4NC4xMDAxTDk4LjQzODUgODMuNjYwNUM5OC43NDg2IDgzLjU5OTggOTguOTc5OSA4My43Njg0IDk4Ljk1NTIgODQuMDM3TDk4Ljc3NjEgODUuOTgyOUM5OC43NTEzIDg2LjI1MTYgOTguNDc5OSA4Ni41MTg2IDk4LjE2OTkgODYuNTc5M0w5NS45MjQxIDg3LjAxOUM5NS42MTQgODcuMDc5NyA5NS4zODI3IDg2LjkxMTEgOTUuNDA3NCA4Ni42NDI0TDk1LjU4NjUgODQuNjk2NVpcIixcbiAgICAgIGZpbGw6IFwiI0IzQUFBQVwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJNOTUuMjI4MiA4OC41ODg0Qzk1LjI1MjkgODguMzE5NyA5NS41MjQ0IDg4LjA1MjcgOTUuODM0NCA4Ny45OTJMOTguMDgwMiA4Ny41NTI0Qzk4LjM5MDMgODcuNDkxNyA5OC42MjE2IDg3LjY2MDMgOTguNTk2OSA4Ny45MjlMOTguNDE3OCA4OS44NzQ5Qzk4LjM5MzEgOTAuMTQzNSA5OC4xMjE2IDkwLjQxMDUgOTcuODExNiA5MC40NzEyTDk2LjY4ODcgOTAuNjkxMUM5NS43NTg0IDkwLjg3MzIgOTUuMDY0NSA5MC4zNjc0IDk1LjEzODcgODkuNTYxNEw5NS4yMjgyIDg4LjU4ODRaXCIsXG4gICAgICBmaWxsOiBcIiNCM0FBQUFcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGQ6IFwiTTk5LjcxOTcgODcuNzA5Qzk5Ljc0NDQgODcuNDQwMyAxMDAuMDE2IDg3LjE3MzMgMTAwLjMyNiA4Ny4xMTI2TDEwMi41NzIgODYuNjczQzEwMi44ODIgODYuNjEyMyAxMDMuMTEzIDg2Ljc4MDkgMTAzLjA4OCA4Ny4wNDk2TDEwMi45MDkgODguOTk1NUMxMDIuODg1IDg5LjI2NDEgMTAyLjYxMyA4OS41MzEyIDEwMi4zMDMgODkuNTkxOUwxMDAuMDU3IDkwLjAzMTVDOTkuNzQ3MiA5MC4wOTIyIDk5LjUxNTkgODkuOTIzNiA5OS41NDA2IDg5LjY1NDlMOTkuNzE5NyA4Ny43MDlaXCIsXG4gICAgICBmaWxsOiBcIiNCM0FBQUFcIlxuICAgIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGQ6IFwiTTEwNC4yMTEgODYuODI5OEMxMDQuMjM2IDg2LjU2MTEgMTA0LjUwNyA4Ni4yOTQxIDEwNC44MTcgODYuMjMzNEwxMDcuMDYzIDg1Ljc5MzhDMTA3LjM3MyA4NS43MzMxIDEwNy42MDUgODUuOTAxNyAxMDcuNTggODYuMTcwNEwxMDcuNDkgODcuMTQzM0MxMDcuNDE2IDg3Ljk0OTMgMTA2LjYwMiA4OC43NTA0IDEwNS42NzIgODguOTMyNUwxMDQuNTQ5IDg5LjE1MjNDMTA0LjIzOSA4OS4yMTMgMTA0LjAwNyA4OS4wNDQ0IDEwNC4wMzIgODguNzc1N0wxMDQuMjExIDg2LjgyOThaXCIsXG4gICAgICBmaWxsOiBcIiNCM0FBQUFcIlxuICAgIH0pLCBqc3goXCJkZWZzXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwibGluZWFyR3JhZGllbnRcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGlkOiBcInBhaW50MF9saW5lYXJfM182NzJcIixcbiAgICAgICAgeDE6IFwiLTQ0LjUxOTVcIixcbiAgICAgICAgeTE6IFwiMTIyLjQyXCIsXG4gICAgICAgIHgyOiBcIjI2My4zNTdcIixcbiAgICAgICAgeTI6IFwiLTguNjUwMjNcIixcbiAgICAgICAgZ3JhZGllbnRVbml0czogXCJ1c2VyU3BhY2VPblVzZVwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4KFwic3RvcFwiLCB7XG4gICAgICAgICAgb2Zmc2V0OiBcIjAuMTEwNjk3XCIsXG4gICAgICAgICAgc3RvcENvbG9yOiBcIiMyMzIzMjNcIlxuICAgICAgICB9KSwganN4KFwic3RvcFwiLCB7XG4gICAgICAgICAgb2Zmc2V0OiBcIjFcIixcbiAgICAgICAgICBzdG9wQ29sb3I6IFwiIzNEM0QzRFwiXG4gICAgICAgIH0pXVxuICAgICAgfSkpXG4gICAgfSldXG4gIH0pKTtcbn07XG5cbmNvbnN0IFVwQXJyb3dJY29uID0gKCkgPT4ge1xuICByZXR1cm4ganN4KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjEwXCIsXG4gICAgaGVpZ2h0OiBcIjdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxMCA3XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNOSA1LjQ3NjJMNSAxLjQ3NjJMMSA1LjQ3NjJcIixcbiAgICAgIHN0cm9rZTogXCIjNEY3Q0QxXCIsXG4gICAgICBzdHJva2VXaWR0aDogXCIxLjVcIixcbiAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICB9KVxuICB9KSk7XG59O1xuXG5jb25zdCBEb3duQXJyb3dJY29uID0gKCkgPT4ge1xuICByZXR1cm4ganN4KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHdpZHRoOiBcIjEwXCIsXG4gICAgaGVpZ2h0OiBcIjdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxMCA3XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMSAxLjUyMzgyTDUgNS41MjM4Mkw5IDEuNTIzODJcIixcbiAgICAgIHN0cm9rZTogXCIjNEY3Q0QxXCIsXG4gICAgICBzdHJva2VXaWR0aDogXCIxLjVcIixcbiAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgICB9KVxuICB9KSk7XG59O1xuXG5jb25zdCBERUZBVUxUX0RFUklWQVRJT05fUEFUSCA9IFwiNDQnLzM5NycvMCcvMCcvMSdcIjtcbmNvbnN0IERlcml2YXRpb25QYXRoID0gKHtcbiAgc2VsZWN0b3IsXG4gIG9wdGlvbnMsXG4gIG9uQmFjayxcbiAgb25Db25uZWN0ZWQsXG4gIHBhcmFtcyxcbiAgb25FcnJvcixcbiAgb25DbG9zZU1vZGFsXG59KSA9PiB7XG4gIGNvbnN0IFtyb3V0ZSwgc2V0Um91dGVdID0gdXNlU3RhdGUoXCJFbnRlckRlcml2YXRpb25QYXRoXCIpO1xuICBjb25zdCBbZGVyaXZhdGlvblBhdGgsIHNldERlcml2YXRpb25QYXRoXSA9IHVzZVN0YXRlKERFRkFVTFRfREVSSVZBVElPTl9QQVRIKTtcbiAgY29uc3QgW2N1c3RvbURlcml2YXRpb25QYXRoLCBzZXRDdXN0b21EZXJpdmF0aW9uUGF0aF0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2FjY291bnRzLCBzZXRBY2NvdW50c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZEFjY291bnRzLCBzZXRTZWxlY3RlZEFjY291bnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2hhcmR3YXJlV2FsbGV0LCBzZXRIYXJkd2FyZVdhbGxldF0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbY3VzdG9tQWNjb3VudElkLCBzZXRDdXN0b21BY2NvdW50SWRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb25uZWN0aW5nLCBzZXRDb25uZWN0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaW5pdGFsSGVhZGVyVGl0bGUgPSB0cmFuc2xhdGUoXCJtb2RhbC5sZWRnZXIuY29ubmVjdFdpdGhMZWRnZXJcIik7XG4gIGNvbnN0IFtoZWFkZXJUaXRsZSwgc2V0SGVhZGVyVGl0bGVdID0gdXNlU3RhdGUoaW5pdGFsSGVhZGVyVGl0bGUpO1xuICBjb25zdCBnZXRBY2NvdW50SWRzID0gcHVibGljS2V5ID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7c2VsZWN0b3Iub3B0aW9ucy5uZXR3b3JrLmluZGV4ZXJVcmx9L3B1YmxpY0tleS9lZDI1NTE5OiR7cHVibGljS2V5fS9hY2NvdW50c2ApO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgYWNjb3VudCBpZCBmcm9tIHB1YmxpYyBrZXlcIik7XG4gICAgfVxuICAgIGNvbnN0IGFjY291bnRJZHMgPSB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFjY291bnRJZHMpIHx8ICFhY2NvdW50SWRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gYWNjb3VudElkcztcbiAgfSk7XG4gIGNvbnN0IHJlc29sdmVBY2NvdW50cyA9IHdhbGxldCA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBwdWJsaWNLZXkgPSB5aWVsZCB3YWxsZXQuZ2V0UHVibGljS2V5KGRlcml2YXRpb25QYXRoKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWNjb3VudElkcyA9IHlpZWxkIGdldEFjY291bnRJZHMocHVibGljS2V5KTtcbiAgICAgIHJldHVybiBhY2NvdW50SWRzLm1hcCgoYWNjb3VudElkLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRlcml2YXRpb25QYXRoLFxuICAgICAgICAgIHB1YmxpY0tleSxcbiAgICAgICAgICBhY2NvdW50SWQsXG4gICAgICAgICAgc2VsZWN0ZWQ6IGluZGV4ID09PSAwXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVWYWxpZGF0ZUFjY291bnQgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB3YWxsZXQgPSB5aWVsZCBzZWxlY3Rvci53YWxsZXQocGFyYW1zLndhbGxldElkKTtcbiAgICBpZiAod2FsbGV0LnR5cGUgIT09IFwiaGFyZHdhcmVcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRDb25uZWN0aW5nKHRydWUpO1xuICAgIHNldEhhcmR3YXJlV2FsbGV0KHdhbGxldCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc29sdmVkQWNjb3VudHMgPSB5aWVsZCByZXNvbHZlQWNjb3VudHMod2FsbGV0KTtcbiAgICAgIGlmICghcmVzb2x2ZWRBY2NvdW50cykge1xuICAgICAgICBzZXRSb3V0ZShcIkFkZEN1c3RvbUFjY291bnRJZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9BY2NvdW50cyA9IHJlc29sdmVkQWNjb3VudHMubGVuZ3RoID09PSAwO1xuICAgICAgY29uc3QgbXVsdGlwbGVBY2NvdW50cyA9IHJlc29sdmVkQWNjb3VudHMubGVuZ3RoID4gMTtcbiAgICAgIGlmIChub0FjY291bnRzKSB7XG4gICAgICAgIHNldEhlYWRlclRpdGxlKHRyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5ub0FjY291bnRzRm91bmRcIikpO1xuICAgICAgICBzZXRSb3V0ZShcIk5vQWNjb3VudHNGb3VuZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QWNjb3VudHMocmVzb2x2ZWRBY2NvdW50cyk7XG4gICAgICBpZiAoIW11bHRpcGxlQWNjb3VudHMpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRBY2NvdW50cyhyZXNvbHZlZEFjY291bnRzKTtcbiAgICAgICAgc2V0Um91dGUoXCJPdmVydmlld0FjY291bnRzXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SGVhZGVyVGl0bGUodHJhbnNsYXRlKFwibW9kYWwubGVkZ2VyLnNlbGVjdFlvdXJBY2NvdW50c1wiKSk7XG4gICAgICAgIHNldFJvdXRlKFwiQ2hvb3NlQWNjb3VudFwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldENvbm5lY3RpbmcoZmFsc2UpO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGVyciAmJiB0eXBlb2YgZXJyID09PSBcIm9iamVjdFwiICYmIFwibWVzc2FnZVwiIGluIGVyciA/IGVyci5tZXNzYWdlIDogXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiO1xuICAgICAgb25FcnJvcihtZXNzYWdlLCB3YWxsZXQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRDb25uZWN0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVBZGRDdXN0b21BY2NvdW50SWQgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgc2V0Q29ubmVjdGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHlpZWxkIGhhcmR3YXJlV2FsbGV0LmdldFB1YmxpY0tleShkZXJpdmF0aW9uUGF0aCk7XG4gICAgICBjb25zdCBhY2NvdW50TGlzdCA9IFt7XG4gICAgICAgIGRlcml2YXRpb25QYXRoOiBkZXJpdmF0aW9uUGF0aCxcbiAgICAgICAgcHVibGljS2V5LFxuICAgICAgICBhY2NvdW50SWQ6IGN1c3RvbUFjY291bnRJZCxcbiAgICAgICAgc2VsZWN0ZWQ6IHRydWVcbiAgICAgIH1dO1xuICAgICAgc2V0QWNjb3VudHMoYWNjb3VudExpc3QpO1xuICAgICAgc2V0U2VsZWN0ZWRBY2NvdW50cyhhY2NvdW50TGlzdCk7XG4gICAgICBzZXRIZWFkZXJUaXRsZSh0cmFuc2xhdGUoXCJtb2RhbC5sZWRnZXIuY29ubmVjdGluZzFBY2NvdW50XCIpKTtcbiAgICAgIHNldFJvdXRlKFwiT3ZlcnZpZXdBY2NvdW50c1wiKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldENvbm5lY3RpbmcoZmFsc2UpO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGVyciAmJiB0eXBlb2YgZXJyID09PSBcIm9iamVjdFwiICYmIFwibWVzc2FnZVwiIGluIGVyciA/IGVyci5tZXNzYWdlIDogXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiO1xuICAgICAgb25FcnJvcihtZXNzYWdlLCBoYXJkd2FyZVdhbGxldCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldENvbm5lY3RpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZVNpZ25JbiA9ICgpID0+IHtcbiAgICBjb25zdCBtYXBBY2NvdW50cyA9IHNlbGVjdGVkQWNjb3VudHMubWFwKGFjY291bnQgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVyaXZhdGlvblBhdGg6IGFjY291bnQuZGVyaXZhdGlvblBhdGgsXG4gICAgICAgIHB1YmxpY0tleTogYWNjb3VudC5wdWJsaWNLZXksXG4gICAgICAgIGFjY291bnRJZDogYWNjb3VudC5hY2NvdW50SWRcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGhhcmR3YXJlV2FsbGV0LnNpZ25Jbih7XG4gICAgICBjb250cmFjdElkOiBvcHRpb25zLmNvbnRyYWN0SWQsXG4gICAgICBtZXRob2ROYW1lczogb3B0aW9ucy5tZXRob2ROYW1lcyxcbiAgICAgIGFjY291bnRzOiBtYXBBY2NvdW50c1xuICAgIH0pLnRoZW4oKCkgPT4gb25Db25uZWN0ZWQoKSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIG9uRXJyb3IoYEVycm9yOiAke2Vyci5tZXNzYWdlfWAsIGhhcmR3YXJlV2FsbGV0KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlT25CYWNrQnV0dG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHJvdXRlID09PSBcIlNwZWNpZnlIRFBhdGhcIiB8fCByb3V0ZSA9PT0gXCJOb0FjY291bnRzRm91bmRcIiB8fCByb3V0ZSA9PT0gXCJDaG9vc2VBY2NvdW50XCIpIHtcbiAgICAgIHNldEhlYWRlclRpdGxlKHRyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5jb25uZWN0V2l0aExlZGdlclwiKSk7XG4gICAgICBzZXRSb3V0ZShcIkVudGVyRGVyaXZhdGlvblBhdGhcIik7XG4gICAgfVxuICAgIGlmIChyb3V0ZSA9PT0gXCJPdmVydmlld0FjY291bnRzXCIpIHtcbiAgICAgIHNldEhlYWRlclRpdGxlKHRyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5zZWxlY3RZb3VyQWNjb3VudHNcIikpO1xuICAgICAgc2V0Um91dGUoXCJDaG9vc2VBY2NvdW50XCIpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGNvbm5lY3RpbmcpIHtcbiAgICByZXR1cm4ganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcImRlcml2YXRpb24tcGF0aC13cmFwcGVyXCJcbiAgICB9LCB7XG4gICAgICBjaGlsZHJlbjoganN4KFdhbGxldENvbm5lY3RpbmcsIHtcbiAgICAgICAgd2FsbGV0OiBoYXJkd2FyZVdhbGxldCxcbiAgICAgICAgb25CYWNrOiAoKSA9PiB7XG4gICAgICAgICAgc2V0Q29ubmVjdGluZyhmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2VNb2RhbDogb25DbG9zZU1vZGFsXG4gICAgICB9KVxuICAgIH0pKTtcbiAgfVxuICByZXR1cm4ganN4cyhGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJud3MtbW9kYWwtaGVhZGVyLXdyYXBwZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBbKHJvdXRlID09PSBcIlNwZWNpZnlIRFBhdGhcIiB8fCByb3V0ZSA9PT0gXCJOb0FjY291bnRzRm91bmRcIiB8fCByb3V0ZSA9PT0gXCJDaG9vc2VBY2NvdW50XCIgfHwgcm91dGUgPT09IFwiT3ZlcnZpZXdBY2NvdW50c1wiKSAmJiBqc3goQmFja0Fycm93LCB7XG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZU9uQmFja0J1dHRvbkNsaWNrXG4gICAgICB9KSwganN4KE1vZGFsSGVhZGVyLCB7XG4gICAgICAgIHRpdGxlOiBoZWFkZXJUaXRsZSxcbiAgICAgICAgb25DbG9zZU1vZGFsOiBvbkNsb3NlTW9kYWxcbiAgICAgIH0pXVxuICAgIH0pKSwganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJkZXJpdmF0aW9uLXBhdGgtd3JhcHBlclwiXG4gICAgfSwge1xuICAgICAgY2hpbGRyZW46IFtyb3V0ZSA9PT0gXCJFbnRlckRlcml2YXRpb25QYXRoXCIgJiYganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImVudGVyLWRlcml2YXRpb24tcGF0aFwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJsZWRnZXItaW1hZ2VcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IGpzeChMZWRnZXJEZXZpY2VJY29uLCB7fSlcbiAgICAgICAgfSkpLCBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJsZWRnZXItZGVzY3JpcHRpb25cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IFtqc3goXCJwXCIsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC5sZWRnZXIubWFrZVN1cmVZb3VyTGVkZ2VyXCIpXG4gICAgICAgICAgfSksIGpzeChcInBcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwic3BlY2lmeS1wYXRoXCIsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgIHNldEhlYWRlclRpdGxlKHRyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5zcGVjaWZ5SERQYXRoXCIpKTtcbiAgICAgICAgICAgICAgc2V0Um91dGUoXCJTcGVjaWZ5SERQYXRoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC5sZWRnZXIuc3BlY2lmeUhEUGF0aFwiKVxuICAgICAgICAgIH0pKV1cbiAgICAgICAgfSkpLCBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImFjdGlvbi1idXR0b25zXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJidXR0b25cIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibWlkZGxlQnV0dG9uXCIsXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVWYWxpZGF0ZUFjY291bnRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogdHJhbnNsYXRlKFwibW9kYWwubGVkZ2VyLmNvbnRpbnVlXCIpXG4gICAgICAgICAgfSkpXG4gICAgICAgIH0pKV1cbiAgICAgIH0pKSwgcm91dGUgPT09IFwiU3BlY2lmeUhEUGF0aFwiICYmIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzcGVjaWZ5LXBhdGgtd3JhcHBlclwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiY2hhbmdlLXBhdGgtd3JhcHBlclwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJkaXNwbGF5LXBhdGhcIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IGRlcml2YXRpb25QYXRoLnNsaWNlKDAsIC0yKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSksIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hhbmdlLXBhdGhcIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwicGF0aC12YWx1ZVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogY3VzdG9tRGVyaXZhdGlvblBhdGhcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pKSwganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJ1dHRvbnMtd3JhcHBlclwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwiYnV0dG9uXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gY3VzdG9tRGVyaXZhdGlvblBhdGggKyAxO1xuICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRlcml2YXRpb25QYXRoLnNsaWNlKDAsIC0yKTtcbiAgICAgICAgICAgICAgICAgIHNldERlcml2YXRpb25QYXRoKGAke3BhdGh9JHtuZXdWYWx1ZX0nYCk7XG4gICAgICAgICAgICAgICAgICBzZXRDdXN0b21EZXJpdmF0aW9uUGF0aChuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGpzeChVcEFycm93SWNvbiwge30pXG4gICAgICAgICAgICAgIH0pKSwganN4KFwiYnV0dG9uXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gY3VzdG9tRGVyaXZhdGlvblBhdGggLSAxO1xuICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gZGVyaXZhdGlvblBhdGguc2xpY2UoMCwgLTIpO1xuICAgICAgICAgICAgICAgICAgc2V0RGVyaXZhdGlvblBhdGgoYCR7cGF0aH0ke25ld1ZhbHVlfSdgKTtcbiAgICAgICAgICAgICAgICAgIHNldEN1c3RvbURlcml2YXRpb25QYXRoKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjoganN4KERvd25BcnJvd0ljb24sIHt9KVxuICAgICAgICAgICAgICB9KSldXG4gICAgICAgICAgICB9KSldXG4gICAgICAgICAgfSkpXVxuICAgICAgICB9KSksIGpzeChcInBcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInBhdGgtZGVzY3JpcHRpb25cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IHRyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5lbnRlcllvdXJQcmVmZXJyZWRIRFBhdGhcIilcbiAgICAgICAgfSkpLCBqc3goXCJwXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJ3aGF0LWxpbmtcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IGpzeChcImFcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBocmVmOiBcImh0dHBzOi8vd3d3LmxlZGdlci5jb20vYWNhZGVteS9jcnlwdG8vd2hhdC1hcmUtaGllcmFyY2hpY2FsLWRldGVybWluaXN0aWMtaGQtd2FsbGV0c1wiLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IFwiV2hhdCdzIHRoaXM/XCJcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSkpLCBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImFjdGlvbi1idXR0b25zXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJidXR0b25cIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibWlkZGxlQnV0dG9uXCIsXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVWYWxpZGF0ZUFjY291bnRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogdHJhbnNsYXRlKFwibW9kYWwubGVkZ2VyLnNjYW5cIilcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSkpXVxuICAgICAgfSkpLCByb3V0ZSA9PT0gXCJOb0FjY291bnRzRm91bmRcIiAmJiBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJuby1hY2NvdW50cy1mb3VuZC13cmFwcGVyXCJcbiAgICAgIH0sIHtcbiAgICAgICAgY2hpbGRyZW46IGpzeHMoXCJwXCIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogW3RyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5jYW50RmluZEFueUFjY291bnRcIiksIFwiIFwiLCBqc3goXCJhXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgaHJlZjogYGh0dHBzOi8vJHtzZWxlY3Rvci5vcHRpb25zLm5ldHdvcmsubmV0d29ya0lkID09PSBcInRlc3RuZXRcIiA/IFwidGVzdG5ldFwiIDogXCJhcHBcIn0ubXluZWFyd2FsbGV0LmNvbS9jcmVhdGVgLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IFwiTXlOZWFyV2FsbGV0XCJcbiAgICAgICAgICB9KSksIFwiIFwiLCB0cmFuc2xhdGUoXCJtb2RhbC5sZWRnZXIub3JDb25uZWN0QW5Bbm90aGVyTGVkZ2VyXCIpXVxuICAgICAgICB9KVxuICAgICAgfSkpLCByb3V0ZSA9PT0gXCJDaG9vc2VBY2NvdW50XCIgJiYganN4KEhhcmR3YXJlV2FsbGV0QWNjb3VudHNGb3JtLCB7XG4gICAgICAgIGFjY291bnRzOiBhY2NvdW50cyxcbiAgICAgICAgb25TZWxlY3RlZENoYW5nZWQ6IChpbmRleCwgc2VsZWN0ZWQpID0+IHtcbiAgICAgICAgICBzZXRBY2NvdW50cyhwcmV2QWNjb3VudHMgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlQWNjb3VudHMgPSBwcmV2QWNjb3VudHMubWFwKChhY2NvdW50LCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGluZGV4ID09PSBpZHggPyBzZWxlY3RlZCA6IGFjY291bnQuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFjY291bnQpLCB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkVmFsdWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBbLi4udXBkYXRlQWNjb3VudHNdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblN1Ym1pdDogKGFjYywgZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZEFjYyA9IGFjYy5maWx0ZXIoYWNjb3VudCA9PiBhY2NvdW50LnNlbGVjdGVkKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZEFjY291bnRzKHNlbGVjdGVkQWNjKTtcbiAgICAgICAgICBjb25zdCBudW1iZXJPZkFjY291bnRzID0gc2VsZWN0ZWRBY2MubGVuZ3RoO1xuICAgICAgICAgIHNldEhlYWRlclRpdGxlKGAke3RyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5jb25uZWN0aW5nXCIpfSAke251bWJlck9mQWNjb3VudHN9ICR7dHJhbnNsYXRlKFwibW9kYWwubGVkZ2VyLm9mQWNjb3VudHNcIil9YCk7XG4gICAgICAgICAgc2V0Um91dGUoXCJPdmVydmlld0FjY291bnRzXCIpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZVJvdXRlOiBuZXdSb3V0ZSA9PiB7XG4gICAgICAgICAgaWYgKG5ld1JvdXRlID09PSBcIlNwZWNpZnlIRFBhdGhcIikge1xuICAgICAgICAgICAgc2V0SGVhZGVyVGl0bGUodHJhbnNsYXRlKFwibW9kYWwubGVkZ2VyLnNwZWNpZnlIRFBhdGhcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRSb3V0ZShuZXdSb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pLCByb3V0ZSA9PT0gXCJBZGRDdXN0b21BY2NvdW50SWRcIiAmJiBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwiZW50ZXItY3VzdG9tLWFjY291bnRcIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogW2pzeChcInBcIiwge1xuICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC5sZWRnZXIuZmFpbGVkVG9BdXRvbWF0aWNhbGx5XCIpXG4gICAgICAgIH0pLCBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImlucHV0LXdyYXBwZXJcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IGpzeChcImlucHV0XCIsIHtcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiQWNjb3VudCBJRFwiLFxuICAgICAgICAgICAgdmFsdWU6IGN1c3RvbUFjY291bnRJZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgICAgICAgICAgc2V0Q3VzdG9tQWNjb3VudElkKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiYWN0aW9uLWJ1dHRvbnNcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IGpzeChcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJtaWRkbGVCdXR0b25cIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZUFkZEN1c3RvbUFjY291bnRJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJsZWRnZXIuQ29udGludWVcIilcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSkpXVxuICAgICAgfSkpLCByb3V0ZSA9PT0gXCJPdmVydmlld0FjY291bnRzXCIgJiYganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm92ZXJ2aWV3LXdyYXBwZXJcIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogW2pzeChcInBcIiwge1xuICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC5sZWRnZXIub3ZlcnZpZXdUaGVMaXN0T2ZBdXRob3JpemVkXCIpXG4gICAgICAgIH0pLCBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImFjY291bnRzXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBzZWxlY3RlZEFjY291bnRzLm1hcCgoYWNjb3VudCwgaW5kZXgpID0+IGpzeChcImRpdlwiLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjoganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYWNjb3VudFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogYWNjb3VudC5hY2NvdW50SWRcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIH0sIGFjY291bnQuYWNjb3VudElkKSlcbiAgICAgICAgfSkpLCBqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImFjdGlvbi1idXR0b25zXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJidXR0b25cIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibWlkZGxlQnV0dG9uXCIsXG4gICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVTaWduSW4sXG4gICAgICAgICAgICBkaXNhYmxlZDogYWNjb3VudHMubGVuZ3RoID09PSAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IHRyYW5zbGF0ZShcIm1vZGFsLmxlZGdlci5maW5pc2hcIilcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSkpXVxuICAgICAgfSkpXVxuICAgIH0pKV1cbiAgfSk7XG59O1xuXG5jb25zdCBXYWxsZXROb3RJbnN0YWxsZWQgPSAoe1xuICBtb2R1bGUsXG4gIG9uQmFjayxcbiAgb25DbG9zZU1vZGFsXG59KSA9PiB7XG4gIHJldHVybiBqc3hzKEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcIm53cy1tb2RhbC1oZWFkZXItd3JhcHBlclwiXG4gICAgfSwge1xuICAgICAgY2hpbGRyZW46IFtqc3goQmFja0Fycm93LCB7XG4gICAgICAgIG9uQ2xpY2s6IG9uQmFja1xuICAgICAgfSksIGpzeChNb2RhbEhlYWRlciwge1xuICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgb25DbG9zZU1vZGFsOiBvbkNsb3NlTW9kYWxcbiAgICAgIH0pXVxuICAgIH0pKSwganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJ3YWxsZXQtbm90LWluc3RhbGxlZC13cmFwcGVyXCJcbiAgICB9LCB7XG4gICAgICBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3YWxsZXQtZGF0YVwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogYHdhbGxldC1pY29uLWJveCAke21vZHVsZS5pZH1gXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjoganN4KFwiaW1nXCIsIHtcbiAgICAgICAgICAgIHNyYzogbW9kdWxlLm1ldGFkYXRhLmljb25VcmwsXG4gICAgICAgICAgICBhbHQ6IG1vZHVsZS5tZXRhZGF0YS5uYW1lXG4gICAgICAgICAgfSlcbiAgICAgICAgfSkpLCBqc3goXCJwXCIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogbW9kdWxlLm1ldGFkYXRhLm5hbWVcbiAgICAgICAgfSldXG4gICAgICB9KSksIGpzeHMoXCJwXCIsIHtcbiAgICAgICAgY2hpbGRyZW46IFt0cmFuc2xhdGUoXCJtb2RhbC5pbnN0YWxsLnlvdWxsTmVlZFRvSW5zdGFsbFwiKSwgXCIgXCIsIG1vZHVsZS5tZXRhZGF0YS5uYW1lLCBcIiBcIiwgdHJhbnNsYXRlKFwibW9kYWwuaW5zdGFsbC50b0NvbnRpbnVlQWZ0ZXJJbnN0YWxsaW5nXCIpLCBqc3hzKFwic3BhblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwicmVmcmVzaC1saW5rXCIsXG4gICAgICAgICAgb25DbGljazogKCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogW1wiIFwiLCB0cmFuc2xhdGUoXCJtb2RhbC5pbnN0YWxsLnJlZnJlc2hUaGVQYWdlXCIpXVxuICAgICAgICB9KSldXG4gICAgICB9KSwganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwiYWN0aW9uLWJ1dHRvbnNcIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjoganN4cyhcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibWlkZGxlQnV0dG9uXCIsXG4gICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1vZHVsZS50eXBlICE9PSBcImluamVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93Lm9wZW4obW9kdWxlLm1ldGFkYXRhLmRvd25sb2FkVXJsLCBcIl9ibGFua1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogW3RyYW5zbGF0ZShcIm1vZGFsLmluc3RhbGwub3BlblwiKSwgXCIgXCIsIG1vZHVsZS5tZXRhZGF0YS5uYW1lXVxuICAgICAgICB9KSlcbiAgICAgIH0pKV1cbiAgICB9KSldXG4gIH0pO1xufTtcblxuY29uc3QgUVJJY29uID0gKCkgPT4ganN4cyhcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgd2lkdGg6IFwiMThcIixcbiAgaGVpZ2h0OiBcIjE2XCIsXG4gIHZpZXdCb3g6IFwiMCAwIDE4IDE2XCIsXG4gIGZpbGw6IFwibm9uZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG59LCB7XG4gIGNoaWxkcmVuOiBbanN4KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNy4yMjIyNCAxLjMzMzM0SDEuNDQ0NDZWNi42NjY2OEg3LjIyMjI0VjEuMzMzMzRaXCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xNS44ODg5IDEuMzMzMzRIMTAuMTExMVY2LjY2NjY4SDE1Ljg4ODlWMS4zMzMzNFpcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbiAgfSksIGpzeChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTcuMjIyMjQgOS4zMzMzNEgxLjQ0NDQ2VjE0LjY2NjdINy4yMjIyNFY5LjMzMzM0WlwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTAuMTExMSAxMy4xNDI5VjE0LjY2NjdIMTUuODg4OU0xMC4xMTExIDkuMzMzMzRWMTAuODU3MkgxMi41ODczVjkuMzMzMzRIMTUuODg4OVYxMi4zODFcIixcbiAgICBzdHJva2U6IFwiIzRDNTE1NVwiLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH0pLCBqc3goXCJyZWN0XCIsIHtcbiAgICB4OiBcIjMuNjExMDhcIixcbiAgICB5OiBcIjMuMzMzMzRcIixcbiAgICB3aWR0aDogXCIxLjQ0NDQ0XCIsXG4gICAgaGVpZ2h0OiBcIjEuMzMzMzNcIixcbiAgICBmaWxsOiBcIiM0QzUxNTVcIlxuICB9KSwganN4KFwicmVjdFwiLCB7XG4gICAgeDogXCIzLjYxMTA4XCIsXG4gICAgeTogXCIxMS4zMzMzXCIsXG4gICAgd2lkdGg6IFwiMS40NDQ0NFwiLFxuICAgIGhlaWdodDogXCIxLjMzMzMzXCIsXG4gICAgZmlsbDogXCIjNEM1MTU1XCJcbiAgfSksIGpzeChcInJlY3RcIiwge1xuICAgIHg6IFwiMTIuMjc3OFwiLFxuICAgIHk6IFwiMy4zMzMzNFwiLFxuICAgIHdpZHRoOiBcIjEuNDQ0NDVcIixcbiAgICBoZWlnaHQ6IFwiMS4zMzMzM1wiLFxuICAgIGZpbGw6IFwiIzRDNTE1NVwiXG4gIH0pXVxufSkpO1xuXG5jb25zdCBMaW5rSWNvbiA9ICgpID0+IGpzeHMoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gIHdpZHRoOiBcIjE4XCIsXG4gIGhlaWdodDogXCIxNlwiLFxuICB2aWV3Qm94OiBcIjAgMCAxOCAxNlwiLFxuICBmaWxsOiBcIm5vbmVcIixcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxufSwge1xuICBjaGlsZHJlbjogW2pzeChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEzIDguNjY2NjdWMTIuNjY2N0MxMyAxMy4wMjAzIDEyLjg0NzggMTMuMzU5NCAxMi41NzcgMTMuNjA5NUMxMi4zMDYxIDEzLjg1OTUgMTEuOTM4NyAxNCAxMS41NTU2IDE0SDMuNjExMTNDMy4yMjgwNCAxNCAyLjg2MDY0IDEzLjg1OTUgMi41ODk3NSAxMy42MDk1QzIuMzE4ODcgMTMuMzU5NCAyLjE2NjY5IDEzLjAyMDMgMi4xNjY2OSAxMi42NjY3VjUuMzMzMzNDMi4xNjY2OSA0Ljk3OTcxIDIuMzE4ODcgNC42NDA1NyAyLjU4OTc1IDQuMzkwNTJDMi44NjA2NCA0LjE0MDQ4IDMuMjI4MDQgNCAzLjYxMTEzIDRINy45NDQ0N1wiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTAuODMzMyAySDE1LjE2NjZWNlwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNy4yMjIyMyA5LjMzMzMzTDE1LjE2NjcgMlwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICB9KV1cbn0pKTtcblxuY29uc3QgS2V5SWNvbiA9ICgpID0+IGpzeChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgd2lkdGg6IFwiNDBcIixcbiAgaGVpZ2h0OiBcIjQwXCIsXG4gIHZpZXdCb3g6IFwiMCAwIDQwIDQwXCIsXG4gIGZpbGw6IFwibm9uZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG59LCB7XG4gIGNoaWxkcmVuOiBqc3goXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0zMy41IDEuODMzMjVMMzAuMTY2NiA1LjE2NjU4TTE3LjQ4MTggMTcuODUxNEMxOS4xNDA2IDE5LjUxMDMgMjAuMTY2NiAyMS44MDE5IDIwLjE2NjYgMjQuMzMzM0MyMC4xNjY2IDI5LjM5NTkgMTYuMDYyNiAzMy40OTk5IDExIDMzLjQ5OTlDNS45MzczNSAzMy40OTk5IDEuODMzMyAyOS4zOTU5IDEuODMzMyAyNC4zMzMzQzEuODMzMyAxOS4yNzA2IDUuOTM3MzUgMTUuMTY2NiAxMSAxNS4xNjY2QzEzLjUzMTMgMTUuMTY2NiAxNS44MjI5IDE2LjE5MjYgMTcuNDgxOCAxNy44NTE0Wk0xNy40ODE4IDE3Ljg1MTRMMjQuMzMzMyAxMC45OTk5TTI0LjMzMzMgMTAuOTk5OUwyOS4zMzMzIDE1Ljk5OTlMMzUuMTY2NiAxMC4xNjY2TDMwLjE2NjYgNS4xNjY1OE0yNC4zMzMzIDEwLjk5OTlMMzAuMTY2NiA1LjE2NjU4XCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjNcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICB9KVxufSkpO1xuXG5jb25zdCBGb2xkZXJJY29uID0gKCkgPT4ganN4cyhcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgd2lkdGg6IFwiNDBcIixcbiAgaGVpZ2h0OiBcIjQxXCIsXG4gIHZpZXdCb3g6IFwiMCAwIDQwIDQxXCIsXG4gIGZpbGw6IFwibm9uZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG59LCB7XG4gIGNoaWxkcmVuOiBbanN4KFwiY2lyY2xlXCIsIHtcbiAgICBjeDogXCIyOC4zMzMzXCIsXG4gICAgY3k6IFwiMjMuODMzM1wiLFxuICAgIHI6IFwiMS42NjY2N1wiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgfSksIGpzeChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTM1IDEyLjE2NjdIN0M1Ljg5NTQzIDEyLjE2NjcgNSAxMS4yNzEyIDUgMTAuMTY2N1Y3LjVDNSA2LjM5NTQzIDUuODk1NDMgNS41IDcgNS41SDMxLjY2NjdcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiM1wiLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0zNSAxMi4xNjY3VjM1LjVIN0M1Ljg5NTQzIDM1LjUgNSAzNC42MDQ2IDUgMzMuNVY4LjgzMzM0XCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjNcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIlxuICB9KV1cbn0pKTtcblxuY29uc3QgV2FsbGV0SG9tZSA9ICh7XG4gIHNlbGVjdG9yLFxuICBvbkNsb3NlTW9kYWxcbn0pID0+IHtcbiAgY29uc3QgW21vZHVsZXMsIHNldE1vZHVsZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbcm91dGUsIHNldFJvdXRlXSA9IHVzZVN0YXRlKFwiV2FsbGV0SW5mb1wiKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzZWxlY3Rvci5zdG9yZS5vYnNlcnZhYmxlLnN1YnNjcmliZShzdGF0ZSA9PiB7XG4gICAgICBjb25zdCBmaWx0ZXJCeVR5cGUgPSBpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSAhPT0gXCJicmlkZ2VcIiAmJiBpdGVtLnR5cGUgIT09IFwiaGFyZHdhcmVcIiAmJiBpdGVtLnR5cGUgIT09IFwiaW5zdGFudC1saW5rXCI7XG4gICAgICB9O1xuICAgICAgY29uc3QgZmlsdGVyZWRNb2R1bGVzID0gc3RhdGUubW9kdWxlcy5maWx0ZXIoZmlsdGVyQnlUeXBlKTtcbiAgICAgIHNldE1vZHVsZXMoZmlsdGVyZWRNb2R1bGVzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG4gIGNvbnN0IGdldFdhbGxldFVybCA9IG1vZHVsZSA9PiB7XG4gICAgbGV0IHVybCA9IFwiXCI7XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSBcImluamVjdGVkXCIpIHtcbiAgICAgIHVybCA9IG1vZHVsZS5tZXRhZGF0YS5kb3dubG9hZFVybDtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSBcImJyb3dzZXJcIikge1xuICAgICAgdXJsID0gbW9kdWxlLm1ldGFkYXRhLndhbGxldFVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBcIndhbGxldC1ob21lLXdyYXBwZXJcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcIm53cy1tb2RhbC1oZWFkZXItd3JhcHBlclwiXG4gICAgfSwge1xuICAgICAgY2hpbGRyZW46IFtyb3V0ZSA9PT0gXCJHZXRXYWxsZXRzXCIgJiYganN4KEJhY2tBcnJvdywge1xuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgc2V0Um91dGUoXCJXYWxsZXRJbmZvXCIpO1xuICAgICAgICB9XG4gICAgICB9KSwganN4KE1vZGFsSGVhZGVyLCB7XG4gICAgICAgIHRpdGxlOiByb3V0ZSA9PT0gXCJHZXRXYWxsZXRzXCIgPyB0cmFuc2xhdGUoXCJtb2RhbC53YWxsZXQuZ2V0QVdhbGxldFwiKSA6IHRyYW5zbGF0ZShcIm1vZGFsLndhbGxldC53aGF0SXNBV2FsbGV0XCIpLFxuICAgICAgICBvbkNsb3NlTW9kYWw6IG9uQ2xvc2VNb2RhbFxuICAgICAgfSldXG4gICAgfSkpLCByb3V0ZSA9PT0gXCJHZXRXYWxsZXRzXCIgJiYganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcImdldC13YWxsZXQtd3JhcHBlclwiXG4gICAgfSwge1xuICAgICAgY2hpbGRyZW46IG1vZHVsZXMubWFwKG1vZHVsZSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBpY29uVXJsLFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgfSA9IG1vZHVsZS5tZXRhZGF0YTtcbiAgICAgICAgY29uc3QgcXJJY29uID0gW1wibmVhcmZpXCIsIFwiaGVyZS13YWxsZXRcIl0uaW5jbHVkZXMobW9kdWxlLmlkKTtcbiAgICAgICAgY29uc3QgaGVyZVdhbGxldFR5cGUgPSBtb2R1bGUuaWQgPT09IFwiaGVyZS13YWxsZXRcIiA/IFwibW9iaWxlXCIgOiBcIlwiO1xuICAgICAgICBjb25zdCB3YWxsZXRVcmwgPSBnZXRXYWxsZXRVcmwobW9kdWxlKTtcbiAgICAgICAgcmV0dXJuIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICAgICAgY2xhc3NOYW1lOiBgc2luZ2xlLXdhbGxldC1nZXQgJHttb2R1bGUuaWR9YCxcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAod2FsbGV0VXJsKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHdhbGxldFVybCwgXCJfYmxhbmtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInNtYWxsLWljb25cIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbcXJJY29uICYmIHdhbGxldFVybCAmJiBqc3goUVJJY29uLCB7fSksICFxckljb24gJiYgd2FsbGV0VXJsICYmIGpzeChMaW5rSWNvbiwge30pXVxuICAgICAgICAgIH0pKSwganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImljb25cIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJpbWdcIiwge1xuICAgICAgICAgICAgICBzcmM6IGljb25VcmwsXG4gICAgICAgICAgICAgIGFsdDogbmFtZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSksIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudFwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ0aXRsZVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBuYW1lXG4gICAgICAgICAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcInR5cGVcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBjaGlsZHJlbjogdHJhbnNsYXRlKGBtb2RhbC53YWxsZXRUeXBlcy4ke2hlcmVXYWxsZXRUeXBlIHx8IG1vZHVsZS50eXBlfWApXG4gICAgICAgICAgICB9KSldXG4gICAgICAgICAgfSkpXVxuICAgICAgICB9KSwgbW9kdWxlLmlkKTtcbiAgICAgIH0pXG4gICAgfSkpLCByb3V0ZSA9PT0gXCJXYWxsZXRJbmZvXCIgJiYganN4cyhGcmFnbWVudCQxLCB7XG4gICAgICBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3YWxsZXQtaW5mby13cmFwcGVyIHdoYXQtd2FsbGV0LWhpZGVcIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIndhbGxldC13aGF0XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImljb24tc2lkZVwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IGpzeChLZXlJY29uLCB7fSlcbiAgICAgICAgICB9KSksIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudC1zaWRlXCJcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogW2pzeChcImgzXCIsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IHRyYW5zbGF0ZShcIm1vZGFsLndhbGxldC5zZWN1cmVBbmRNYW5hZ2VcIilcbiAgICAgICAgICAgIH0pLCBqc3goXCJwXCIsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IHRyYW5zbGF0ZShcIm1vZGFsLndhbGxldC5zYWZlbHlTdG9yZVwiKVxuICAgICAgICAgICAgfSldXG4gICAgICAgICAgfSkpXVxuICAgICAgICB9KSksIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIndhbGxldC13aGF0XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImljb24tc2lkZVwiXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IGpzeChGb2xkZXJJY29uLCB7fSlcbiAgICAgICAgICB9KSksIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudC1zaWRlXCJcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogW2pzeChcImgzXCIsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IHRyYW5zbGF0ZShcIm1vZGFsLndhbGxldC5sb2dJblRvQW55XCIpXG4gICAgICAgICAgICB9KSwganN4KFwicFwiLCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC53YWxsZXQubm9OZWVkVG9DcmVhdGVcIilcbiAgICAgICAgICAgIH0pXVxuICAgICAgICAgIH0pKV1cbiAgICAgICAgfSkpLCBqc3goXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJidXR0b24tc3BhY2luZ1wiXG4gICAgICAgIH0pLCBqc3goXCJidXR0b25cIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm1pZGRsZUJ1dHRvblwiLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHNldFJvdXRlKFwiR2V0V2FsbGV0c1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogdHJhbnNsYXRlKFwibW9kYWwud2FsbGV0LmdldEFXYWxsZXRcIilcbiAgICAgICAgfSkpXVxuICAgICAgfSkpLCBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwid2hhdC13YWxsZXQtbW9iaWxlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgY2hpbGRyZW46IFtqc3goXCJwXCIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogdHJhbnNsYXRlKFwibW9kYWwud2FsbGV0LnVzZUFXYWxsZXRcIilcbiAgICAgICAgfSksIGpzeChcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibWlkZGxlQnV0dG9uXCIsXG4gICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgc2V0Um91dGUoXCJHZXRXYWxsZXRzXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC53YWxsZXQuZ2V0QVdhbGxldFwiKVxuICAgICAgICB9KSldXG4gICAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxhbmctc2VsZWN0b3Itd3JhcHBlclwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBqc3hzKFwic2VsZWN0XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJsYW5nLXNlbGVjdG9yXCIsXG4gICAgICAgICAgbmFtZTogXCJsYW5nXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwib3B0aW9uXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdmFsdWU6IFwiZW5cIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBcIkVuZ2xpc2hcIlxuICAgICAgICAgIH0pKSwganN4KFwib3B0aW9uXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdmFsdWU6IFwiZXNcIlxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBcIlNwYW5pc2hcIlxuICAgICAgICAgIH0pKV1cbiAgICAgICAgfSkpXG4gICAgICB9KSldXG4gICAgfSldXG4gIH0pKTtcbn07XG5cbmNvbnN0IFdhbGxldENvbm5lY3RlZCA9ICh7XG4gIG1vZHVsZSxcbiAgb25DbG9zZU1vZGFsXG59KSA9PiB7XG4gIHJldHVybiBqc3hzKEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3NOYW1lOiBcIm53cy1tb2RhbC1oZWFkZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiaDNcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtaWRkbGVUaXRsZVwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBgYFxuICAgICAgfSkpLCBqc3goQ2xvc2VCdXR0b24sIHtcbiAgICAgICAgb25DbGljazogb25DbG9zZU1vZGFsXG4gICAgICB9KV1cbiAgICB9KSksIGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJjb25uZWN0aW5nLXdyYXBwZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwiY29udGVudFwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiaWNvblwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiZ3JlZW4tZG90XCJcbiAgICAgICAgICB9KSwganN4KFwiaW1nXCIsIHtcbiAgICAgICAgICAgIHNyYzogbW9kdWxlID09PSBudWxsIHx8IG1vZHVsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kdWxlLm1ldGFkYXRhLmljb25VcmwsXG4gICAgICAgICAgICBhbHQ6IG1vZHVsZSA9PT0gbnVsbCB8fCBtb2R1bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1vZHVsZS5tZXRhZGF0YS5uYW1lXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pKSwganN4KFwiaDNcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImNvbm5lY3RpbmctbmFtZVwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjaGlsZHJlbjogbW9kdWxlID09PSBudWxsIHx8IG1vZHVsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbW9kdWxlLm1ldGFkYXRhLm5hbWVcbiAgICAgICAgfSkpLCBqc3hzKFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJ3YWxsZXQtY29ubmVjdGVkLXN1Y2Nlc3NcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IFtqc3goQ29ubmVjdGlvblN1Y2Nlc3NJY29uLCB7fSksIGpzeChcInNwYW5cIiwge1xuICAgICAgICAgICAgY2hpbGRyZW46IHRyYW5zbGF0ZShcIm1vZGFsLndhbGxldC5jb25uZWN0aW9uU3VjY2Vzc2Z1bFwiKVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KSldXG4gICAgICB9KSlcbiAgICB9KSldXG4gIH0pO1xufTtcblxudmFyIGFuT2JqZWN0JDEgPSBhbk9iamVjdCRjO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS5mbGFnc2AgZ2V0dGVyIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1yZWdleHAucHJvdG90eXBlLmZsYWdzXG52YXIgcmVnZXhwRmxhZ3MgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0aGF0ID0gYW5PYmplY3QkMSh0aGlzKTtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAodGhhdC5oYXNJbmRpY2VzKSByZXN1bHQgKz0gJ2QnO1xuICBpZiAodGhhdC5nbG9iYWwpIHJlc3VsdCArPSAnZyc7XG4gIGlmICh0aGF0Lmlnbm9yZUNhc2UpIHJlc3VsdCArPSAnaSc7XG4gIGlmICh0aGF0Lm11bHRpbGluZSkgcmVzdWx0ICs9ICdtJztcbiAgaWYgKHRoYXQuZG90QWxsKSByZXN1bHQgKz0gJ3MnO1xuICBpZiAodGhhdC51bmljb2RlKSByZXN1bHQgKz0gJ3UnO1xuICBpZiAodGhhdC51bmljb2RlU2V0cykgcmVzdWx0ICs9ICd2JztcbiAgaWYgKHRoYXQuc3RpY2t5KSByZXN1bHQgKz0gJ3knO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIGNhbGwgPSBmdW5jdGlvbkNhbGw7XG52YXIgaGFzT3duID0gaGFzT3duUHJvcGVydHlfMTtcbnZhciBpc1Byb3RvdHlwZU9mID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbnZhciByZWdFeHBGbGFncyA9IHJlZ2V4cEZsYWdzO1xuXG52YXIgUmVnRXhwUHJvdG90eXBlJDEgPSBSZWdFeHAucHJvdG90eXBlO1xuXG52YXIgcmVnZXhwR2V0RmxhZ3MgPSBmdW5jdGlvbiAoUikge1xuICB2YXIgZmxhZ3MgPSBSLmZsYWdzO1xuICByZXR1cm4gZmxhZ3MgPT09IHVuZGVmaW5lZCAmJiAhKCdmbGFncycgaW4gUmVnRXhwUHJvdG90eXBlJDEpICYmICFoYXNPd24oUiwgJ2ZsYWdzJykgJiYgaXNQcm90b3R5cGVPZihSZWdFeHBQcm90b3R5cGUkMSwgUilcbiAgICA/IGNhbGwocmVnRXhwRmxhZ3MsIFIpIDogZmxhZ3M7XG59O1xuXG52YXIgUFJPUEVSX0ZVTkNUSU9OX05BTUUgPSBmdW5jdGlvbk5hbWUuUFJPUEVSO1xudmFyIGRlZmluZUJ1aWx0SW4gPSBkZWZpbmVCdWlsdEluJDY7XG52YXIgYW5PYmplY3QgPSBhbk9iamVjdCRjO1xudmFyICR0b1N0cmluZyA9IHRvU3RyaW5nJDM7XG52YXIgZmFpbHMgPSBmYWlscyRoO1xudmFyIGdldFJlZ0V4cEZsYWdzID0gcmVnZXhwR2V0RmxhZ3M7XG5cbnZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xudmFyIFJlZ0V4cFByb3RvdHlwZSA9IFJlZ0V4cC5wcm90b3R5cGU7XG52YXIgbiRUb1N0cmluZyA9IFJlZ0V4cFByb3RvdHlwZVtUT19TVFJJTkddO1xuXG52YXIgTk9UX0dFTkVSSUMgPSBmYWlscyhmdW5jdGlvbiAoKSB7IHJldHVybiBuJFRvU3RyaW5nLmNhbGwoeyBzb3VyY2U6ICdhJywgZmxhZ3M6ICdiJyB9KSAhPSAnL2EvYic7IH0pO1xuLy8gRkY0NC0gUmVnRXhwI3RvU3RyaW5nIGhhcyBhIHdyb25nIG5hbWVcbnZhciBJTkNPUlJFQ1RfTkFNRSA9IFBST1BFUl9GVU5DVElPTl9OQU1FICYmIG4kVG9TdHJpbmcubmFtZSAhPSBUT19TVFJJTkc7XG5cbi8vIGBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuaWYgKE5PVF9HRU5FUklDIHx8IElOQ09SUkVDVF9OQU1FKSB7XG4gIGRlZmluZUJ1aWx0SW4oUmVnRXhwLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICB2YXIgUiA9IGFuT2JqZWN0KHRoaXMpO1xuICAgIHZhciBwYXR0ZXJuID0gJHRvU3RyaW5nKFIuc291cmNlKTtcbiAgICB2YXIgZmxhZ3MgPSAkdG9TdHJpbmcoZ2V0UmVnRXhwRmxhZ3MoUikpO1xuICAgIHJldHVybiAnLycgKyBwYXR0ZXJuICsgJy8nICsgZmxhZ3M7XG4gIH0sIHsgdW5zYWZlOiB0cnVlIH0pO1xufVxuXG5jb25zdCBDb3B5SWNvbiA9ICgpID0+IGpzeHMoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gIHdpZHRoOiAyNCxcbiAgaGVpZ2h0OiAyNCxcbiAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgZmlsbDogXCJub25lXCIsXG4gIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbn0sIHtcbiAgY2hpbGRyZW46IFtqc3goXCJwYXRoXCIsIHtcbiAgICBkOiBcIk02LjUgMTUuMjVhMS43NSAxLjc1IDAgMCAxLTEuNzUtMS43NVY2Ljc1YTIgMiAwIDAgMSAyLTJoNi43NWMuOTY2IDAgMS43NS43ODQgMS43NSAxLjc1XCIsXG4gICAgc3Ryb2tlOiBcIiM0RjdDRDFcIixcbiAgICBzdHJva2VXaWR0aDogMS41LFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH0pLCBqc3goXCJwYXRoXCIsIHtcbiAgICBkOiBcIk04Ljc1IDEwLjc1YTIgMiAwIDAgMSAyLTJoNi41YTIgMiAwIDAgMSAyIDJ2Ni41YTIgMiAwIDAgMS0yIDJoLTYuNWEyIDIgMCAwIDEtMi0ydi02LjVaXCIsXG4gICAgc3Ryb2tlOiBcIiM0RjdDRDFcIixcbiAgICBzdHJva2VXaWR0aDogMS41LFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG4gIH0pXVxufSkpO1xuXG5mdW5jdGlvbiBmb3JtYXRRUkNvZGVJbWFnZShkYXRhKSB7XG4gIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgcmV0dXJuIHlpZWxkIFFSQ29kZS50b1N0cmluZyhkYXRhLCB7XG4gICAgICBtYXJnaW46IDAsXG4gICAgICB0eXBlOiBcInN2Z1wiXG4gICAgfSk7XG4gIH0pO1xufVxuY29uc3QgU2NhblFSQ29kZSA9ICh7XG4gIHdhbGxldCxcbiAgdXJpLFxuICBvbkNsb3NlTW9kYWwsXG4gIGhhbmRsZU9wZW5EZWZhdWx0TW9kYWxcbn0pID0+IHtcbiAgY29uc3QgW25vdGlmaWNhdGlvbiwgc2V0Tm90aWZpY2F0aW9uXSA9IFJlYWN0LnVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc3ZnLCBzZXRTdmddID0gUmVhY3QudXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICgpID0+IHtcbiAgICBpZiAoIXVyaSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdWNjZXNzID0gY29weSh1cmkpO1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBzZXROb3RpZmljYXRpb24odHJhbnNsYXRlKFwibW9kYWwucXIuY29waWVkVG9DbGlwYm9hcmRcIikpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXROb3RpZmljYXRpb24oXCJcIiksIDEyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXROb3RpZmljYXRpb24odHJhbnNsYXRlKFwibW9kYWwucXIuZmFpbGVkVG9Db3B5XCIpKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0Tm90aWZpY2F0aW9uKFwiXCIpLCAxMjAwKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKCgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKHVyaSkge1xuICAgICAgICBzZXRTdmcoeWllbGQgZm9ybWF0UVJDb2RlSW1hZ2UodXJpKSk7XG4gICAgICB9XG4gICAgfSkpKCk7XG4gIH0sIFt1cmldKTtcbiAgcmV0dXJuIGpzeHMoXCJzZWN0aW9uXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIGNsYXNzTmFtZTogXCJzY2FuLXFyLWNvZGVcIlxuICB9LCB7XG4gICAgY2hpbGRyZW46IFtqc3goTW9kYWxIZWFkZXIsIHtcbiAgICAgIHRpdGxlOiB0cmFuc2xhdGUoXCJtb2RhbC5xci5zY2FuV2l0aFlvdXJNb2JpbGVcIiksXG4gICAgICBvbkNsb3NlTW9kYWw6IG9uQ2xvc2VNb2RhbFxuICAgIH0pLCBqc3hzKFwic2VjdGlvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJxci1jb2RlXCJcbiAgICB9LCB7XG4gICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgX19odG1sOiBzdmdcbiAgICAgICAgfVxuICAgICAgfSksIG5vdGlmaWNhdGlvbiA/IGpzeChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlmaWNhdGlvblwiXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiBub3RpZmljYXRpb25cbiAgICAgIH0pKSA6IGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjb3B5LWJ0blwiLFxuICAgICAgICBvbkNsaWNrOiBjb3B5VG9DbGlwYm9hcmRcbiAgICAgIH0sIHtcbiAgICAgICAgY2hpbGRyZW46IFtqc3goQ29weUljb24sIHt9KSwgdHJhbnNsYXRlKFwibW9kYWwucXIuY29weVRvQ2xpcGJvYXJkXCIpXVxuICAgICAgfSkpXVxuICAgIH0pKSwganN4cyhcImZvb3RlclwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsYXNzTmFtZTogXCJmb290ZXJcIlxuICAgIH0sIHtcbiAgICAgIGNoaWxkcmVuOiBbanN4cyhcInBcIiwge1xuICAgICAgICBjaGlsZHJlbjogW3RyYW5zbGF0ZShcIm1vZGFsLnFyLnByZWZlclRoZU9mZmljaWFsXCIpLCBcIiBcIiwgd2FsbGV0Lm1ldGFkYXRhLm5hbWUsIFwiP1wiXVxuICAgICAgfSksIGpzeChcImJ1dHRvblwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJ0blwiLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVPcGVuRGVmYXVsdE1vZGFsXG4gICAgICB9LCB7XG4gICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC5xci5vcGVuXCIpXG4gICAgICB9KSldXG4gICAgfSkpXVxuICB9KSk7XG59O1xuXG5jb25zdCBnZXRUaGVtZUNsYXNzID0gdGhlbWUgPT4ge1xuICBzd2l0Y2ggKHRoZW1lKSB7XG4gICAgY2FzZSBcImRhcmtcIjpcbiAgICAgIHJldHVybiBcImRhcmstdGhlbWVcIjtcbiAgICBjYXNlIFwibGlnaHRcIjpcbiAgICAgIHJldHVybiBcImxpZ2h0LXRoZW1lXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIlwiO1xuICB9XG59O1xuY29uc3QgTW9kYWwgPSAoe1xuICBzZWxlY3RvcixcbiAgb3B0aW9ucyxcbiAgdmlzaWJsZSxcbiAgaGlkZSxcbiAgZW1pdHRlclxufSkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgW3JvdXRlLCBzZXRSb3V0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogXCJXYWxsZXRIb21lXCJcbiAgfSk7XG4gIGNvbnN0IFthbGVydE1lc3NhZ2UsIHNldEFsZXJ0TWVzc2FnZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkV2FsbGV0LCBzZXRTZWxlY3RlZFdhbGxldF0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbYnJpZGdlV2FsbGV0VXJpLCBzZXRCcmlkZ2VXYWxsZXRVcmldID0gdXNlU3RhdGUoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRSb3V0ZSh7XG4gICAgICBuYW1lOiBcIldhbGxldEhvbWVcIlxuICAgIH0pO1xuICAgIGFsbG93T25seUxhbmd1YWdlKHNlbGVjdG9yLm9wdGlvbnMubGFuZ3VhZ2VDb2RlKTtcbiAgICBjb25zdCB7XG4gICAgICBzZWxlY3RlZFdhbGxldElkLFxuICAgICAgbW9kdWxlc1xuICAgIH0gPSBzZWxlY3Rvci5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGlmIChzZWxlY3RlZFdhbGxldElkKSB7XG4gICAgICBjb25zdCBtb2R1bGUgPSBtb2R1bGVzLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZFdhbGxldElkKTtcbiAgICAgIHNldFNlbGVjdGVkV2FsbGV0KG1vZHVsZSk7XG4gICAgICBzZXRSb3V0ZSh7XG4gICAgICAgIG5hbWU6IFwiV2FsbGV0Q29ubmVjdGVkXCIsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG1vZHVsZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgc2V0QnJpZGdlV2FsbGV0VXJpKFwiXCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICB9LCBbdmlzaWJsZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHNlbGVjdG9yLm9uKFwibmV0d29ya0NoYW5nZWRcIiwgKHtcbiAgICAgIG5ldHdvcmtJZFxuICAgIH0pID0+IHtcbiAgICAgIC8vIFN3aXRjaGVkIGJhY2sgdG8gdGhlIGNvcnJlY3QgbmV0d29yay5cbiAgICAgIGlmIChuZXR3b3JrSWQgPT09IHNlbGVjdG9yLm9wdGlvbnMubmV0d29yay5uZXR3b3JrSWQpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZURpc21pc3NDbGljayh7fSk7XG4gICAgICB9XG4gICAgICBzZXRSb3V0ZSh7XG4gICAgICAgIG5hbWU6IFwiV2FsbGV0TmV0d29ya0NoYW5nZWRcIlxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi5yZW1vdmUoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcbiAgY29uc3QgaGFuZGxlRGlzbWlzc0NsaWNrID0gdXNlQ2FsbGJhY2soKHtcbiAgICBoaWRlUmVhc29uXG4gIH0pID0+IHtcbiAgICBzZXRBbGVydE1lc3NhZ2UobnVsbCk7XG4gICAgc2V0Um91dGUoe1xuICAgICAgbmFtZTogXCJXYWxsZXRIb21lXCJcbiAgICB9KTtcbiAgICBpZiAoaGlkZVJlYXNvbiA9PT0gXCJ1c2VyLXRyaWdnZXJlZFwiKSB7XG4gICAgICBlbWl0dGVyLmVtaXQoXCJvbkhpZGVcIiwge1xuICAgICAgICBoaWRlUmVhc29uXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGhpZGVSZWFzb24gPT09IFwid2FsbGV0LW5hdmlnYXRpb25cIikge1xuICAgICAgZW1pdHRlci5lbWl0KFwib25IaWRlXCIsIHtcbiAgICAgICAgaGlkZVJlYXNvblxuICAgICAgfSk7XG4gICAgfVxuICAgIGhpZGUoKTtcbiAgfSwgW2hpZGUsIGVtaXR0ZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjbG9zZSA9IGUgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIGhhbmRsZURpc21pc3NDbGljayh7XG4gICAgICAgICAgaGlkZVJlYXNvbjogXCJ1c2VyLXRyaWdnZXJlZFwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlKTtcbiAgfSwgW2hhbmRsZURpc21pc3NDbGlja10pO1xuICBjb25zdCBoYW5kbGVXYWxsZXRDbGljayA9IChtb2R1bGUsIHFyQ29kZU1vZGFsKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBzZXRTZWxlY3RlZFdhbGxldChtb2R1bGUpO1xuICAgIGNvbnN0IHtcbiAgICAgIHNlbGVjdGVkV2FsbGV0SWRcbiAgICB9ID0gc2VsZWN0b3Iuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoc2VsZWN0ZWRXYWxsZXRJZCA9PT0gbW9kdWxlLmlkKSB7XG4gICAgICBzZXRSb3V0ZSh7XG4gICAgICAgIG5hbWU6IFwiV2FsbGV0Q29ubmVjdGVkXCIsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG1vZHVsZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZGVwcmVjYXRlZCxcbiAgICAgICAgYXZhaWxhYmxlXG4gICAgICB9ID0gbW9kdWxlLm1ldGFkYXRhO1xuICAgICAgaWYgKG1vZHVsZS50eXBlID09PSBcImluamVjdGVkXCIgJiYgIWF2YWlsYWJsZSkge1xuICAgICAgICBzZXRSb3V0ZSh7XG4gICAgICAgICAgbmFtZTogXCJXYWxsZXROb3RJbnN0YWxsZWRcIixcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIG1vZHVsZTogbW9kdWxlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgd2FsbGV0ID0geWllbGQgbW9kdWxlLndhbGxldCgpO1xuICAgICAgaWYgKGRlcHJlY2F0ZWQpIHtcbiAgICAgICAgc2V0QWxlcnRNZXNzYWdlKGAke21vZHVsZS5tZXRhZGF0YS5uYW1lfSBpcyBkZXByZWNhdGVkLiBQbGVhc2Ugc2VsZWN0IGFub3RoZXIgd2FsbGV0LmApO1xuICAgICAgICBzZXRSb3V0ZSh7XG4gICAgICAgICAgbmFtZTogXCJBbGVydE1lc3NhZ2VcIixcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIG1vZHVsZTogbW9kdWxlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHdhbGxldC50eXBlID09PSBcImhhcmR3YXJlXCIpIHtcbiAgICAgICAgc2V0Um91dGUoe1xuICAgICAgICAgIG5hbWU6IFwiRGVyaXZhdGlvblBhdGhcIixcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHdhbGxldElkOiB3YWxsZXQuaWQgfHwgXCJsZWRnZXJcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldFJvdXRlKHtcbiAgICAgICAgbmFtZTogXCJXYWxsZXRDb25uZWN0aW5nXCIsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHdhbGxldDogd2FsbGV0XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHdhbGxldC50eXBlID09PSBcImJyaWRnZVwiKSB7XG4gICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHNlbGVjdG9yLm9uKFwidXJpQ2hhbmdlZFwiLCAoe1xuICAgICAgICAgIHVyaVxuICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgc2V0QnJpZGdlV2FsbGV0VXJpKHVyaSk7XG4gICAgICAgICAgc2V0Um91dGUoe1xuICAgICAgICAgICAgbmFtZTogXCJTY2FuUVJDb2RlXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgdXJpLFxuICAgICAgICAgICAgICB3YWxsZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHlpZWxkIHdhbGxldC5zaWduSW4oe1xuICAgICAgICAgIGNvbnRyYWN0SWQ6IG9wdGlvbnMuY29udHJhY3RJZCxcbiAgICAgICAgICBtZXRob2ROYW1lczogb3B0aW9ucy5tZXRob2ROYW1lcyxcbiAgICAgICAgICBxckNvZGVNb2RhbFxuICAgICAgICB9KTtcbiAgICAgICAgc3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuICAgICAgICBoYW5kbGVEaXNtaXNzQ2xpY2soe1xuICAgICAgICAgIGhpZGVSZWFzb246IFwid2FsbGV0LW5hdmlnYXRpb25cIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHdhbGxldC50eXBlID09PSBcImJyb3dzZXJcIikge1xuICAgICAgICB5aWVsZCB3YWxsZXQuc2lnbkluKHtcbiAgICAgICAgICBjb250cmFjdElkOiBvcHRpb25zLmNvbnRyYWN0SWQsXG4gICAgICAgICAgbWV0aG9kTmFtZXM6IG9wdGlvbnMubWV0aG9kTmFtZXMsXG4gICAgICAgICAgc3VjY2Vzc1VybDogd2FsbGV0Lm1ldGFkYXRhLnN1Y2Nlc3NVcmwsXG4gICAgICAgICAgZmFpbHVyZVVybDogd2FsbGV0Lm1ldGFkYXRhLmZhaWx1cmVVcmxcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZURpc21pc3NDbGljayh7XG4gICAgICAgICAgaGlkZVJlYXNvbjogXCJ3YWxsZXQtbmF2aWdhdGlvblwiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB5aWVsZCB3YWxsZXQuc2lnbkluKHtcbiAgICAgICAgY29udHJhY3RJZDogb3B0aW9ucy5jb250cmFjdElkLFxuICAgICAgICBtZXRob2ROYW1lczogb3B0aW9ucy5tZXRob2ROYW1lc1xuICAgICAgfSk7XG4gICAgICBoYW5kbGVEaXNtaXNzQ2xpY2soe1xuICAgICAgICBoaWRlUmVhc29uOiBcIndhbGxldC1uYXZpZ2F0aW9uXCJcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3Qge1xuICAgICAgICBuYW1lXG4gICAgICB9ID0gbW9kdWxlLm1ldGFkYXRhO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGVyciAmJiB0eXBlb2YgZXJyID09PSBcIm9iamVjdFwiICYmIFwibWVzc2FnZVwiIGluIGVyciA/IGVyci5tZXNzYWdlIDogXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiO1xuICAgICAgc2V0QWxlcnRNZXNzYWdlKGBGYWlsZWQgdG8gc2lnbiBpbiB3aXRoICR7bmFtZX06ICR7bWVzc2FnZX1gKTtcbiAgICAgIHNldFJvdXRlKHtcbiAgICAgICAgbmFtZTogXCJBbGVydE1lc3NhZ2VcIixcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgbW9kdWxlOiBtb2R1bGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCF2aXNpYmxlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgY2xhc3NOYW1lOiBgbndzLW1vZGFsLXdyYXBwZXIgJHtnZXRUaGVtZUNsYXNzKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50aGVtZSl9ICR7dmlzaWJsZSA/IFwib3BlblwiIDogXCJcIn1gXG4gIH0sIHtcbiAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibndzLW1vZGFsLW92ZXJsYXlcIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgaGFuZGxlRGlzbWlzc0NsaWNrKHtcbiAgICAgICAgICBoaWRlUmVhc29uOiBcInVzZXItdHJpZ2dlcmVkXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksIGpzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICBjbGFzc05hbWU6IFwibndzLW1vZGFsXCJcbiAgICB9LCB7XG4gICAgICBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNsYXNzTmFtZTogXCJtb2RhbC1sZWZ0XCJcbiAgICAgIH0sIHtcbiAgICAgICAgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm1vZGFsLWxlZnQtdGl0bGVcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IGpzeChcImgyXCIsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0cmFuc2xhdGUoXCJtb2RhbC53YWxsZXQuY29ubmVjdFlvdXJXYWxsZXRcIilcbiAgICAgICAgICB9KVxuICAgICAgICB9KSksIGpzeChXYWxsZXRPcHRpb25zLCB7XG4gICAgICAgICAgaGFuZGxlV2FsbGV0Q2xpY2s6IG1vZHVsZSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVXYWxsZXRDbGljayhtb2R1bGUsIGZhbHNlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvclxuICAgICAgICB9KV1cbiAgICAgIH0pKSwganN4KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjbGFzc05hbWU6IFwibW9kYWwtcmlnaHRcIlxuICAgICAgfSwge1xuICAgICAgICBjaGlsZHJlbjoganN4cyhcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibndzLW1vZGFsLWJvZHlcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2hpbGRyZW46IFtyb3V0ZS5uYW1lID09PSBcIkFsZXJ0TWVzc2FnZVwiICYmIGFsZXJ0TWVzc2FnZSAmJiBqc3goQWxlcnRNZXNzYWdlLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiBhbGVydE1lc3NhZ2UsXG4gICAgICAgICAgICBtb2R1bGU6IChfYSA9IHJvdXRlLnBhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1vZHVsZSxcbiAgICAgICAgICAgIG9uQmFjazogcmV0cnkgPT4ge1xuICAgICAgICAgICAgICBpZiAocmV0cnkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVXYWxsZXRDbGljayhzZWxlY3RlZFdhbGxldCwgZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldEFsZXJ0TWVzc2FnZShudWxsKTtcbiAgICAgICAgICAgICAgc2V0Um91dGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiV2FsbGV0SG9tZVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xvc2VNb2RhbDogKCkgPT4gaGFuZGxlRGlzbWlzc0NsaWNrKHtcbiAgICAgICAgICAgICAgaGlkZVJlYXNvbjogXCJ1c2VyLXRyaWdnZXJlZFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLCByb3V0ZS5uYW1lID09PSBcIkRlcml2YXRpb25QYXRoXCIgJiYganN4KERlcml2YXRpb25QYXRoLCB7XG4gICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgb25Db25uZWN0ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgaGFuZGxlRGlzbWlzc0NsaWNrKHtcbiAgICAgICAgICAgICAgICBoaWRlUmVhc29uOiBcIndhbGxldC1uYXZpZ2F0aW9uXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyYW1zOiByb3V0ZS5wYXJhbXMsXG4gICAgICAgICAgICBvbkJhY2s6ICgpID0+IHNldFJvdXRlKHtcbiAgICAgICAgICAgICAgbmFtZTogXCJXYWxsZXRIb21lXCJcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25FcnJvcjogKG1lc3NhZ2UsIHdhbGxldCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlc1xuICAgICAgICAgICAgICB9ID0gc2VsZWN0b3Iuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgY29uc3QgZmluZE1vZHVsZSA9IG1vZHVsZXMuZmluZChtb2R1bGUgPT4gbW9kdWxlLmlkID09PSB3YWxsZXQuaWQpO1xuICAgICAgICAgICAgICBzZXRBbGVydE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICAgIHNldFJvdXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkFsZXJ0TWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlOiBmaW5kTW9kdWxlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsb3NlTW9kYWw6ICgpID0+IGhhbmRsZURpc21pc3NDbGljayh7XG4gICAgICAgICAgICAgIGhpZGVSZWFzb246IFwidXNlci10cmlnZ2VyZWRcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSwgcm91dGUubmFtZSA9PT0gXCJXYWxsZXROZXR3b3JrQ2hhbmdlZFwiICYmIGpzeChXYWxsZXROZXR3b3JrQ2hhbmdlZCwge1xuICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICAgICAgb25CYWNrOiAoKSA9PiBzZXRSb3V0ZSh7XG4gICAgICAgICAgICAgIG5hbWU6IFwiV2FsbGV0SG9tZVwiXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uQ2xvc2VNb2RhbDogKCkgPT4gaGFuZGxlRGlzbWlzc0NsaWNrKHtcbiAgICAgICAgICAgICAgaGlkZVJlYXNvbjogXCJ1c2VyLXRyaWdnZXJlZFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLCByb3V0ZS5uYW1lID09PSBcIldhbGxldE5vdEluc3RhbGxlZFwiICYmIGpzeChXYWxsZXROb3RJbnN0YWxsZWQsIHtcbiAgICAgICAgICAgIG1vZHVsZTogKF9iID0gcm91dGUucGFyYW1zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubW9kdWxlLFxuICAgICAgICAgICAgb25CYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgIHNldFJvdXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIldhbGxldEhvbWVcIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsb3NlTW9kYWw6ICgpID0+IGhhbmRsZURpc21pc3NDbGljayh7XG4gICAgICAgICAgICAgIGhpZGVSZWFzb246IFwidXNlci10cmlnZ2VyZWRcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSwgcm91dGUubmFtZSA9PT0gXCJXYWxsZXRDb25uZWN0aW5nXCIgJiYganN4KFdhbGxldENvbm5lY3RpbmcsIHtcbiAgICAgICAgICAgIHdhbGxldDogKF9jID0gcm91dGUucGFyYW1zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Mud2FsbGV0LFxuICAgICAgICAgICAgb25CYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgIHNldFJvdXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIldhbGxldEhvbWVcIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsb3NlTW9kYWw6ICgpID0+IGhhbmRsZURpc21pc3NDbGljayh7XG4gICAgICAgICAgICAgIGhpZGVSZWFzb246IFwidXNlci10cmlnZ2VyZWRcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSwgcm91dGUubmFtZSA9PT0gXCJXYWxsZXRIb21lXCIgJiYganN4KFdhbGxldEhvbWUsIHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICAgIG9uQ2xvc2VNb2RhbDogKCkgPT4gaGFuZGxlRGlzbWlzc0NsaWNrKHtcbiAgICAgICAgICAgICAgaGlkZVJlYXNvbjogXCJ1c2VyLXRyaWdnZXJlZFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLCByb3V0ZS5uYW1lID09PSBcIldhbGxldENvbm5lY3RlZFwiICYmIGpzeChXYWxsZXRDb25uZWN0ZWQsIHtcbiAgICAgICAgICAgIG1vZHVsZTogc2VsZWN0ZWRXYWxsZXQsXG4gICAgICAgICAgICBvbkNsb3NlTW9kYWw6ICgpID0+IGhhbmRsZURpc21pc3NDbGljayh7XG4gICAgICAgICAgICAgIGhpZGVSZWFzb246IFwidXNlci10cmlnZ2VyZWRcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSwgcm91dGUubmFtZSA9PT0gXCJTY2FuUVJDb2RlXCIgJiYganN4KFNjYW5RUkNvZGUsIHtcbiAgICAgICAgICAgIGhhbmRsZU9wZW5EZWZhdWx0TW9kYWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgaGFuZGxlV2FsbGV0Q2xpY2soc2VsZWN0ZWRXYWxsZXQsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xvc2VNb2RhbDogKCkgPT4gaGFuZGxlRGlzbWlzc0NsaWNrKHtcbiAgICAgICAgICAgICAgaGlkZVJlYXNvbjogXCJ1c2VyLXRyaWdnZXJlZFwiXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHVyaTogYnJpZGdlV2FsbGV0VXJpLFxuICAgICAgICAgICAgd2FsbGV0OiBzZWxlY3RlZFdhbGxldFxuICAgICAgICAgIH0pXVxuICAgICAgICB9KSlcbiAgICAgIH0pKV1cbiAgICB9KSldXG4gIH0pKTtcbn07XG5cbmNvbnN0IE1PREFMX0VMRU1FTlRfSUQgPSBcIm5lYXItd2FsbGV0LXNlbGVjdG9yLW1vZGFsXCI7XG5sZXQgbW9kYWxJbnN0YW5jZSA9IG51bGw7XG5sZXQgcm9vdCA9IG51bGw7XG4vKipcclxuICogSW5pdGlhdGVzIGEgbW9kYWwgaW5zdGFuY2VcclxuICogQHBhcmFtIHtXYWxsZXRTZWxlY3Rvcn0gc2VsZWN0b3IgU2VsZWN0b3JcclxuICogQHBhcmFtIHtNb2RhbE9wdGlvbnN9IG9wdGlvbnMgTW9kYWwgb3B0aW9uc1xyXG4gKiBAcmV0dXJucyB7V2FsbGV0U2VsZWN0b3JNb2RhbH0gUmV0dXJucyBhIFdhbGxldFNlbGVjdG9yTW9kYWwgb2JqZWN0XHJcbiAqL1xuY29uc3Qgc2V0dXBNb2RhbCA9IChzZWxlY3Rvciwgb3B0aW9ucykgPT4ge1xuICBpZiAoIXJvb3QpIHtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnRhaW5lci5pZCA9IE1PREFMX0VMRU1FTlRfSUQ7XG4gICAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIHJvb3QgPSBjcmVhdGVSb290KGNvbnRhaW5lcik7XG4gIH1cbiAgY29uc3QgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgc2VsZWN0b3Iuc3RvcmUuZ2V0U3RhdGUoKS5tb2R1bGVzLmZvckVhY2gobW9kdWxlID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGlmIChcInRvcExldmVsSW5qZWN0ZWRcIiBpbiBtb2R1bGUubWV0YWRhdGEpIHtcbiAgICAgIGlmICghbW9kdWxlLm1ldGFkYXRhLnRvcExldmVsSW5qZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgd2FsbGV0ID0geWllbGQgbW9kdWxlLndhbGxldCgpO1xuICAgICAgaWYgKHdhbGxldC50eXBlICE9PSBcImluamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgeWllbGQgd2FsbGV0LnNpZ25Jbih7XG4gICAgICAgIGNvbnRyYWN0SWQ6IG9wdGlvbnMuY29udHJhY3RJZCxcbiAgICAgICAgbWV0aG9kTmFtZXM6IG9wdGlvbnMubWV0aG9kTmFtZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSkpO1xuICBjb25zdCByZW5kZXIgPSAodmlzaWJsZSA9IGZhbHNlKSA9PiB7XG4gICAgcm9vdC5yZW5kZXIoanN4KE1vZGFsLCB7XG4gICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgIGhpZGU6ICgpID0+IHJlbmRlcihmYWxzZSksXG4gICAgICBlbWl0dGVyOiBlbWl0dGVyXG4gICAgfSkpO1xuICB9O1xuICBpZiAoIW1vZGFsSW5zdGFuY2UpIHtcbiAgICBtb2RhbEluc3RhbmNlID0ge1xuICAgICAgc2hvdzogKCkgPT4ge1xuICAgICAgICByZW5kZXIodHJ1ZSk7XG4gICAgICB9LFxuICAgICAgaGlkZTogKCkgPT4ge1xuICAgICAgICByZW5kZXIoZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIG9uOiAoZXZlbnROYW1lLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICByZXR1cm4gZW1pdHRlci5vbihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG4gICAgICBvZmY6IChldmVudE5hbWUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGVtaXR0ZXIub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG59O1xuXG5leHBvcnQgeyBzZXR1cE1vZGFsIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@near-wallet-selector+modal-ui@8.9.7_near-api-js@3.0.4/node_modules/@near-wallet-selector/modal-ui/index.js\n");

/***/ })

};
;